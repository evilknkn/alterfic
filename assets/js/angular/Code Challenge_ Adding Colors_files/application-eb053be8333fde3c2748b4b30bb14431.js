this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_correct"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text">'),s.b(s.t(s.f("alert_success_icon",t,e,0))),s.b(" <strong>Nice!</strong> "),s.b(s.v(s.f("feedback",t,e,0))),s.b("</p>"),s.b("\n"+i),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.b('  <a class="button secondary hide-results" data-task-number="'),s.b(s.v(s.f("currentTask",t,e,0))),s.b('">Hide Results</a>'),s.b("\n"+i),s.b('  <a class="button primary cc-goto">Next Task</a>'),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_neutral"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.b('  <button id="ask-question" class="button secondary" data-featurette="async-modal-trigger" data-src="'),s.b(s.t(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-stack="true" data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i),s.b('  <button class="button primary cc-test" data-task="'),s.b(s.v(s.f("task",t,e,0))),s.b('" data-default-text="Check Work">Check Work</a>'),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_feedback_wrong"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text">'),s.b(s.t(s.f("alert_error_icon",t,e,0))),s.b(" <strong>Bummer!</strong> "),s.b(s.v(s.f("feedback",t,e,0))),s.b("</p>"),s.b("\n"+i),s.b('<div class="box-action-buttons" data-featurette="analytics-click-event" data-target="button[data-ask-question]" data-event-category="button" data-event-action="Opened Ask a Question Modal" data-event-label="Source: Feedback Bar on Command Challenges">'),s.b("\n"+i),s.b('  <button id="ask-question" class="button" data-featurette="async-modal-trigger" data-src="'),s.b(s.t(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-stack="true" data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i),s.b('  <a class="button primary cc-test" data-default-text="Try Again">Try Again</a>'),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_results"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<iframe id="results-'),s.b(s.v(s.f("currentTask",t,e,0))),s.b('" class="command-results" src="'),s.b(s.v(s.f("url",t,e,0))),s.b('"></iframe>'),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/command_task"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div id="cc-container" class="mixed-box task_view">'),s.b("\n"+i),s.b('  <div id="cc-instructions" class="box-header">'),s.b("\n"+i),s.b('    <h2 id="task-count">Challenge Task '),s.b(s.v(s.f("currentTask",t,e,0))),s.b(" of "),s.b(s.v(s.f("totalTasks",t,e,0))),s.b("</h2>"),s.b("\n"+i),s.b('    <h1 id="task" class="markdown-zone">'),s.b(s.t(s.d("taskData.body",t,e,0))),s.b("</h1>"),s.b("\n"+i),s.b('    <p id="task-notes">Type in your command below, then press Enter.</p>'),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i),s.b('  <div id="cc-feedback" data-feedback></div>'),s.b("\n"+i),s.b('  <div id="cc-editor" class="box-footer" data-editor>'),s.b("\n"+i),s.b('    <div class="workspace">'),s.b("\n"+i),s.b('      <div class="cc-workspace">'),s.b("\n"+i),s.b('        <div class="cc-editor-container">'),s.b("\n"+i),s.b('          <div class="terminal"></div>'),s.b("\n"+i),s.b("        </div>"),s.b("\n"+i),s.b("      </div>"),s.b("\n"+i),s.b("    </div>"),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_correct"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text">'),s.b(s.t(s.f("alert_success_icon",t,e,0))),s.b(" <strong>Well done!</strong> "),s.b(s.v(s.f("feedback",t,e,0))),s.b("</p>"),s.b("\n"+i),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.b('  <a class="button primary icon-on-right cc-goto" data-task="'),s.b(s.v(s.f("nextTask",t,e,0))),s.b('">Next task '),s.b(s.t(s.f("next",t,e,0))),s.b("</a>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_degree_exam"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("nextStep",t,e,1),t,e,0,13,268,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('  <p class="box-action-text">'),s.b("\n"+i),s.b("    You're done with this challenge. Let's get started on next one!"),s.b("\n"+i),s.b("  </p>"),s.b("\n"+i),s.b('  <div class="box-action-buttons">'),s.b("\n"+i),s.b('    <a href="'),s.b(s.v(s.f("nextStep",t,e,0))),s.b('"class="button primary icon-on-right">'),s.b("\n"+i),s.b("      Next challenge "),s.b(s.t(s.f("next",t,e,0))),s.b("\n"+i),s.b("    </a>"),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i)}),t.pop()),s.s(s.f("nextStep",t,e,1),t,e,1,0,0,"")||(s.b('  <p class="box-action-text">'),s.b("\n"+i),s.b("    "),s.b(s.t(s.f("alert_success_icon",t,e,0))),s.b("\n"+i),s.b("    <strong>Congrats!</strong> You're done with the exam!"),s.b("\n"+i),s.b("  </p>"),s.b("\n"+i)),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_finished"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text">'),s.b(s.t(s.f("alert_success_icon",t,e,0))),s.b(" <strong>Congrats!</strong> You completed the challenge!</p>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_inactive_task_failed"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text"><strong>Oops!</strong> It looks like Task '),s.b(s.v(s.f("failedTask",t,e,0))),s.b(" is no longer passing.</p>"),s.b("\n"+i),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.b('  <button class="button" id="ask-question" data-featurette="modal-trigger" data-stack="true" data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i),s.b('  <a class="button primary cc-test" data-task="'),s.b(s.v(s.f("currentTask",t,e,0))),s.b('">Recheck work</a>'),s.b("\n"+i),s.b('  <a class="button button-alert cc-goto" data-task="'),s.b(s.v(s.f("failedTask",t,e,0))),s.b('">Go to task '),s.b(s.v(s.f("failedTaskAsWord",t,e,0))),s.b("</a>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_neutral"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b('  <p class="box-action-text">'),s.b(s.t(s.f("alert_info_icon",t,e,0))),s.b("\n"+i),s.b("    <strong>Important:</strong>"),s.b("\n"+i),s.b("    The code you write in each task should be added to the code written in the previous task."),s.b("\n"+i),s.b("  </p>"),s.b("\n"+i)),s.b("\n"+i),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.s(s.f("show_preview",t,e,1),t,e,0,271,376,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('    <button class="button secondary icon-on-right show-results-button">Preview '),s.b(s.t(s.f("preview",t,e,0))),s.b("</button>"),s.b("\n"+i)}),t.pop()),s.b('  <button class="button secondary icon-on-right show-workspace-button hidden">Editor '),s.b(s.t(s.f("editor",t,e,0))),s.b("</a>"),s.b("\n"),s.b("\n"+i),s.s(s.f("degree_exam",t,e,1),t,e,0,515,647,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('    <button class="button primary cc-test" data-task="'),s.b(s.v(s.f("task",t,e,0))),s.b('" data-default-text="Submit Code">'),s.b("\n"+i),s.b("      Submit Code"),s.b("\n"+i),s.b("    </button>"),s.b("\n"+i)}),t.pop()),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b('  <button id="ask-question" class="button secondary" data-featurette="async-modal-trigger" data-src="'),s.b(s.t(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-stack="true" data-target="new_forum_post_form" data-ask-question>'),s.b("\n"+i),s.b("    Get Help"),s.b("\n"+i),s.b("  </button>"),s.b("\n"+i),s.b('  <button class="button cc-reset" data-default-text="Reset Code">'),s.b("\n"+i),s.b("    Reset Code"),s.b("\n"+i),s.b("  </button>"),s.b("\n"+i),s.b('  <button class="button primary cc-test" data-task="'),s.b(s.v(s.f("task",t,e,0))),s.b('" data-default-text="Check Work">'),s.b("\n"+i),s.b("    Check Work"),s.b("\n"+i),s.b("  </button>"),s.b("\n"+i)),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/feedback_wrong"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<p class="box-action-text">'),s.b(s.t(s.f("alert_error_icon",t,e,0))),s.b(" <strong>Bummer!</strong> "),s.b(s.v(s.f("feedback",t,e,0))),s.b("</p>"),s.b("\n"+i),s.b('<div class="box-action-buttons">'),s.b("\n"+i),s.s(s.f("show_preview",t,e,1),t,e,0,144,249,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('    <button class="button secondary icon-on-right show-results-button">Preview '),s.b(s.t(s.f("preview",t,e,0))),s.b("</button>"),s.b("\n"+i)}),t.pop()),s.b('  <button class="button secondary icon-on-right show-workspace-button hidden">Editor '),s.b(s.t(s.f("editor",t,e,0))),s.b("</a>"),s.b("\n"+i),s.b('  <button class="button" id="ask-question" data-featurette="async-modal-trigger" data-src="'),s.b(s.t(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-stack="true" data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i),s.b('  <button class="button cc-reset" data-default-text="Reset Code">'),s.b("\n"+i),s.b("    Reset Code"),s.b("\n"+i),s.b("  </button>"),s.b("\n"+i),s.b('  <button class="button primary cc-test" data-task="'),s.b(s.v(s.f("failedTask",t,e,0))),s.b('" data-default-text="Recheck work">Recheck Work</a>'),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/instructions"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<h2 id="task-count">Challenge Task '),s.b(s.v(s.f("task",t,e,0))),s.b(" of "),s.b(s.v(s.f("totalTasks",t,e,0))),s.b("</h2>"),s.b("\n"+i),s.b('<h1 id="task" class="markdown-zone">'),s.b(s.t(s.f("body",t,e,0))),s.b("</h1>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["code_challenges/multiline_command_task"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div id="cc-container" class="mixed-box task_view">'),s.b("\n"+i),s.b('  <div id="cc-instructions" class="box-header">'),s.b("\n"+i),s.b('    <h2 id="task-count">Challenge Task '),s.b(s.v(s.f("currentTask",t,e,0))),s.b(" of "),s.b(s.v(s.f("totalTasks",t,e,0))),s.b("</h2>"),s.b("\n"+i),s.b('    <h1 id="task" class="markdown-zone">'),s.b(s.t(s.d("taskData.body",t,e,0))),s.b("</h1>"),s.b("\n"+i),s.b('    <p id="task-notes">Type in your command below.</p>'),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i),s.b('  <div id="cc-feedback" data-feedback></div>'),s.b("\n"+i),s.b('  <div id="cc-editor" class="box-content multi-line-editor" data-editor>'),s.b("\n"+i),s.b('    <div class="workspace">'),s.b("\n"+i),s.b('      <div class="cc-workspace">'),s.b("\n"+i),s.b('        <div class="cc-editor-container">'),s.b("\n"+i),s.b('          <div class="terminal"></div>'),s.b("\n"+i),s.b("        </div>"),s.b("\n"+i),s.b("      </div>"),s.b("\n"+i),s.b("    </div>"),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i),s.b('  <div id="cc-footer" class="box-footer"></div>'),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["community/filter_breadcrumb"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<ul id="filter-breadcrumb-tags">'),s.b("\n"+i),s.b("  <li>"),s.b("\n"+i),s.b("    Showing results for:"),s.b("\n"+i),s.b("  </li>"),s.b("\n"),s.b("\n"+i),s.b("  "),s.b(s.t(s.f("tags",t,e,0))),s.b("\n"+i),s.b('  <li class="filter-reset clear-results">'),s.b("\n"+i),s.b('    <a href="/community" data-filter-clear-tags>'),s.b("\n"+i),s.b("      "),s.b(s.t(s.f("icon_close",t,e,0))),s.b("\n"+i),s.b("    </a>"),s.b("\n"+i),s.b("  </li>"),s.b("\n"+i),s.b("</ul>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["profile/github_repo"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<li class="grid-50 tablet-grid-50">'),s.b("\n"+i),s.b('  <div class="content-block">'),s.b("\n"+i),s.b('    <div class="content-meta">'),s.b("\n"+i),s.b('      <a href="'),s.b(s.v(s.f("repoUrl",t,e,0))),s.b('">'),s.b("\n"+i),s.b('        <span class="icon icon-github"></span>'),s.b("\n"+i),s.b("        <strong>GitHub Repository</strong>"),s.b("\n"+i),s.b("        <h3>"),s.b(s.v(s.f("repoName",t,e,0))),s.b("</h3>"),s.b("\n"+i),s.b("      </a>"),s.b("\n"+i),s.b('      <p class="description">'),s.b(s.v(s.f("repoDescription",t,e,0))),s.b("</p>"),s.b("\n"+i),s.b('      <div class="content-actions-container content-stats">'),s.b("\n"+i),s.b("        <ul>"),s.b("\n"+i),s.b("          <li>"),s.b("\n"+i),s.b('            <a href="'),s.b(s.v(s.f("repoForksUrl",t,e,0))),s.b('">'),s.b("\n"+i),s.b("              <strong>"),s.b(s.v(s.f("repoForks",t,e,0))),s.b("</strong>"),s.b("\n"+i),s.b("              <p>Forks</p>"),s.b("\n"+i),s.b("            </a>"),s.b("\n"+i),s.b("          </li>"),s.b("\n"+i),s.b("          <li>"),s.b("\n"+i),s.b('            <a href="'),s.b(s.v(s.f("repoStargazersUrl",t,e,0))),s.b('">'),s.b("\n"+i),s.b("              <strong>"),s.b(s.v(s.f("repoStargazers",t,e,0))),s.b("</strong>"),s.b("\n"+i),s.b("              <p>Stargazers</p>"),s.b("\n"+i),s.b("            </a>"),s.b("\n"+i),s.b("          </li>"),s.b("\n"+i),s.b("        </ul>"),s.b("\n"+i),s.s(s.f("repoOwner",t,e,1),t,e,0,754,784,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("        <p>Owner</p>"),s.b("\n"+i)}),t.pop()),s.s(s.f("repoOwner",t,e,1),t,e,1,0,0,"")||(s.b("        <p>Contributor</p>"),s.b("\n"+i)),s.b("      </div>"),s.b("\n"+i),s.b("    </div>"),s.b("\n"+i),s.b("  </div>"),s.b("\n"+i),s.b("</li>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback_error"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="box-actions icons-only alert error">'),s.b("\n"+i),s.b('  <p class="box-action-text">'),s.b("\n"+i),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b("      "),s.b(s.t(s.f("alert_error_icon",t,e,0))),s.b("\n"+i),s.b("      <strong>Bummer!</strong>"),s.b("\n"+i),s.s(s.f("response",t,e,1),t,e,0,179,209,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("        "),s.b(s.t(s.f("response",t,e,0))),s.b("\n"+i)}),t.pop()),s.s(s.f("response",t,e,1),t,e,1,0,0,"")||(s.b("        Unfortunately, that answer is incorrect."),s.b("\n"+i))),s.b("  </p>"),s.b("\n"+i),s.b('  <div class="box-action-buttons" data-featurette="analytics-click-event" data-target="button[data-ask-question]" data-event-category="button" data-event-action="Opened Ask a Question Modal" data-event-label="Source: Feedback Bar on Quiz Pages">'),s.b("\n"+i),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b('      <a href="'),s.b(s.t(s.f("skip_quiz_url",t,e,0))),s.b('" class="button secondary">Skip Quiz</a>'),s.b("\n"+i),s.b('      <a href="'),s.b(s.t(s.f("review_video_url",t,e,0))),s.b('" class="button secondary">Review Video</a>'),s.b("\n"+i),s.b('      <button class="button" id="ask-question" data-featurette="async-modal-trigger" data-src="'),s.b(s.v(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-stack="true" data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i)),s.s(s.f("finished",t,e,1),t,e,1,0,0,"")||(s.b('      <button class="button primary icon-on-right" data-next-question>Next Question '),s.b(s.t(s.f("icon_right_arrow",t,e,0))),s.b("</button>"),s.b("\n"+i)),s.s(s.f("final_exam",t,e,1),t,e,1,0,0,"")||s.s(s.f("finished",t,e,1),t,e,0,1208,1292,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('        <button class="button primary" data-finish-quiz>Finish Quiz</button>'),s.b("\n"+i)}),t.pop()),s.b("  </div>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback_neutral"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="box-actions icons-only alert info">'),s.b("\n"+i),s.b('  <p class="box-action-text">'),s.b(s.t(s.f("instruction",t,e,0))),s.b("</p>"),s.b("\n"+i),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b('    <div class="box-action-buttons" data-featurette="analytics-click-event" data-target="button[data-ask-question]" data-event-category="button" data-event-action="Opened Ask a Question Modal" data-event-label="Source: Feedback Bar on Quiz Pages">'),s.b("\n"+i),s.b('      <a href="'),s.b(s.t(s.f("skip_quiz_url",t,e,0))),s.b('" class="button secondary">Skip Quiz</a>'),s.b("\n"+i),s.b('      <a href="'),s.b(s.t(s.f("review_video_url",t,e,0))),s.b('" class="button secondary">Review Video</a>'),s.b("\n"+i),s.b('      <button id="ask-question" class="button secondary" data-featurette="async-modal-trigger" data-stack="true" data-src="'),s.b(s.t(s.f("get_help_url",t,e,0))),s.b("\" data-params='"),s.b(s.t(s.f("step_params",t,e,0))),s.b('\' data-target="new_forum_post_form" data-ask-question>Get Help</button>'),s.b("\n"+i),s.b('      <button class="button primary disabled icon-on-right" data-next-question>Next Question '),s.b(s.t(s.f("icon_right_arrow",t,e,0))),s.b("</button>"),s.b("\n"+i),s.b("    </div>"),s.b("\n"+i)),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/feedback_success"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="box-actions icons-only alert success">'),s.b("\n"+i),s.b('  <p class="box-action-text">'),s.b("\n"+i),s.s(s.f("degree_exam",t,e,1),t,e,1,0,0,"")||(s.b("      "),s.b(s.t(s.f("alert_success_icon",t,e,0))),s.b("\n"+i),s.b("      <strong>Well done!</strong>"),s.b("\n"+i),s.s(s.f("response",t,e,1),t,e,0,186,216,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("        "),s.b(s.t(s.f("response",t,e,0))),s.b("\n"+i)}),t.pop()),s.s(s.f("response",t,e,1),t,e,1,0,0,"")||(s.b("        That's the correct answer."),s.b("\n"+i))),s.b("  </p>"),s.b("\n"+i),s.b('  <div class="box-action-buttons">'),s.b("\n"+i),s.s(s.f("finished",t,e,1),t,e,1,0,0,"")||(s.b('      <button class="button primary icon-on-right" data-next-question>Next Question '),s.b(s.t(s.f("icon_right_arrow",t,e,0))),s.b("</button>"),s.b("\n"+i)),s.s(s.f("final_exam",t,e,1),t,e,1,0,0,"")||s.s(s.f("finished",t,e,1),t,e,0,559,643,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b('        <button class="button primary" data-finish-quiz>Finish Quiz</button>'),s.b("\n"+i)}),t.pop()),s.b("  </div>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/fill_in_the_blank"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<ul class="quiz-answers fill-in-blank">'),s.b("\n"+i),s.s(s.f("answers",t,e,1),t,e,0,54,263,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("  <li>"),s.b("\n"+i),s.b('    <form id="fill-in-blank" data-quiz-fitb-form-action="'),s.b(s.v(s.f("href",t,e,0))),s.b('">'),s.b("\n"+i),s.b("      "),s.b(s.t(s.f("answer",t,e,0))),s.b("\n"+i),s.b('      <input type="submit" value="Submit Answer" id="submit" class="button button-primary">'),s.b("\n"+i),s.b("    </form>"),s.b("\n"+i),s.b("  </li>"),s.b("\n"+i)}),t.pop()),s.b("</ul>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/multiple_choice"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<ul class="quiz-answers multiple-choice">'),s.b("\n"+i),s.s(s.f("answers",t,e,1),t,e,0,56,232,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("  <li>"),s.b("\n"+i),s.b('    <a href="'),s.b(s.v(s.f("href",t,e,0))),s.b('" data-quiz-answer-key="'),s.b(s.t(s.f("abcd",t,e,0))),s.b('">'),s.b("\n"+i),s.b('      <strong class="abc">'),s.b(s.t(s.f("abcd",t,e,0))),s.b("</strong>"),s.b("\n"+i),s.b('      <div class="answer">'),s.b(s.t(s.f("answer",t,e,0))),s.b("</div>"),s.b("\n"+i),s.b("    </a>"),s.b("\n"+i),s.b("  </li>"),s.b("\n"+i)}),t.pop()),s.b("</ul>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/question"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("video",t,e,1),t,e,0,10,25,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("  "),s.b(s.t(s.f("video",t,e,0))),s.b("\n"+i)}),t.pop()),s.s(s.f("image",t,e,1),t,e,0,46,87,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('<img src="'),i.b(i.v(i.f("image",t,e,0))),i.b('" alt="Quiz Question">')}),t.pop()),s.b("\n"+i),s.b('<strong class="question-count">Quiz Question '),s.b(s.v(s.f("current_question",t,e,0))),s.b(" of "),s.b(s.v(s.f("total_questions",t,e,0))),s.b("</strong>"),s.b("\n"+i),s.b("<h1>"),s.b(s.t(s.f("question",t,e,0))),s.b("</h1>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["quizzes/true_false"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<ul class="quiz-answers true-false">'),s.b("\n"+i),s.s(s.f("answers",t,e,1),t,e,0,51,172,"{{ }}")&&(s.rs(t,e,function(t,e,s){s.b("  <li>"),s.b("\n"+i),s.b('    <a href="'),s.b(s.v(s.f("href",t,e,0))),s.b('" data-quiz-answer-key="'),s.b(s.t(s.f("answer",t,e,0))),s.b('">'),s.b("\n"+i),s.b("      <strong>"),s.b(s.v(s.f("answer",t,e,0))),s.b("</strong>"),s.b("\n"+i),s.b("    </a>"),s.b("\n"+i),s.b("  </li>"),s.b("\n"+i)}),t.pop()),s.b("</ul>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["videos/launch_console"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="mejs-button mejs-console-button">'),s.b("\n"+i),s.b('  <button class="button" data-track-click-event>'),s.b(s.t(s.f("icon",t,e,0))),s.b(" Launch Console</button>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["videos/launch_sql_playground"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="mejs-button mejs-sql-playground-button">'),s.b("\n"+i),s.b('  <button class="button" data-track-click-event>'),s.b(s.t(s.f("icon",t,e,0))),s.b(" Launch SQL Playground</button>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["videos/launch_workspace"]=new Hogan.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="mejs-button mejs-workspaces-button">'),s.b("\n"+i),s.b('  <button class="button" data-track-click-event data-featurette="async-modal-trigger" data-src="/videos/'),s.b(s.v(s.f("videoId",t,e,0))),s.b('/launch_workspace" data-target="launch-workspace-modal">'),s.b("\n"+i),s.b("    "),s.b(s.t(s.f("icon",t,e,0))),s.b(" Launch Workspace"),s.b("\n"+i),s.b("  </button>"),s.b("\n"+i),s.b("</div>"),s.b("\n"),s.b("\n"),s.fl()},partials:{},subs:{}},"",Hogan,{}),function(){$(function(){return $(".cheatsheet-toggle").on("click",function(t){return t.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideToggle(200)}),$(".cheatsheet-close").on("click",function(t){return t.preventDefault(),$(this).closest("form").find(".markdown-cheatsheet").slideUp(200)}),$("#edit-post").on("click",function(t){return t.preventDefault(),$("#display-post").hide(),$("#edit-post-form").show(),$("textarea.autogrow").trigger("autosize.resize")}),$("#cancel-edit-post").on("click",function(t){return t.preventDefault(),$("#edit-post-form").hide(),$("#display-post").show(),$("textarea.autogrow").trigger("autosize.resize")}),$(".new_forum_post button[type=submit], .discussion-reply button[type=submit]").on("click",function(){return _.defer(function(t){return function(){return $(t).attr({disabled:"disabled"})}}(this))}),$(".post-preview-toggle").on("mousedown",function(t){return t.preventDefault(),$(this).closest(".form-item").find("textarea").focus()}),$(".code-attachment-filename").on("click",function(t){var e;return e=$(this).closest("#container").find(".card.course.forum-card a.title").attr("href"),window.open(e)})})}.call(this),function(){$(function(){var t;return t=function(){function t(){}return t.modals={},t.handleTrigger=function(e){var i,s;return $.browser.mobile||e.metaKey||2===e.which?!0:(t.container||(t.container=$("#mini-profile-container")),e.preventDefault(),s=$(e.currentTarget),i=s.data("profile-name"),t.modals[i]?t.modals[i].showOverlay():t.createModalFor(i))},t.createModalFor=function(t){var e;return e=$("<div class='modal mini-profile' id='mini-profile-"+t+"' style='display: none'/>"),e.load("/mini_profile/"+t,function(i){return function(){return i.container.append(e),new Featurette.registered_features["points-chart"](e.find(".chart")[0]),i.modals[t]=new Featurette.registered_features.modal(e[0]),i.modals[t].showOverlay()}}(this))},t}(),$(document).on("click","[data-behavior=mini-profile-trigger]",t.handleTrigger)})}.call(this),function(){mejs.MediaElementDefaults.pluginPath="",mejs.MediaElementDefaults.flashName="/flash/flashmediaelement.swf",$("body").on("click",".mejs-captions-selector input",function(){return setTimeout(function(t){return function(){return $("body").click()}}(this),0)})}.call(this),function(){this.Treehouse={data:window.appData?JSON.parse(window.appData):{},onFirstInit:function(t){return this.firstInitCallbacks.push(t)},firstInitCallbacks:[],onInit:function(t){return this.initCallbacks.push(t)},initCallbacks:[],init:function(){var t,e,i,s,r,o,n,a;if(!this.firstInitFired){for(o=this.firstInitCallbacks,e=0,s=o.length;s>e;e++)(t=o[e])();this.firstInitFired=!0}for(n=this.initCallbacks,a=[],i=0,r=n.length;r>i;i++)t=n[i],a.push(t());return a},cleanup:function(t){var e;return(e=Featurette.get(t.id))&&"function"==typeof e.stopListening?e.stopListening():void 0},debug:function(){return window.console?console.log(Array.prototype.slice.call(arguments)):void 0}}}.call(this),function(){Treehouse.onFirstInit(function(){return function(){var t;return t=$.cleanData,$.cleanData=function(e){var i,s,r;for(s=0,r=e.length;r>s;s++)i=e[s],$(i).trigger("removed");return t(e)}}(),$(document).on("removed","[data-featurette]",function(t){return Treehouse.cleanup(t.target)}),null==$.cookie("notbot")&&$.post("/visitors/not-bot",{_method:"PUT"}),$(document).on("click touch",".menu-toggle",function(t){return t.preventDefault(),$(t.currentTarget).toggleClass("is-checked")}),$(document).on("click",".clickonce",function(t){var e;return e=$(t.currentTarget),e.hasClass("disabled")?t.preventDefault():e.addClass("disabled")}),$(document).on("click","a[data-pjax]",function(t){var e;return t.preventDefault(),e=$(this).closest("[data-pjax-container]"),$.pjax.click(t,{container:e})}),$(document).on("pjax:end",function(){return Treehouse.init()})}),Treehouse.onInit(function(){var t;return Featurette.load(),$("html").hasClass("ie")&&$("use").each(function(t){return function(t,e){return e=$(e),e.attr("xlink:href",e.attr("xlink:href").replace(/.*.svg/,""))}}(this)),t="select, input:file",$(t).not('.editor textarea, select.drop-down, select[multiple], select[data-featurette="form-select"], select[data-featurette="department-select"], select[data-featurette="department-member-autocomplete"], .uniform-processed').uniform({autoHide:!1,fileButtonClass:"button secondary",selectClass:"form-element"}).addClass("uniform-processed"),$(".form-item label").not(".prefill, .in-field-label-processed, .ghost-form label").inFieldLabels().addClass("in-field-label-processed"),$(".autogrow").not(".autogrow-processed").autosize({append:""}).addClass("autogrow-processed"),$("input, textarea").not(".placeholder-processed").placeholder().addClass("placeholder-processed"),$(".ghost-form input, .ghost-form textarea, .ghost-form select").off("focus.ghost-form, blur.ghost-form").on("focus.ghost-form",function(){return $(this).closest(".form-item, .adjacent-form-item").addClass("filled focused")}).on("blur.ghost-form",function(){return $(this).closest(".form-item, .adjacent-form-item").removeClass("filled"),""===this.value?$(this).closest(".form-item, .adjacent-form-item").removeClass("focused"):void 0}).each(function(){return""!==this.value?$(this).closest(".form-item, .adjacent-form-item").addClass("focused"):void 0}),$(".button-toggle label input[type=radio]").change(function(){$(this).attr("name")?$(this).parent().addClass("selected").siblings().removeClass("selected"):$(this).parent().toggleClass("selected")})})}.call(this),function(){jQuery.fn.cssAnimate=function(t){return null==t&&(t=400),this.addClass("animating"),setTimeout(function(t){return function(){return t.removeClass("animating")}}(this),t),this}}.call(this),function(){Treehouse.onFirstInit(function(){return $(document).on("pjax:start",function(){var t;return null!=(t=Featurette.get("layout"))?t.loading():void 0}),$(document).on("pjax:end",function(){var t;return null!=(t=Featurette.get("layout"))&&t.loaded(),"undefined"!=typeof _gaq&&null!==_gaq?_gaq.push(["_trackPageview"]):void 0})})}.call(this),function(){Treehouse.currentUser=Treehouse.data.user,Treehouse.isLoggedIn=null!=Treehouse.currentUser,Treehouse.isLoggedIn&&(Treehouse.personalizationPromise=$.getJSON("/personalization").promise())}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.Cache=function(){function e(e){null==e&&(e={}),this.flush=t(this.flush,this),this.exists=t(this.exists,this),this.fetch=t(this.fetch,this),this["delete"]=t(this["delete"],this),this.write=t(this.write,this),this.read=t(this.read,this),this.namespace=this.compileNamespace(e.namespace),this.defaultTtl=e.defaultTtl||720}return e.prototype.compileNamespace=function(t){var e,i,s;if(null===t&&(t=""),_.isString(t))return t.replace(/\/$/,"")+"/";if(i=[],_.isObject(t)){if(t.appVersion&&(e=Treehouse.data.app_version,i.push("appVersion:"+(e?e:_.now()))),t.currentUser){if(s=Treehouse.currentUser.id,!s)throw new Error("A Treehouse.currentUser is required.");i.push("user:"+s)}return t.namespace&&i.push(t.namespace),_.compact(i).join("/")+"/"}return"/"},e.prototype.read=function(t){return lscache.setBucket(this.namespace),lscache.get(t)},e.prototype.write=function(t,e,i){return null==i&&(i=this.defaultTtl),lscache.setBucket(this.namespace),lscache.set(t,e,i),!0},e.prototype["delete"]=function(t){return lscache.setBucket(this.namespace),lscache.remove(t)},e.prototype.fetch=function(t,e,i){var s;return null==i&&(i=this.defaultTtl),s=this.read(t),s||(s=_.isFunction(e)?e():e,this.write(t,s,i)),s},e.prototype.exists=function(t){return null!==this.read(t)},e.prototype.flush=function(){return lscache.setBucket(this.namespace),lscache.flush()},e.flush=function(){return lscache.setBucket(""),lscache.flush()},e}(),lscache.flushExpired(),Treehouse.cache=new Treehouse.Cache}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function i(){this.constructor=t}for(var s in e)r.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,o=[].slice;e=function(){function t(t){var e;e=$(t).find(".tooltip").parent().find(":input"),e.focus(function(t){var e;return e=$(this).parent().find(".tooltip"),e.data("hide-on-mobile")&&$(window).width()<=480?void 0:e.fadeIn()}),e.blur(function(t){return $(this).parent().find(".tooltip").fadeOut()}),$(t).submit(function(e){
return $(t).find("button#submit").html("Processing..."),$(t).find("button#submit").attr("disabled","true")})}return t}(),window.StandardForm=e,t=function(t){function e(t){this.unwrapErrors=i(this.unwrapErrors,this),this.accountForm=$(t),this.accountEmail=this.accountForm.find("#account_signup_email, #person_email, #account_signup_account_manager_email"),this.accountProfile=this.accountForm.find("#account_signup_profile_name, #person_profile_name"),this.accountName=this.accountForm.find("#account_signup_first_name, #account_signup_last_name, #person_first_name, #person_last_name"),this.accountProfileName=this.accountProfile.val(),this.currentEmail=this.accountEmail.val(),e.__super__.constructor.call(this,this.accountForm),this.accountEmail.change(function(t){return function(){return t.verifyEmailAddress()}}(this)),this.accountProfile.change(function(t){return function(){return t.verifyProfileName()}}(this)),this.accountName.change(function(t){return function(){return t.suggestProfileName()}}(this)),this.verifyEmailAddress(),this.verifyProfileName(),this.suggestProfileName(),this.ageCheck=this.accountForm.find("#account_signup_age_check"),this.ageCheck.change(function(){return"lt13"===$(this).val()?($(".above-13").hide(),$(".under-13").show()):($(".above-13").show(),$(".under-13").hide())}),this.ageCheck.change()}return s(e,t),e.prototype.verifyEmailAddress=function(){var t,e,i,s;return e=this.accountEmail,i=e.siblings("label"),t=e.val(),s=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(e),t!==this.currentEmail?$.ajax("/account/email_address",{type:"POST",dataType:"json",data:{email:t},headers:{"X-CSRF-Token":s},error:function(t){return function(s){var r;return t.unwrapErrors(e,i),t.clearFormErrors(e),e.siblings("label").wrap('<div class="field_with_errors" />'),e.wrap('<div class="field_with_errors" />'),r=JSON.parse(s.responseText),e.after("<p class='error-message'>"+r.error+"</p>")}}(this),success:function(t){return function(){return t.unwrapErrors(e,i),null==e.val()?t.clearFormErrors(e):void 0}}(this)}):void 0},e.prototype.verifyProfileName=function(){var t,e,i,s,r,o;return t=this.accountProfile,i=t.siblings("label"),r=t.val(),e=$(this.accountName[0]).val(),s=$(this.accountName[1]).val(),o=$("meta[name='csrf-token']").attr("content"),r!==this.accountProfileName?$.ajax("/account/profile_name",{type:"POST",dataType:"json",data:{profile_name:r,first_name:e,last_name:s},headers:{"X-CSRF-Token":o},error:function(e){return function(s){var r;return e.unwrapErrors(t,i),e.clearFormErrors(t),t.siblings("label").wrap('<div class="field_with_errors" />'),t.wrap('<div class="field_with_errors" />'),r=JSON.parse(s.responseText),t.val(r.suggestion),t.after("<p class='error-message'>"+r.error+"</p>")}}(this),success:function(e){return function(){return e.unwrapErrors(t,i),e.clearFormErrors(t)}}(this)}):void 0},e.prototype.suggestProfileName=function(){var t,e,i,s;return t=$(this.accountName[0]).val().toLowerCase(),i=$(this.accountName[1]).val().toLowerCase(),e=!!t,s=!!i,!this.accountProfile.val()&&e&&s&&(this.accountProfile.val(""+t+i),this.accountProfile.blur()),this.verifyProfileName()},e.prototype.unwrapErrors=function(){var t,e,i,s,r;for(e=1<=arguments.length?o.call(arguments,0):[],r=[],i=0,s=e.length;s>i;i++)t=e[i],t.closest("div").hasClass("field_with_errors")?r.push(t.unwrap()):r.push(void 0);return r},e.prototype.clearFormErrors=function(t){return t.siblings("p.error-message").remove()},e}(e),window.AccountForm=t}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.View=function(){function e(e){this.clearElementsCache=t(this.clearElementsCache,this),this.cid=_.uniqueId("featurette-view-"),this.el=$(e),this.data=this.el.data(),this.elements=[]}return e.prototype.listeningTo=[],e.prototype.get=function(t){var e;return(e=this.elements)[t]||(e[t]=this.el.find(t))},e.prototype.clearElementsCache=function(){return this.elements=[]},e.prototype.on=function(t,e,i){return i?this.el.on(this.addNamespace(t),e,i):(i=e,this.el.on(this.addNamespace(t),i))},e.prototype.listenTo=function(t,e,i,s){return null==s&&(s={}),this.listeningTo=_.union(this.listeningTo,[t]),$(t).on(this.addNamespace(e),i),s.triggerImmediately?$(t).trigger(e):void 0},e.prototype.stopListening=function(){var t,e,i,s,r;for(this.el.off(this.addNamespace()),s=this.listeningTo,r=[],t=0,e=s.length;e>t;t++)i=s[t],r.push($(i).off(this.addNamespace()));return r},e.prototype.addNamespace=function(t){return null==t&&(t=""),t+"."+this.cid},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("alert",Treehouse.Alert=function(i){function s(e){this.closeAlert=t(this.closeAlert,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-close-alert]",this.closeAlert),this.el.hasClass("fixed")&&$("html").addClass("has-fixed-alert")}return e(s,i),s.prototype.closeAlert=function(t){return t.preventDefault(),this.el.addClass("closed"),0===$(".alert.fixed:not(.closed)").length?$("html.has-fixed-alert").addClass("closed-all-fixed-alerts"):void 0},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.SimpleDropDown=function(i){function s(e){this.toggleDropDown=t(this.toggleDropDown,this),s.__super__.constructor.apply(this,arguments),this.on("click",".dropdown-parent-label",this.toggleDropDown)}return e(s,i),s.prototype.isShown=!1,s.prototype.toggleDropDown=function(t){return this.get(".dropdown-child").toggle(!this.isShown),this.isShown=!this.isShown},s}(Treehouse.View),Featurette.register("simple-drop-down",Treehouse.SimpleDropDown)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("dialog",Treehouse.Dialog=function(i){function s(e){this.hide=t(this.hide,this),this.show=t(this.show,this),this.enterOrEscKeyPressed=t(this.enterOrEscKeyPressed,this),this.tabKeyPressed=t(this.tabKeyPressed,this),this.onKeyUp=t(this.onKeyUp,this),this.preventTarpFromHiding=t(this.preventTarpFromHiding,this),this.listenToEvents=t(this.listenToEvents,this),s.__super__.constructor.apply(this,arguments),this.tarp=new Treehouse.Dialog.Tarp($("[data-dialog-tarp]")),this.container=new Treehouse.Dialog.Container($("[data-dialog-container]")),this.el.is('[data-featurette="dialog"]')&&this.listenToEvents()}return e(s,i),s.prototype.listenToEvents=function(){return this.video=this.get("video"),this.closeButton=this.get("[data-close-dialog]"),this.on("click",this.preventTarpFromHiding),this.on("click","[data-close-dialog]",this.hide),this.video.get(0).addEventListener("ended",this.hide),this.listenTo(document,"keyup",this.onKeyUp)},s.prototype.preventTarpFromHiding=function(t){return t.stopPropagation()},s.prototype.onKeyUp=function(t){return this.tabKeyPressed(t)&&this.closeButton.focus(),this.enterOrEscKeyPressed(t)?this.hide(t):void 0},s.prototype.tabKeyPressed=function(t){return 9===t.which},s.prototype.enterOrEscKeyPressed=function(t){return 13===t.which||27===t.which},s.prototype.show=function(t){return this.trigger=t,this.el.attr({tabindex:0}),this.el.focus(),this.el.addClass("active").siblings().removeClass("active"),this.tarp.show(),this.video.trigger("play")},s.prototype.hide=function(t){return this.el.removeClass("active"),this.video.trigger("pause"),this.tarp.hide(),this.enterOrEscKeyPressed(t)?this.trigger.focus():void 0},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Dialog.Tarp=function(i){function s(e){this.hide=t(this.hide,this),this.show=t(this.show,this),this.onEscPressed=t(this.onEscPressed,this),this.listenToEvents=t(this.listenToEvents,this),this.insert=t(this.insert,this),s.__super__.constructor.apply(this,arguments),this.el.length>0||(this.el=this.insert(),this.listenToEvents())}return e(s,i),s.prototype.insert=function(){return $(document.body).append('<div class="dialog-tarp" data-dialog-tarp> <div class="dialog-container" data-dialog-container></div> </div>'),$("[data-dialog-tarp]")},s.prototype.listenToEvents=function(){return this.on("click",this.hide),this.listenTo(document,"keyup",this.onEscPressed)},s.prototype.onEscPressed=function(t){return 27===t.which?this.hide():void 0},s.prototype.show=function(){return this.el.addClass("active")},s.prototype.hide=function(){return this.el.removeClass("active"),this.el.find("video").trigger("pause")},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("dialog-trigger",Treehouse.Dialog.Trigger=function(i){function s(e){this.onSuccess=t(this.onSuccess,this),this.loadDialog=t(this.loadDialog,this),this.onClick=t(this.onClick,this),s.__super__.constructor.apply(this,arguments),this.on("click",this.onClick)}return e(s,i),s.prototype.onClick=function(t){return t.preventDefault(),this.el.data("loaded-dialog")?this.dialog.show(this.el):(this.loadDialog(),this.el.addClass("loading"))},s.prototype.loadDialog=function(){return $.get(this.el.attr("href"),{},this.onSuccess)},s.prototype.onSuccess=function(t){return this.el.data("loaded-dialog",!0),this.el.removeClass("loading"),this.dialog=this.container.insertDialog(t),this.dialog.show(this.el)},s}(Treehouse.Dialog))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Dialog.Container=function(i){function s(e){this.insertDialog=t(this.insertDialog,this),s.__super__.constructor.apply(this,arguments)}return e(s,i),s.prototype.insertDialog=function(t){return this.el.append(t),this.dialog=this.el.find('[data-featurette="dialog"]').last(),Featurette.load(),Featurette.get(this.dialog.attr("id"))},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.StarRating=function(i){function s(e){this.onRatingChosen=t(this.onRatingChosen,this),s.__super__.constructor.apply(this,arguments),this.on("change",":radio",this.onRatingChosen)}return e(s,i),s.prototype.onRatingChosen=function(){return this.el.addClass("rating-chosen")},s}(Treehouse.View),Featurette.register("star-rating",Treehouse.StarRating)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("modal",Treehouse.Modal=function(i){function s(e){this.onKeyup=t(this.onKeyup,this),this.closeOverlay=t(this.closeOverlay,this),this.safeCloseOverlay=t(this.safeCloseOverlay,this),this.playVideo=t(this.playVideo,this),s.__super__.constructor.call(this,e),this.on("click",".modal-close, .modal-close-extra, [data-modal-close]",this.safeCloseOverlay),this.listenTo(document,"keyup",this.onKeyup)}return e(s,i),s.stack=[],s.closeCurrentModal=function(t){var e;return null==t&&(t={}),(e=this.stack.pop())&&(e.safeCloseOverlay(),t.stack)?this.addToStack(e):void 0},s.addToStack=function(t){return this.stack.push(t)},s.showLastModal=function(){var t;return null!=(t=this.stack.pop())?t.showOverlay({restoring:!0}):void 0},s.prototype.showOverlay=function(t){return null==t&&(t={}),this.constructor.closeCurrentModal({stack:t.stack}),this.constructor.addToStack(this),this.tarp().show(function(t){return function(){var e,i;return i="fixed"===t.el.css("position")?0:$(window).scrollTop(),e=i+$(window).height(),_.defer(function(){return $(window).scrollTop(i)}),t.el.show().css({top:e,opacity:0}).animate({top:i,opacity:1},150),t.el.addClass("modal-active"),t.el.trigger("modal:show"),t.el.data("modal-video-autoplay")&&t.playVideo(),t.isVisible=!0}}(this))},s.prototype.playVideo=function(){return this.el.find("video").trigger("play").on("ended",function(t){return function(){return t.closeOverlay()}}(this))},s.prototype.safeCloseOverlay=function(t){return null!=t&&t.preventDefault(),this.data.uncloseable?!0:this.closeOverlay()},s.prototype.closeOverlay=function(){return this.el.find("video").trigger("pause"),this.tarp().hide(),this.el.hide(),this.el.removeClass("modal-active"),this.el.trigger("modal:close"),this.isVisible=!1,this.constructor.stack.pop(),this.constructor.showLastModal()},s.prototype.onKeyup=function(t){return 27===t.which&&this.isVisible?this.safeCloseOverlay():void 0},s.prototype.tarp=function(){return this.tarpEl||(this.tarpEl=Featurette.get("tarp"))},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("help-modal",t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.showOverlay=function(){return Featurette.get("help-form").resetContactForm(),i.__super__.showOverlay.apply(this,arguments)},i}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("wizard-modal",t=function(t){function s(){return this.closeOverlay=e(this.closeOverlay,this),s.__super__.constructor.apply(this,arguments)}return i(s,t),s.prototype.showOverlay=function(t){return null==t&&(t={}),s.__super__.showOverlay.apply(this,arguments),t.restoring?void 0:$(document).trigger("wizard-opened")},s.prototype.closeOverlay=function(t){return null==t&&(t={}),s.__super__.closeOverlay.apply(this,arguments),t.stack?void 0:$(document).trigger("wizard-closed")},s}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("quiz-error-modal",t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),this.on("click","button",this.closeOverlay)}return e(i,t),i.prototype.setError=function(t){return this.el.find("#quiz-error-modal-text").text(t)},i.prototype.closeOverlay=function(){return this.setError(""),i.__super__.closeOverlay.call(this)},i}(Treehouse.Modal))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("workspace-settings-modal",Treehouse.WorkspaceSettingsModal=function(i){function s(e){this.onDeleteWorkspace=t(this.onDeleteWorkspace,this),s.__super__.constructor.call(this,e),this.on("click","a.delete",this.onDeleteWorkspace)}return e(s,i),s.prototype.onDeleteWorkspace=function(t){return confirm("This will permanently delete everything within this workspace and cannot be undone. Do you still want to delete?")?(this.closeOverlay(),$("#workspace-"+this.el.data("workspace-id")+" .deletion-cover").show()):!1},s}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("code-challenge-error-modal",t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.setError=function(t){return this.el.find("#challenge-error-modal-text").text(t)},i.prototype.closeOverlay=function(){return this.setError(""),i.__super__.closeOverlay.call(this)},i}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("track-changelog-modal",t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),$(function(t){return function(){return t.el.data("previewing")===!0?t.showOverlay():void 0}}(this))}return e(i,t),i}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("tarp",t=function(t){function i(t){i.__super__.constructor.call(this,t),this.on("click touchstart",function(){return Treehouse.Modal.closeCurrentModal()})}return e(i,t),i.prototype.show=function(t){return this.el.css({opacity:0}).show().animate({opacity:1},100,t)},i.prototype.hide=function(){return this.el.hide()},i}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("table-expander",function(i){function s(e){this.toggle=t(this.toggle,this),s.__super__.constructor.apply(this,arguments),this.on("click",this.data.expander,this.toggle),this.rows=this.el.find("tr:gt("+this.data.rows+")"),this.rows.hide()}return e(s,i),s.prototype.toggle=function(t){return $(this.data.expander).toggleClass("target-expanded"),this.rows.toggle()},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("nav-select",function(){function e(e){this.updateLocation=t(this.updateLocation,this),this.el=$(e),this.el.on("change",this.updateLocation)}return e.prototype.updateLocation=function(t){return window.location=this.el.val()},e}())}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.updateTotalOnce=e(this.updateTotalOnce,this),this.updateTotal=e(this.updateTotal,this),this.el=$(t),this.pointsUpdated=!1,this.el[0]&&Treehouse.personalizationPromise.then(function(t){return function(e){return t.loadedPointsDonut(e.points)}}(this))}return t.prototype.loadedPointsDonut=function(t){return this.el.find("#menu-points-donut").append(t),Featurette.load()},t.prototype.updateTotal=function(t){return t?this.el.find("#points-counter").html(this.addCommas(t)):$.get("/user/total_points",function(t){return function(e){return t.el.find("#points-counter").html(t.addCommas(e.points))}}(this))},t.prototype.updateTotalOnce=function(){return this.pointsUpdated?void 0:(this.updateTotal(),this.pointsUpdated=!0)},t.prototype.addCommas=function(t){return t.toString().replace(/\,/g,"").replace(/\B(?=(?:\d{3})+(?!\d))/g,",")},t}(),Treehouse.PointsCounter=new t("#profile")}.call(this),function(){Treehouse.queryString=function(){var t,e,i,s,r,o;if(i=new Object,r=location.href.split("?")[1],!r)return i;for(o=r.split("&"),t=0,e=o.length;e>t;t++)s=o[t],s=s.split("="),i[s[0]]=s[1];return i}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Quiz=function(i){function s(e){this.render=t(this.render,this),this.finishQuiz=t(this.finishQuiz,this),this.processError=t(this.processError,this),this.processResponse=t(this.processResponse,this),this.submit=t(this.submit,this),this.examQuizNavAlert=t(this.examQuizNavAlert,this),s.__super__.constructor.apply(this,arguments),this.quizData=this.data.quiz,this.feedbackEl=this.el.find("[data-quiz-element=feedback]"),this.questionEl=this.el.find("[data-quiz-element=question]"),this.answersEl=this.el.find("[data-quiz-element=answers]"),this.quizData.degree_exam&&this.listenTo(window,"beforeunload",this.examQuizNavAlert),this.render()}return e(s,i),s.prototype.examQuizNavAlert=function(){return"unfinished"!==this.quizData.quiz_status?window.onbeforeunload=null:"If you leave now, you'll lose your progress!"},s.prototype.submit=function(t,e){return null==e&&(e={}),this.quizData.quiz_attempt&&(e.quiz_attempt=this.quizData.quiz_attempt),$.ajax({type:"POST",url:t,data:e,dataType:"json",success:this.processResponse,error:function(t){return function(e){return t.processError(e)}}(this)})},s.prototype.processResponse=function(t){return this.quizData=t,t.degree_exam&&"unfinished"!==t.quiz_status&&this.showDegreeExamBreak(),this.generateFeedback(),Treehouse.init()},s.prototype.processError=function(t){var e;return e=Featurette.get("quiz-error-modal"),e.setError("Oops! Something went wrong. Please try answering the question again."),e.showOverlay({stack:!0}),this.render()},s.prototype.finishQuiz=function(){switch(this.quizData.quiz_status){case"passed":return Treehouse.PointsCounter.updateTotal(),this.showPassed();case"failed":return this.showFailed()}},s.prototype.showFailed=function(){return $(document).trigger("step-failed")},s.prototype.showDegreeExamBreak=function(){return Featurette.get("degree-exam-break-modal").showOverlay()},s.prototype.showPassed=function(){return $(document).trigger("step-passed")},s.prototype.render=function(){return this.clearFeedback(),this.generateQuestion(),this.generateAnswers(),Treehouse.init()},s.prototype.generateQuestion=function(){var t;return t=HoganTemplates["quizzes/question"].render(this.quizData.question),this.questionEl.html(t).find("a").attr("target","_blank")},s.prototype.generateAnswers=function(){var t,e;return null!=(e=this.answersView)&&"function"==typeof e.empty&&e.empty(),t=function(){switch(this.quizData.question.question_type){case"MultipleChoice":return Treehouse.Quiz.MultipleChoice;case"TrueFalse":return Treehouse.Quiz.TrueFalse;case"FillInTheBlank":return Treehouse.Quiz.FillInTheBlank}}.call(this),this.answersView=new t(this.answersEl,{submit:this.submit,answers:_.pick(this.quizData,"answers")}),this.answersView.render()},s.prototype.renderFeedback=function(t){var e,i;return this.quizData.degree_exam||(e=this.el.find("[data-quiz-answer-key].selected"),e.addClass(t)),null!=(i=this.feedbackView)&&i.stopListening(),this.feedbackView=new Treehouse.Quiz.Feedback(this.feedbackEl,{nextQuestion:this.render,finishQuiz:this.finishQuiz,quizStatus:this.quizData.quiz_status,questionPassed:this.quizData.answer_passed,feedbackText:this.quizData.feedback,instruction:this.quizData.question.instruction,feedbackType:t,degreeExam:this.quizData.degree_exam}),this.feedbackView.render()},s.prototype.generateFeedback=function(){return this.quizData.answer_passed?this.renderFeedback("success"):this.renderFeedback("error")},s.prototype.clearFeedback=function(){return this.renderFeedback("neutral")},s}(Treehouse.View),Featurette.register("quiz",Treehouse.Quiz)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Quiz.Feedback=function(i){function s(e,i){this.quizFinished=t(this.quizFinished,this),this.finishQuizProxy=t(this.finishQuizProxy,this),this.nextQuestionProxy=t(this.nextQuestionProxy,this),this.onKeyUp=t(this.onKeyUp,this),s.__super__.constructor.apply(this,arguments),this.quizStatus=i.quizStatus,this.questionPassed=i.questionPassed,this.feedbackText=i.feedbackText,this.nextQuestion=i.nextQuestion,this.finishQuiz=i.finishQuiz,this.feedbackType=i.feedbackType,this.instruction=i.instruction,this.degreeExam=i.degreeExam,this.on("click","[data-next-question]",this.nextQuestionProxy),this.on("click","[data-finish-quiz]",this.finishQuizProxy)}return e(s,i),s.prototype.render=function(){return("error"===this.feedbackType||"success"===this.feedbackType)&&this.listenTo(document,"keyup",this.onKeyUp),this.el.html(HoganTemplates["quizzes/feedback_"+this.feedbackType].render({degree_exam:this.degreeExam,finished:this.quizFinished(),passed:this.questionPassed,response:this.feedbackText,instruction:this.instruction,skip_quiz_url:this.el.data("skip-quiz-url"),review_video_url:this.el.data("review-video-url"),icon_play:this.el.data("icon-play"),icon_right_arrow:this.el.data("icon-right-arrow"),alert_success_icon:this.el.data("alert-success-icon"),alert_error_icon:this.el.data("alert-error-icon"),step_params:JSON.stringify({step_type:"Quiz",step_id:this.el.data("quiz-id")}),get_help_url:this.el.data("get-help-url")}))},s.prototype.empty=function(){return this.el.empty(),this.stopListening()},s.prototype.onKeyUp=function(t){return 13===t.which?(this.nextQuestionProxy(),this.finishQuizProxy()):void 0},s.prototype.nextQuestionProxy=function(){return"unfinished"===this.quizStatus?this.nextQuestion():void 0},s.prototype.finishQuizProxy=function(){return this.quizFinished()?(this.finishQuiz(),this.stopListening()):void 0},s.prototype.quizFinished=function(){return"passed"===this.quizStatus||"failed"===this.quizStatus},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Quiz.MultipleChoice=function(i){function s(e,i){this.options=i,this.onClick=t(this.onClick,this),this.onKeyUp=t(this.onKeyUp,this),s.__super__.constructor.apply(this,arguments),this.listenTo(document,"keyup",this.onKeyUp),this.on("click","[data-quiz-answer-key]",this.onClick)}return e(s,i),s.prototype.template="quizzes/multiple_choice",s.prototype.render=function(){return this.el.html(HoganTemplates[this.template].render(this.options.answers))},s.prototype.onKeyUp=function(t){var e,i;if(!this.isDisabled)return(i=this.keyCodes()[t.which])?(e=this.el.find("[data-quiz-answer-key="+i+"]"),this.submitProxy(e)):void 0},s.prototype.onClick=function(t){return"function"==typeof t.preventDefault&&t.preventDefault(),this.isDisabled?void 0:this.submitProxy($(t.currentTarget))},s.prototype.submitProxy=function(t){return this.options.submit(t.attr("href")),t.addClass("selected"),this.disable()},s.prototype.disable=function(){return this.el.find(".quiz-answers a").addClass("inactive"),this.isDisabled=!0},s.prototype.empty=function(){return this.el.empty(),this.stopListening()},s.prototype.keyCodes=function(){return this.cachedKeyCodes?this.cachedKeyCodes:(this.cachedKeyCodes={},this.options.answers.answers.forEach(function(t){return function(e){return t.cachedKeyCodes[e.abcd.charCodeAt()]=e.abcd}}(this)),this.cachedKeyCodes)},s}(Treehouse.View)}.call(this),function(){var t=function(t,i){function s(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return s.prototype=i.prototype,t.prototype=new s,t.__super__=i.prototype,t},e={}.hasOwnProperty;Treehouse.Quiz.TrueFalse=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.template="quizzes/true_false",i.prototype.keyCodes=function(){return null!=this.cachedKeyCodes?this.cachedKeyCodes:this.cachedKeyCodes={70:"False",84:"True"}},i}(Treehouse.Quiz.MultipleChoice)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Quiz.FillInTheBlank=function(i){function s(e,i){this.options=i,this.onFormSubmit=t(this.onFormSubmit,this),s.__super__.constructor.apply(this,arguments),this.on("submit","[data-quiz-fitb-form-action]",this.onFormSubmit)}return e(s,i),s.prototype.onFormSubmit=function(t){var e,i,s;return null!=t&&t.preventDefault(),this.isDisabled?void 0:(i=this.el.find("[data-quiz-fitb-form-action]"),s=i.data("quiz-fitb-form-action"),e={fitb_answers:i.serializeArray()},i.find("input:text").blur().prop("disabled",!0),this.options.submit(s,e),this.disable())},s.prototype.disable=function(){return this.el.find(".quiz-answers").addClass("inactive"),this.isDisabled=!0},s.prototype.render=function(){var t;return t=HoganTemplates["quizzes/fill_in_the_blank"].render(this.options.answers),this.el.html(t).find("a").attr("target","_blank"),this.el.find("input:text:first").focus()},s.prototype.empty=function(){return this.el.empty(),this.stopListening()},s}(Treehouse.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.toggleSteps=e(this.toggleSteps,this),s.__super__.constructor.apply(this,arguments),this.on("click",".toggle-steps",this.toggleSteps),this.on("pjax:end",this.clearElementsCache),this.expanded=this.get(".steps-list:visible").length>0}return i(s,t),s.prototype.toggleSteps=function(t){return t.preventDefault(),this.expanded?this.contract():this.expand()},s.prototype.expand=function(t){return null==t&&(t="fast"),this.get(".steps-list").stop(!0,!0).slideDown(t),this.get(".toggle-steps").addClass("selected"),this.get(".toggle-steps").addClass("selected"),this.expanded=!0},s.prototype.contract=function(t){return null==t&&(t="fast"),this.get(".steps-list").stop(!0,!0).slideUp(t),this.get(".toggle-steps").removeClass("selected"),this.get(".toggle-steps").removeClass("selected"),this.expanded=!1},s}(Treehouse.View),Featurette.register("expandable-content-card",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("truncate-tags",Treehouse.TruncateTags=function(i){function s(e){this.truncate=t(this.truncate,this),s.__super__.constructor.apply(this,arguments),this.listenTo(window,"resize",_.throttle(this.truncate,500),{triggerImmediately:!0})}return e(s,i),s.prototype.truncate=function(t){return this.get(".tags").each(function(t){return function(t,e){var i,s,r,o,n;return e=$(e),n=e.find(".truncated-tags ul"),s=e.innerWidth(),i=e.children(":not(.truncated-tags)"),n.empty(),i.show(),e.removeClass("truncated"),r=_.find(i,function(t){return t.offsetWidth+t.offsetLeft>s}),r?(o=i.slice(i.index(r),i.length+1),o.hide(),o.clone().appendTo(n),e.addClass("truncated"),n.find("li").show()):void 0}}(this))},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("track-update-actions",t=function(t){function s(t){this.updateCopy=e(this.updateCopy,this),this.showErrorUpdate=e(this.showErrorUpdate,this),this.showConfirmUpdate=e(this.showConfirmUpdate,this),this.updateTrack=e(this.updateTrack,this),this.declineUpdate=e(this.declineUpdate,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-decline-update]",this.declineUpdate),this.on("click","[data-update-track]",this.updateTrack)}return i(s,t),s.prototype.declineUpdate=function(){
return this.el.addClass("showing-confirmation"),this.updateCopy("declined")},s.prototype.updateTrack=function(t){return t.preventDefault(),this.get("[data-update-track]").html("Updating..."),$.ajax({url:this.get("[data-update-track]").attr("href"),type:"PUT",success:function(t){return function(){return t.showConfirmUpdate()}}(this),error:function(t){return function(){return t.showErrorUpdate()}}(this)}),!1},s.prototype.showConfirmUpdate=function(){return this.el.addClass("updated-track"),this.updateCopy("accepted")},s.prototype.showErrorUpdate=function(){return this.el.addClass("failed-update"),this.updateCopy("failed")},s.prototype.updateCopy=function(t){return $(["title","description"]).each(function(e){return function(i,s){var r;return r=e.get("[data-track-update-"+s+"]"),r.html(r.data(t+"-update"))}}(this))},s}(Treehouse.View))}.call(this),function(){var t,e,i,s=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=function(t){function e(t){this.handlePersonalize=s(this.handlePersonalize,this),this.personalize=s(this.personalize,this),this.handlePersonalize=s(this.handlePersonalize,this),this.handleBookmarkChange=s(this.handleBookmarkChange,this),this.handleBookmarkChanged=s(this.handleBookmarkChanged,this),this.bookmarkableFeaturette=s(this.bookmarkableFeaturette,this),this.handleBookmarkError=s(this.handleBookmarkError,this),this.handleBookmarkChanged=s(this.handleBookmarkChanged,this),this.handleBookmarkAdded=s(this.handleBookmarkAdded,this),this.handleQueueError=s(this.handleQueueError,this),this.handleQueueChanged=s(this.handleQueueChanged,this),this.handleQueueAdded=s(this.handleQueueAdded,this),this.isActivityType=s(this.isActivityType,this),this.identity=s(this.identity,this),this.deconstructor=s(this.deconstructor,this);var i;e.__super__.constructor.call(this,t),this.personalization=Treehouse.ActivityProgress.instance(),this.el.parents("[data-no-personalization]").count>0||(i=this.personalization.registerInterest(this.identity(),this.el.attr("id")),i===!0&&this.listenTo(document,"personalize",this.handlePersonalize)),this.el.find(".estimate").data("initial-value",this.el.find(".estimate").html()),this.on("queue:changed",this.handleQueueChanged),this.on("queue:added",this.handleQueueAdded),this.on("queue:error",this.handleQueueError),this.listenTo("body","bookmark:changed",this.handleBookmarkChanged),this.on("bookmark:change",this.handleBookmarkChange),this.on("bookmark:added",this.handleQueueAdded),this.on("bookmark:error",this.handleQueueError),this.el.on("remove",this.deconstructor),this.el.find(".estimate").data("initial-value",this.el.find(".estimate").html()),this.queueableTarp=new Treehouse.Library.QueueableTarp(this.el.find(".queueable-tarp"))}return r(e,t),e.prototype.deconstructor=function(){return this.personalization.unregisterInterest(this.identity(),this),this.stopListening()},e.prototype.identity=function(){return this.el.attr("data-activity")},e.prototype.isActivityType=function(t){var e;return t=_.string.dasherize(t.trim()),e=["bonus-content-series","syllabus","workshop"],e.indexOf(t)>=0&&this.el.hasClass(t)},e.prototype.handleQueueAdded=function(){return this.queueableTarp.show("added")},e.prototype.handleQueueChanged=function(){return this.personalization.expire(this.identity())},e.prototype.handleQueueError=function(){return this.queueableTarp.displayError()},e.prototype.handleBookmarkAdded=function(){return this.queueableTarp.show("added")},e.prototype.handleBookmarkChanged=function(){return this.personalization.expire(this.identity())},e.prototype.handleBookmarkError=function(){return this.queueableTarp.displayError()},e.prototype.bookmarkableFeaturette=function(){return Featurette.get(this.el.find("[data-featurette='bookmarkable']").attr("id"))},e.prototype.handleBookmarkChanged=function(t,e,i){if(e===this.identity()){if(i===Treehouse.Library.Bookmarkable.NOT_BOOKMARKED)return this.el.removeClass("bookmarked");if(i===Treehouse.Library.Bookmarkable.BOOKMARKED)return this.el.addClass("bookmarked")}},e.prototype.handleBookmarkChange=function(){return this.personalization.expire(this.identity())},e.prototype.handlePersonalize=function(t,e,i){return e===this.identity()?this.personalize(i):void 0},e.prototype.personalize=function(t){var e,i,s,r,o,n,a,u,l;if(this.inProgress=t.in_progress,this.percentComplete=t.percent_complete,this.completed=t.completed,this.upcoming=t.upcoming,i=this.el.find(".estimate"),this.completed?(i.data("initial-value")&&(l="You have completed this course! (It typically takes approximately "+i.data("initial-value")+" to complete.)"),i.html("Complete").attr("title",l)):this.inProgress&&(i.data("initial-value")&&(l="You have approximately "+t.formatted_time_left+" left of "+i.data("initial-value")+" to complete this activity."),i.html(t.formatted_time_left+" left").attr("title",l)),a=this.el.find(".stages").children(),t.stage_progress_classes)for(s=r=0,o=a.length;o>r;s=++r)n=a[s],$(n).addClass(t.stage_progress_classes[s]);else this.inProgress&&a.first().addClass("current");return this.inProgress&&this.el.find(".card-actions .resume a").text("Resume"),this.completed?(u=this.isActivityType("bonus_content_series")||this.isActivityType("workshop")?"Viewed":t.points_earned+" points achieved",this.el.find(".complete-title").html(u)):(null!=t.next_step_url||t.bookmarked)&&(this.el.find(".card-actions .resume a").attr("href",t.next_step_url),"forum"!==this.el.data("location")&&this.el.find(".current-step > svg").hide(),this.el.find(".current-step").removeClass("hidden"),this.el.find(".card-actions").removeClass("hidden")),this.upcoming&&this.el.addClass("upcoming"),this.inProgress&&this.el.addClass("in-progress"),this.completed&&this.el.addClass("completed"),t.queued&&this.get("."+Treehouse.LearningQueue.Item.QUEUEABLE_CLASS).addClass(Treehouse.LearningQueue.Item.QUEUED_CLASS),e=this.bookmarkableFeaturette(),e&&e.setState(t.bookmarked),this.el.addClass("personalized")},e.prototype.handlePersonalize=function(t,e,i){return e===this.identity()?this.personalize(i):void 0},e}(Treehouse.View),null!=(e=this.Treehouse)&&null!=(i=e.Library)&&(i.Card=t),Featurette.register("library-card",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Treehouse.Library||(Treehouse.Library={}),Treehouse.Library.Bookmarkable=function(t){function s(t){this.trigger=e(this.trigger,this),this.handleBookmarkChanged=e(this.handleBookmarkChanged,this),this.success=e(this.success,this),this.error=e(this.error,this),this.loaded=e(this.loaded,this),this.loading=e(this.loading,this),this.sendRequest=e(this.sendRequest,this),this.unbookmark=e(this.unbookmark,this),this.bookmark=e(this.bookmark,this),this.setState=e(this.setState,this),this.isBookmarked=e(this.isBookmarked,this),this.activityId=e(this.activityId,this),s.__super__.constructor.apply(this,arguments),this.el.data("bookmarked")||this.el.data("bookmarked",!1),this.on("click","a.bookmark, a.unbookmark, .undo",this.sendRequest),this.listenTo("body","bookmark:changed",this.handleBookmarkChanged),this.el.on("remove",this.stopListening)}return i(s,t),s.BOOKMARKED="bookmarked",s.NOT_BOOKMARKED="not-bookmarked",s.prototype.activityId=function(){return this.el.data("activity")||this.el.parents("[data-activity]").data("activity")},s.prototype.isBookmarked=function(){return this.el.data("bookmarked")},s.prototype.setState=function(t){return this.el.data("bookmarked",t===s.BOOKMARKED||t===!0),this.trigger("bookmark:changed")},s.prototype.bookmark=function(){return this.isBookmarked()?void 0:this.el.find("a.bookmark").click()},s.prototype.unbookmark=function(){return this.isBookmarked()?this.el.find("a.unbookmark").click():void 0},s.prototype.sendRequest=function(t){var e;return e=$(t.currentTarget),t.preventDefault(),$.ajax({dataType:"text",type:e.data("method"),url:e.attr("href"),beforeSend:this.loading,complete:this.loaded,error:this.error,success:this.success}),!1},s.prototype.loading=function(){return this.el.addClass("loading"),this.trigger("bookmark:change")},s.prototype.loaded=function(){return this.el.removeClass("loading")},s.prototype.error=function(){return this.trigger("bookmark:error"),this.tarp.displayError()},s.prototype.success=function(t){return this.setState(!this.isBookmarked()),_.defer(function(e){return function(){return e.trigger("bookmark:"+t)}}(this))},s.prototype.handleBookmarkChanged=function(t,e,i){return e===this.activityId()&&(i===s.NOT_BOOKMARKED&&this.el.removeClass("bookmarked"),i===s.BOOKMARKED)?this.el.addClass("bookmarked"):void 0},s.prototype.trigger=function(t){var e;return e=this.isBookmarked()===!0?s.BOOKMARKED:s.NOT_BOOKMARKED,this.el.trigger(t,[this.activityId(),e])},s}(Treehouse.View),t=Treehouse.Library.Bookmarkable,Featurette.register("bookmarkable",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Library.QueueableTarp=function(i){function s(e){this.trigger=t(this.trigger,this),this.displayError=t(this.displayError,this),this.show=t(this.show,this),s.__super__.constructor.call(this,e)}return e(s,i),s.prototype.show=function(t){var e;return this.get(".confirmation-tarp:not(.undo):visible").stop(!0,!0).fadeOut(150),this.get(".undo").is(":visible")?this.get(".undo:visible").stop(!0,!0).delay(50).fadeOut(150,callback):(e=this.get("."+t),e.show().delay(4e3).fadeOut(300))},s.prototype.displayError=function(){return this.get(".error").show()},s.prototype.trigger=function(t){return this.el.trigger(t)},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.ActivityProgress=function(){function e(){this.expire=t(this.expire,this),this.missingActivities=t(this.missingActivities,this),this.cycle=t(this.cycle,this),this.broadcast=t(this.broadcast,this),this.failedToLoadData=t(this.failedToLoadData,this),this.loadedData=t(this.loadedData,this),this.unregisterInterest=t(this.unregisterInterest,this),this.registerInterest=t(this.registerInterest,this);var e,i,s,r;this.enabled()?(s=Treehouse.currentUser.cache_marks.progress,e=Treehouse.currentUser.cache_marks.bookmarks,r=Treehouse.currentUser.cache_marks.queue,i="progress:"+s+"/"+("bookmarks:"+e+"/")+("queue:"+r),this.cache=new Treehouse.Cache({namespace:{namespace:i,currentUser:!0}}),this.registeredActivities={},this.pendingActivities=[]):console.warn("No logged in user, no activity personalization.")}return e.instance=function(){return null!=this._instance?this._instance:this._instance=new Treehouse.ActivityProgress},e.prototype.enabled=function(){return Treehouse.isLoggedIn===!0},e.prototype.registerInterest=function(t,e){var i;return this.enabled()&&t?(i=e+": "+t,this.registeredActivities[i]=t,_.defer(function(e){return function(){return e.broadcast(t)}}(this)),_.defer(this.cycle),!0):!1},e.prototype.unregisterInterest=function(t,e){var i;return this.enabled()?(i=e+": "+t,this.registeredActivities[i]?delete this.registeredActivities[i]:!1):!1},e.prototype.loadedData=function(t,e){return delete this.pendingActivities[_.indexOf(this.pendingActivities,t)],this.cache.write(t,e),this.broadcast(t)},e.prototype.failedToLoadData=function(t){return delete this.pendingActivities[_.indexOf(this.pendingActivities,t)],$(document).trigger("personalize:failure",t)},e.prototype.broadcast=function(t){var e;return e=this.cache.read(t),e?($(document).trigger("personalize",[t,e]),!0):!1},e.prototype.cycle=function(){var t;return this.enabled()?(t=this.chunkArray(this.missingActivities(),30),_.each(t,function(t){return function(e){return e.length>0?(t.pendingActivities=_.union(t.pendingActivities,e),new Treehouse.ActivityProgress.Request(e)):void 0}}(this))):void 0},e.prototype.missingActivities=function(){var t;return t=_.select(_.values(this.registeredActivities),function(t){return function(e){return t.cache.exists(e)}}(this)),_.difference(_.values(this.registeredActivities),t,this.pendingActivities)},e.prototype.expire=function(t){return this.cache["delete"](t),$(document).trigger("personalize:expired",t)},e.prototype.chunkArray=function(t,e){return null==e&&(e=15),[].concat.apply([],t.map(function(i,s){return s%e?[]:[t.slice(s,s+e)]}))},e}(),Treehouse.ActivityProgress.Request=function(){function e(e){this.handleErrorResponse=t(this.handleErrorResponse,this),this.handleSuccessResponse=t(this.handleSuccessResponse,this),this.activityIds=e,$.isEmptyObject(e)||$.ajax({type:"POST",url:"/progress",data:{activities:e},success:this.handleSuccessResponse,error:this.handleErrorResponse})}return e.prototype.handleSuccessResponse=function(t){return _.each(t,function(t){return function(t){return Treehouse.ActivityProgress.instance().loadedData(t.identity,t)}}(this))},e.prototype.handleErrorResponse=function(){return _.each(this.activityIds,function(t){return function(t){return Treehouse.ActivityProgress.instance().failedToLoadData(t)}}(this))},e}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(){this.createChart=e(this.createChart,this),this.dataSeries=e(this.dataSeries,this),this.goalSeries=e(this.goalSeries,this),this.getDays=e(this.getDays,this),this.getDay=e(this.getDay,this),s.__super__.constructor.apply(this,arguments),this.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.yMinimum=4,this.createChart()}return i(s,t),s.prototype.getDay=function(t){return this.days[Date.parse(t).getDay()]},s.prototype.getDays=function(){return this.data.step.stats.map(function(t){return function(e){return t.getDay(e[0])}}(this))},s.prototype.goalSeries=function(){return _.range(this.data.step.stats.length).map(function(t){return function(){return t.data.totalSteps}}(this))},s.prototype.dataSeries=function(){return this.data.step.stats.map(function(t){return function(e){return{meta:t.getDay(e[0]),value:e[1]}}}(this))},s.prototype.createChart=function(){var t;return t=this.dataSeries(),new Chartist.Line(this.el.get(0),{labels:this.getDays(),series:[this.goalSeries(),t]},{high:Math.max.apply(Math,t.map(_.property("value")).concat(this.yMinimum)),fullWidth:!0,lineSmooth:Chartist.Interpolation.simple({divisor:2}),axisY:{onlyInteger:!0},axisX:{showGrid:!1},classNames:{point:"ct-point "+this.data.topicStrokeClass},plugins:[Chartist.plugins.tooltip({tooltipFnc:function(t){return function(e,i){var s;return s="1"===i?"step":"steps",'<div class="chartist-tooltip-box ct-tooltip-push-down">\n  <strong class="ct-tooltip-date '+t.data.topicColorClass+'">'+e+'</strong>\n  <span class="ct-tooltip-steps-complete">'+i+" "+s+"</span>\n</div>"}}(this)})]}).on("draw",function(t){return function(e){var i,s;return"line"===e.type?0===e.seriesIndex?e.group.addClass("ct-series-goal"):(e.element.addClass(t.data.topicStrokeClass),s=e.element._node.getTotalLength(),e.element.attr({"stroke-dasharray":s+"px "+s+"px"}),e.element.animate({"stroke-dashoffset":{dur:2e3,from:s+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}})):"point"===e.type?(i=new Chartist.Svg("circle",{r:4,cx:e.x,cy:e.y,"ct:meta":e.meta,"ct:value":e.series[e.index].value},"ct-point ct-circle "+t.data.topicStrokeClass),e.value.y>=t.data.totalSteps&&i.addClass("ct-goal-completed "+t.data.topicFillClass),e.element.replace(i)):void 0}}(this))},s}(Treehouse.View),Featurette.register("learning-flow-weekly-progress",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.LearningQueue&&(Treehouse.LearningQueue={}),Treehouse.LearningQueue.Queue=function(i){function s(e){this.setFirstItemCurrent=t(this.setFirstItemCurrent,this),this.restorePreDragScrollTop=t(this.restorePreDragScrollTop,this),this.savePreDragScrollTop=t(this.savePreDragScrollTop,this),this.clearPreAddScrollTop=t(this.clearPreAddScrollTop,this),this.restorePreAddScrollTop=t(this.restorePreAddScrollTop,this),this.savePreAddScrollTop=t(this.savePreAddScrollTop,this),this.toggleLastNResults=t(this.toggleLastNResults,this),this.showItemLoading=t(this.showItemLoading,this),this.toggleSearchResults=t(this.toggleSearchResults,this),this.closeOnEscape=t(this.closeOnEscape,this),this.clearSearchInput=t(this.clearSearchInput,this),this.clearSearchResults=t(this.clearSearchResults,this),this.searchFailed=t(this.searchFailed,this),this.searchComplete=t(this.searchComplete,this),this.search=t(this.search,this),this.hideSearchPanel=t(this.hideSearchPanel,this),this.showSearchPanel=t(this.showSearchPanel,this),this.addToQueue=t(this.addToQueue,this),this.setEmptyQueuePlaceholderVisibility=t(this.setEmptyQueuePlaceholderVisibility,this),this.resetRecommendations=t(this.resetRecommendations,this),this.displayRecommendations=t(this.displayRecommendations,this),this.loadRecommendations=t(this.loadRecommendations,this),this.move=t(this.move,this),this.dragSort=t(this.dragSort,this),this.dragStop=t(this.dragStop,this),this.dragStart=t(this.dragStart,this),this.toggleDropDown=t(this.toggleDropDown,this),this.removeItem=t(this.removeItem,this),this.addItem=t(this.addItem,this),s.__super__.constructor.apply(this,arguments),this.addToQueueEl=this.get(".queue-addition-search"),this.on("click",".queue-content-actions",this.toggleDropDown),this.on("click",".queue-addition-button",this.addToQueue),this.on("click","li:not(.empty-queue-placeholder) .queue-node-controller",this.hideSearchPanel),this.on("click",".queue-panel .toggle-results",this.toggleSearchResults),this.on("click",".clear-search",function(t){return function(){return t.clearSearchInput(!0)}}(this)),this.on("keyup","[data-queue-element=search-form] input",_.debounce(this.search,200)),this.on("submit","[data-queue-element=search-form]",function(){return!1}),this.on("keydown","[data-queue-element=search-form] input",this.closeOnEscape),this.on("mousedown",".queue-node-dragger",this.savePreDragScrollTop),this.listenTo("body","queue:added",this.addItem),this.listenTo("body","queue:removed",this.removeItem),this.get(".learning-queue").sortable({axis:"y",containment:"[data-queue-element=queue-container]",handle:".queue-node-dragger",items:".queue-item",start:this.dragStart,stop:this.dragStop,sort:this.dragSort}),this.body=$("body"),this.setEmptyQueuePlaceholderVisibility()}return e(s,i),s.prototype.searchResultsToShowInitially=8,s.prototype.allResultsShown=!1,s.prototype.keyCodeEscape=27,s.prototype.addItem=function(t,e){var i,s;return s=$(t.target),i=s.closest("[data-queue-item-id]"),this.hideSearchPanel(),this.restorePreAddScrollTop(),this.resetRecommendations(),$.ajax({url:this.data.queueUrl+"/"+e.id,type:"GET",success:function(t){return function(e){var s;return s=$(e),i.length?i.after(s):t.get(".learning-queue").append(s),t.clearElementsCache(),t.setEmptyQueuePlaceholderVisibility(),t.setFirstItemCurrent(),setTimeout(function(){return s.cssAnimate(2e3)},100),Treehouse.init()}}(this)})},s.prototype.removeItem=function(t,e){var i;return i=this.get("[data-queue-item-id="+e.id+"]"),i.addClass("hide"),setTimeout(function(t){return function(){return i.remove(),t.clearElementsCache(),t.resetRecommendations(),t.setEmptyQueuePlaceholderVisibility(),t.setFirstItemCurrent(i)}}(this),600)},s.prototype.toggleDropDown=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.toggleClass("selected"),e.children(".dropdown-child").toggle()},s.prototype.dragStart=function(t,e){var i;return this.restorePreDragScrollTop(),i=e.item.find(".queue-card"),this.hideSearchPanel(),i.addClass("drag"),$(".queue-node-dragger").addClass("hide"),e.item.find(".queue-node-dragger").removeClass("hide")},s.prototype.dragStop=function(t,e){var i,s,r;return this.clearElementsCache(),s=e.item.find(".queue-card"),s.removeClass("drag"),this.get(".queue-node-dragger").removeClass("hide"),this.setFirstItemCurrent(s),r=e.item.attr("data-queue-item-id"),i=e.item.prev("li").attr("data-queue-item-id"),this.move(r,i)},s.prototype.dragSort=function(t,e){var i;return i=t.pageY-this.el.offset().top,i-=35,e.helper.css({top:i+"px"})},s.prototype.move=function(t,e){var i;return i={item_id:t,insert_after_item_id:e},$.ajax({url:this.data.moveItemUrl,type:"PUT",data:i,success:function(t){return function(e){return t.body.trigger("queue:changed")}}(this)})},s.prototype.loadRecommendations=function(){return this.recommendations?void this.displayRecommendations():$.get(this.data.recommendationsUrl,function(t){return function(e){return t.recommendations=e,t.displayRecommendations()}}(this))},s.prototype.displayRecommendations=function(){return this.get("[data-queue-element=search-results]").html(this.recommendations),Treehouse.init()},s.prototype.resetRecommendations=function(){return this.recommendations=null},s.prototype.setEmptyQueuePlaceholderVisibility=function(){var t,e;return t=this.get(".empty-queue-placeholder"),this.get(".queue-item").length?t.hide():(t.show(),e=t.find(".queue-addition"),this.showSearchPanel(e))},s.prototype.addToQueue=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).closest(".queue-addition"),this.showSearchPanel(e)},s.prototype.showSearchPanel=function(t){return this.currentSearchQuery="",this.clearPreAddScrollTop(),this.loadRecommendations(),this.get(".queue-addition").removeClass("panel-active"),this.get(".queue-node-dragger").addClass("hide"),this.addToQueueEl.detach().appendTo(t),_.defer(function(e){return function(){return t.addClass("panel-active"),t.find("[data-queue-element=search-form] input").focus()}}(this))},s.prototype.hideSearchPanel=function(t){return null!=t&&t.preventDefault(),this.get(".queue-addition").removeClass("panel-active"),this.get(".queue-node-dragger").removeClass("hide"),this.clearSearchInput(),this.get("[data-queue-element=search-results]").empty()},s.prototype.search=function(t){var e,i,s;return t.preventDefault(),null!=(i=this.searchInProgress)&&i.abort(),e=this.get("[data-queue-element=search-form] input").val().trim(),e!==this.currentSearchQuery?(this.currentSearchQuery=e,e.length?(s=this.data.searchUrl+("?query="+e),this.el.addClass("search-loading"),this.el.removeClass("search-complete"),this.searchInProgress=$.get(s,this.searchComplete).fail(this.searchFailed)):this.clearSearchResults()):void 0},s.prototype.searchComplete=function(t){return this.searchInProgress=null,this.clearElementsCache(),this.get("[data-queue-element=search-results]").html(t),this.toggleLastNResults({show:!1}),this.el.removeClass("search-loading"),this.el.addClass("search-complete"),Treehouse.init()},s.prototype.searchFailed=function(){return this.searchInProgress=null},s.prototype.clearSearchResults=function(){return this.el.removeClass("search-complete"),this.get("[data-queue-element=search-results]").empty(),this.loadRecommendations()},s.prototype.clearSearchInput=function(t){return this.clearSearchResults(),this.get("[data-queue-element=search-form] input").val(""),t?this.get("[data-queue-element=search-form] input").focus():void 0},s.prototype.closeOnEscape=function(t){return t.keyCode===this.keyCodeEscape?(t.preventDefault(),this.el.removeClass("panel-active"),this.clearSearchInput()):void 0},s.prototype.toggleSearchResults=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),this.allResultsShown?(this.restorePreAddScrollTop(),this.toggleLastNResults({show:!1}),e.html(e.data("text")),this.allResultsShown=!1):(this.savePreAddScrollTop(),this.toggleLastNResults({show:!0}),e.html(e.data("swap")),this.allResultsShown=!0)},s.prototype.showItemLoading=function(t){return $(t.target).find(".queue-content-actions").addClass("loading")},s.prototype.toggleLastNResults=function(t){var e,i;return e=this.searchResultsToShowInitially+1,i=this.get("[data-queue-element=search-results] li:nth-child(n+"+e+")"),t.show?i.removeClass("truncated"):i.addClass("truncated")},s.prototype.savePreAddScrollTop=function(){return this.preAddScrollTop=$(window).scrollTop()},s.prototype.restorePreAddScrollTop=function(){return-1!==this.preAddScrollTop&&$(window).scrollTop(this.preAddScrollTop),this.preAddScrollTop=-1},s.prototype.clearPreAddScrollTop=function(){return this.preAddScrollTop=-1},s.prototype.savePreDragScrollTop=function(){return this.preDragScrollTop=$(window).scrollTop()},s.prototype.restorePreDragScrollTop=function(){return this.preDragScrollTop?($(window).scrollTop(this.preDragScrollTop),this.preDragScrollTop=null):void 0},s.prototype.setFirstItemCurrent=function(t){return null!=t&&t.cssAnimate(500),_.delay(function(t){return function(){return $(".queue-item").removeClass("current"),$(".queue-item").first().addClass("current")}}(this),25)},s}(Treehouse.View),Featurette.register("learning-queue/queue",Treehouse.LearningQueue.Queue)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.LearningQueue&&(Treehouse.LearningQueue={}),Treehouse.LearningQueue.Item=function(i){function s(e){this.success=t(this.success,this),this.error=t(this.error,this),this.loaded=t(this.loaded,this),this.loading=t(this.loading,this),this.sendRequest=t(this.sendRequest,this),this.cancelRemove=t(this.cancelRemove,this),this.confirmRemove=t(this.confirmRemove,this),s.__super__.constructor.apply(this,arguments),this.queuedClass=Treehouse.LearningQueue.Item.QUEUED_CLASS,this.loadingClass=Treehouse.LearningQueue.Item.LOADING_CLASS,this.on("click","[data-queue-action='confirm-remove']",this.confirmRemove),this.on("click","[data-queue-action='cancel-remove']",this.cancelRemove),this.on("click","[data-queue-action='add'], [data-queue-action='remove']",this.sendRequest)}return e(s,i),s.QUEUED_CLASS="queued",s.LOADING_CLASS="loading",s.QUEUEABLE_CLASS="queueable",s.prototype.confirmRemove=function(t){return t.preventDefault(),t.stopPropagation(),$(t.target).closest(".queue-content-actions").click(),this.get(".confirmation-container").addClass("active")},s.prototype.cancelRemove=function(t){return t.preventDefault(),t.stopPropagation(),this.get(".confirmation-container").removeClass("active")},s.prototype.sendRequest=function(t){var e,i;return t.preventDefault(),t.stopPropagation(),this.action=$(t.currentTarget).data("queueAction"),i=$(t.currentTarget),e={},e.insert_after_item_id=i.closest("[data-queue-item-id]").data("queueItemId"),$.ajax({type:i.data("method"),url:i.attr("href"),data:e,beforeSend:this.loading,complete:this.loaded,error:this.error,success:this.success})},s.prototype.loading=function(){return this.el.addClass(this.loadingClass),this.el.trigger("queue:"+this.action)},s.prototype.loaded=function(){return this.el.removeClass(this.loadingClass)},s.prototype.error=function(){return this.el.trigger("queue:error")},s.prototype.success=function(t){var e,i,s,r,o;if(t.message){for("added"===t.message&&this.el.addClass(this.queuedClass),"removed"===t.message&&this.el.removeClass(this.queuedClass),this.action=null,this.el.trigger("queue:changed"),s=t.resources,o=[],e=0,i=s.length;i>e;e++)r=s[e],o.push(this.el.trigger("queue:"+t.message,r));return o}},s}(Treehouse.View),Featurette.register("learning-queue/item",Treehouse.LearningQueue.Item)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.LearningQueue&&(Treehouse.LearningQueue={}),Treehouse.LearningQueue.StatusPanel=function(i){function s(e){this.refreshPanel=t(this.refreshPanel,this),this.scrollToTop=t(this.scrollToTop,this),this.toggleLastNResults=t(this.toggleLastNResults,this),this.togglePanelResults=t(this.togglePanelResults,this),this.removeStatusBookmark=t(this.removeStatusBookmark,this),this.loadFilters=t(this.loadFilters,this),this.onPjaxEnd=t(this.onPjaxEnd,this),s.__super__.constructor.apply(this,arguments),_.delay(this.loadFilters,100),this.toggleLastNResults({show:!1}),this.on("bookmark:removed",this.removeStatusBookmark),this.on("click",".toggle-results",this.togglePanelResults),this.on("pjax:end","#student-content",this.onPjaxEnd),this.listenTo("body","queue:changed",this.refreshPanel)}return e(s,i),s.prototype.searchResultsToShowInitially=10,s.prototype.allResultsShown=!1,s.prototype.onPjaxEnd=function(t){return this.clearElementsCache(),this.toggleLastNResults({show:!1})},s.prototype.loadFilters=function(){return this.filters||(this.filters=new Filters({basePath:"queue",container:"#student-content",binds:{view:Featurette.get("view")}}))},s.prototype.removeStatusBookmark=function(t){var e;if($(t.target).closest(".student-bookmarks").length)return e=$(t.target).closest(".queue-content").parent(),e.remove()},s.prototype.togglePanelResults=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),this.allResultsShown?(this.scrollToTop(),this.toggleLastNResults({show:!1}),e.html(e.data("text")),this.allResultsShown=!1):(this.toggleLastNResults({show:!0}),e.html(e.data("swap")),this.allResultsShown=!0)},s.prototype.toggleLastNResults=function(t){var e,i;return e=this.searchResultsToShowInitially+1,i=this.get("[data-queue-element=panel-results] li:nth-child(n+"+e+")"),t.show?i.removeClass("truncated"):i.addClass("truncated")},s.prototype.scrollToTop=function(){return $(window).scrollTop(-100)},s.prototype.refreshPanel=function(t){return this.filters.update()},s}(Treehouse.View),Featurette.register("learning-queue/status-panel",Treehouse.LearningQueue.StatusPanel)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.Degree&&(Treehouse.Degree={}),Treehouse.Degree.ProgressChart=function(i){function s(){this.yAxisMax=t(this.yAxisMax,this),this.getDays=t(this.getDays,this),s.__super__.constructor.apply(this,arguments),new Chartist.Line(this.el.get(0),{labels:this.getDays(),series:[this.data.stats.map(_.property(1))]},{high:this.yAxisMax(),fullWidth:!0,lineSmooth:Chartist.Interpolation.simple({divisor:2}),axisY:{onlyInteger:!0,labelInterpolationFnc:function(t,e){return 0===e?"&nbsp;":t}},axisX:{showGrid:!1},plugins:[Chartist.plugins.tooltip({tooltipFnc:function(t,e){return'<div class="chartist-tooltip-box">\n  <div class="stat">\n    <span class="stat-data">'+(e||0)+"</span>\n  </div>\n</div>"}})]})}return e(s,i),s.prototype.getDays=function(){var t;return t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.data.stats.map(function(e){return t[Date.parse(e[0]).getDay()]})},s.prototype.yAxisMax=function(){return Math.max.apply(Math,this.data.stats.map(_.property(1)).concat(3))+1},s}(Treehouse.View),Featurette.register("degree/progress-chart",Treehouse.Degree.ProgressChart)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.Degree&&(Treehouse.Degree={}),Treehouse.Degree.Dashboard=function(i){function s(e){this.replayCurrentInstructionVideo=t(this.replayCurrentInstructionVideo,this),this.loadInstructionControls=t(this.loadInstructionControls,this),this.resetReviewClass=t(this.resetReviewClass,this),this.scheduleSession=t(this.scheduleSession,this),this.submitReviewForm=t(this.submitReviewForm,this),this.enableReviewForm=t(this.enableReviewForm,this),this.switchPanel=t(this.switchPanel,this),this.loadFilters=t(this.loadFilters,this),s.__super__.constructor.apply(this,arguments),this.panelsParent=this.get("#degree-views"),this.on("submit","[data-panel='"+this.reviewPanel+"'] form",this.submitReviewForm),this.on("change","[data-panel='"+this.reviewPanel+"'] [name='"+this.ratingInput+"']",this.enableReviewForm),
this.on("click","[data-action='schedule-session']",this.scheduleSession),this.on("click",".show-instruction",this.loadInstruction),this.on("click",".hide-instruction",this.hideInstruction),this.on("click",".complete-instruction",this.completeInstruction),this.on("click",".rewatch-video",this.replayCurrentInstructionVideo),this.on("click","[data-acknowledge-url]",this.acknowledgeCompletedProject),this.listenTo(window,"hashchange",this.switchPanel),this.get(".current-activity video").size()&&this.get(".current-activity video").get(0).addEventListener("ended",this.loadInstructionControls),location.hash&&this.switchPanel(),_.delay(this.loadFilters,100)}return e(s,i),s.prototype.pendingReviewClass="pending-review",s.prototype.sessionReminderClass="session-reminder",s.prototype.overviewPanel="overview",s.prototype.mentorshipPanel="mentorship",s.prototype.reviewPanel="review",s.prototype.ratingInput="degree_mentorship_session_review[rating]",s.prototype.reviewConfirmationPanel="review-confirmation",s.prototype.loadFilters=function(){return this.filters||(this.filters=new Filters({basePath:"techdegree",container:"#degree-pjax",binds:{view:Featurette.get("view")}}))},s.prototype.switchPanel=function(t){return location.hash&&(t=location.hash.replace("#","")),this.get("[data-panel='"+t+"']").length?(this.get("[data-panel]").hide(),this.get("[data-panel='"+t+"']").show(),t!==this.overviewPanel?this.get("[data-panel='"+this.mentorshipPanel+"']").show():void 0):!1},s.prototype.enableReviewForm=function(t){var e;return e=$(t.currentTarget),e.closest("form").find("[disabled]").removeAttr("disabled")},s.prototype.submitReviewForm=function(t){var e;return e=$(t.currentTarget),t.preventDefault(),$.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),beforeSend:function(t){return function(){return e.find(".error").hide(),t.panelsParent.addClass("loading")}}(this),success:function(t){return function(){return t.panelsParent.removeClass("loading"),t.resetReviewClass(),location.hash=t.reviewConfirmationPanel}}(this),error:function(t){return function(){return e.find(".error").show(),t.panelsParent.removeClass("loading")}}(this)})},s.prototype.scheduleSession=function(){return $.ajax({type:"POST",url:this.data.scheduleSessionUrl,complete:function(t){return function(){return t.get("."+t.sessionReminderClass).removeClass(t.sessionReminderClass),location.hash=t.overviewPanel}}(this)})},s.prototype.resetReviewClass=function(){return this.get("."+this.pendingReviewClass).removeClass(this.pendingReviewClass)},s.prototype.loadInstruction=function(t){var e,i;return e=$(t.target).closest(".curriculum-activity").find(".instruction-video"),i=$(t.target).closest(".curriculum-activity").find(".instructable"),e.addClass("active"),e.find("video").trigger("play"),i.addClass("active")},s.prototype.hideInstruction=function(t){var e,i;return e=$(t.target).closest(".curriculum-activity").find(".instruction-video"),i=$(t.target).closest(".curriculum-activity").find(".instructable"),e.removeClass("active"),e.find("video").trigger("pause"),i.removeClass("active")},s.prototype.completeInstruction=function(t){var e,i;return t.preventDefault(),i=$(t.target),e=i.closest("li"),$.ajax({type:"PUT",url:i.attr("data-complete-instruction-url"),success:function(t){return t&&e.next().replaceWith(t),e.remove()}})},s.prototype.loadInstructionControls=function(t){return this.get(".completed-overlay").addClass("active")},s.prototype.replayCurrentInstructionVideo=function(t){return t.preventDefault(),this.get(".completed-overlay").removeClass("active"),$(t.target).closest(".current-activity").find("video").trigger("play")},s.prototype.acknowledgeCompletedProject=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.closest("li").remove(),$.ajax({type:"PUT",url:e.attr("data-acknowledge-url")})},s}(Treehouse.View),Featurette.register("degree/dashboard",Treehouse.Degree.Dashboard)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("form-select",Treehouse.FormSelect=function(i){function s(e){this.toggleEmptyState=t(this.toggleEmptyState,this),s.__super__.constructor.apply(this,arguments),this.options=this.el.children(),this.on("change",this.toggleEmptyState),this.el.chosen({allow_single_deselect:!0,display_selected_options:!1,single_backstroke_delete:!1,disable_search:this.el.is('[data-search="disabled"]'),width:"100%"})}return e(s,i),s.prototype.toggleEmptyState=function(t,e){var i;return i=this.el.val(),this.el.next().toggleClass("chosen-drop-empty",null!==i&&i.length===this.options.length)},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout=function(i){function s(e){this.moveMarkupToTarget=t(this.moveMarkupToTarget,this),this.moveMarkupOnTabletBreakpoint=t(this.moveMarkupOnTabletBreakpoint,this),this.isMobile=t(this.isMobile,this),this.isTablet=t(this.isTablet,this),this.toggleScrollingStates=t(this.toggleScrollingStates,this),this.scrollTo=t(this.scrollTo,this),this.getScrollTop=t(this.getScrollTop,this),this.setScrollTop=t(this.setScrollTop,this),this.loaded=t(this.loaded,this),this.loading=t(this.loading,this),this.setVariables=t(this.setVariables,this),s.__super__.constructor.apply(this,arguments),this.window=$(window),this.document=$(document),this.elements={},this.elements.hero=new Treehouse.Layout.Hero(this.el.find("[data-layout-element=hero]"),this),this.listenTo(document,"scroll",this.toggleScrollingStates,{triggerImmediately:!0}),this.listenTo(window,"resize",_.throttle(this.setVariables,750),{triggerImmediately:!0}),this.listenTo(window,"resize",_.throttle(this.moveMarkupOnTabletBreakpoint,750),{triggerImmediately:!0}),this.listenTo(window,"load",this.loaded)}return e(s,i),s.prototype.setVariables=function(){return this.windowWidth=this.window.width(),this.windowHeight=this.window.height(),this.documentHeight=this.document.height()},s.prototype.loading=function(){return this.el.addClass("loading").removeClass("loaded")},s.prototype.loaded=function(){return this.el.addClass("loaded").removeClass("loading")},s.prototype.setScrollTop=function(){return this.scrollTop=this.document.scrollTop()},s.prototype.getScrollTop=function(){return this.scrollTop},s.prototype.scrollTo=function(t){return $("html, body").animate({scrollTop:t-70,600:600})},s.prototype.toggleScrollingStates=function(){return this.setScrollTop(),this.el.toggleClass("scrolling",this.getScrollTop()>0),this.el.toggleClass("scrolling-down",(this.getScrollTop()>this.lastScrollPosition||this.getScrollTop()+this.windowHeight>=this.documentHeight)&&this.getScrollTop()>0),this.el.toggleClass("scrolling-up",this.getScrollTop()<this.lastScrollPosition&&this.getScrollTop()>0&&this.getScrollTop()+this.windowHeight<this.documentHeight),this.lastScrollPosition=this.getScrollTop()},s.prototype.isTablet=function(){return this.windowWidth<959},s.prototype.isMobile=function(){return this.windowWidth<679},s.prototype.moveMarkupOnTabletBreakpoint=function(){return!this.movedToTarget&&this.isTablet()?(this.moveMarkupToTarget(this.get("[data-markup-move]"),this.get("[data-markup-move-target]")),this.movedToTarget=!0,this.movedToOrigin=!1,this.window.trigger("resize")):this.movedToOrigin||!this.movedToTarget||this.isTablet()?void 0:(this.moveMarkupToTarget(this.get("[data-markup-move-target]"),this.get("[data-markup-move]")),this.movedToTarget=!1,this.movedToOrigin=!0,this.window.trigger("resize"))},s.prototype.moveMarkupToTarget=function(t,e){return e.html(t.contents().clone(!0)),t.html("")},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Hero=function(i){function s(e,i){this.layout=i,this.removeClass=t(this.removeClass,this),this.addClass=t(this.addClass,this),this.onVideoEnd=t(this.onVideoEnd,this),this.onVideoPause=t(this.onVideoPause,this),this.onVideoPlay=t(this.onVideoPlay,this),this.stopVideo=t(this.stopVideo,this),this.stopVideoOnEsc=t(this.stopVideoOnEsc,this),this.playVideo=t(this.playVideo,this),this.scrolling=t(this.scrolling,this),this.addBackground=t(this.addBackground,this),this.addVideoEvents=t(this.addVideoEvents,this),s.__super__.constructor.apply(this,arguments),this.el.length>0&&(this.on("click","[data-play-hero-video]",this.playVideo),this.on("click","button#hero-close-video",this.stopVideo),this.listenTo(document,"scroll",_.throttle(this.scrolling,750),{triggerImmediately:!0}),this.listenTo(document,"keyup",this.stopVideoOnEsc),this.addBackground(),this.addVideoEvents())}return e(s,i),s.prototype.addVideoEvents=function(){var t;return t=this.get("video"),t.length>0?(this.video=t.get(0),this.video.addEventListener("play",this.onVideoPlay),this.video.addEventListener("ended",this.onVideoEnd),this.video.addEventListener("pause",this.onVideoPause),this.listenTo(document,"video-playing",this.onVideoPlay),this.listenTo(document,"video-paused",this.onVideoPause),this.listenTo(document,"video-ended",this.onVideoEnd)):void 0},s.prototype.addBackground=function(){return this.get("img#hero-background").length>0&&this.el.css("background-image","url("+this.get("img#hero-background").attr("src")+")"),this.addClass("hero-loaded")},s.prototype.scrolling=function(t){return this.layout.el.toggleClass("scrolled-past-hero",$(document).scrollTop()>this.el.outerHeight())},s.prototype.playVideo=function(){return this.layout.el.hasClass("ipad")?(this.el.find(".mejs-overlay-play").click(),this.onVideoPlay()):this.get("video").trigger("play")},s.prototype.stopVideoOnEsc=function(t){return 27===t.which?this.stopVideo():void 0},s.prototype.stopVideo=function(){return this.get("video").trigger("stop"),this.addClass("hero-video-stopped")},s.prototype.onVideoPlay=function(t){return this.addClass("hero-video-playing hero-video-in-progress"),this.removeClass("hero-video-played hero-video-paused hero-video-stopped")},s.prototype.onVideoPause=function(t){return this.addClass("hero-video-paused"),this.removeClass("hero-video-playing")},s.prototype.onVideoEnd=function(t){return this.addClass("hero-video-played"),this.removeClass("hero-video-playing hero-video-paused hero-video-in-progress"),this.layout.el.hasClass("ios")?this.video.webkitExitFullScreen():void 0},s.prototype.addClass=function(t){return this.el.addClass(t),this.layout.el.addClass(t)},s.prototype.removeClass=function(t){return this.el.removeClass(t),this.layout.el.removeClass(t)},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application=function(i){function s(e){this.expandDesktopNav=t(this.expandDesktopNav,this),this.collapseDesktopNav=t(this.collapseDesktopNav,this),this.isDesktopNavExpanded=t(this.isDesktopNavExpanded,this),this.expandMobileNav=t(this.expandMobileNav,this),this.collapseMobileNav=t(this.collapseMobileNav,this),this.isMobileNavExpanded=t(this.isMobileNavExpanded,this),this.removeContext=t(this.removeContext,this),this.addContext=t(this.addContext,this);var i;s.__super__.constructor.apply(this,arguments),this.elements.navigation=new Treehouse.Layout.Application.Navigation(this.el.find("[data-layout-element=navigation]"),this),this.elements.breadcrumb=new Treehouse.Layout.Application.Breadcrumb(this.el.find("[data-layout-element=breadcrumb]"),this),this.elements.accountMenu=new Treehouse.Layout.Application.AccountMenu(this.el.find("[data-layout-element=account-menu]"),this),this.elements.container=new Treehouse.Layout.Application.Container(this.el.find("[data-layout-element=container]"),this),this.elements.welcomePanel=new Treehouse.Layout.Application.WelcomePanel(this.el.find("[data-layout-element=welcome-panel]"),this),this.elements.learningFlowStep=new Treehouse.Layout.Application.LearningFlowStep(this.el.find("[data-layout-element=learning-flow-step]"),this),this.elements.stageProgress=new Treehouse.Layout.Application.StageProgress(this.el.find("[data-layout-element=stage-progress]"),this),this.elements.sidebar=new Treehouse.Layout.Application.Sidebar(this.el.find("[data-layout-element=sidebar]"),this),this.elements.controlBar=new Treehouse.Layout.Application.ControlBar(this.el.find("[data-layout-element=control-bar]"),this),(i=this.el.find("[data-layout-element=notifications]"))&&i[0]&&(this.elements.notifications=new Treehouse.Layout.Application.Notifications(i,this)),(i=this.el.find("[data-layout-element=content-suggestions]"))&&i[0]&&(this.elements.contentSuggestions=new Treehouse.Layout.Application.ContentSuggestions(i,this))}return e(s,i),s.prototype.addContext=function(){return this.el.cssAnimate(250).addClass("add-more-context")},s.prototype.removeContext=function(){return this.el.cssAnimate(250).removeClass("add-more-context")},s.prototype.isMobileNavExpanded=function(){return this.el.is(".mobile-nav-expanded")},s.prototype.collapseMobileNav=function(){return this.isMobileNavExpanded()?this.el.cssAnimate().removeClass("mobile-nav-expanded"):void 0},s.prototype.expandMobileNav=function(){return this.isMobileNavExpanded()?void 0:this.el.cssAnimate().addClass("mobile-nav-expanded")},s.prototype.isDesktopNavExpanded=function(){return this.el.is(".desktop-nav-expanded")},s.prototype.collapseDesktopNav=function(){return this.el.cssAnimate().addClass("desktop-nav-collapsed").removeClass("desktop-nav-expanded"),$.removeCookie("desktop_nav_expanded")},s.prototype.expandDesktopNav=function(){return this.el.cssAnimate().addClass("desktop-nav-expanded").removeClass("desktop-nav-collapsed"),$.cookie("desktop_nav_expanded",!0)},s}(Treehouse.Layout),Featurette.register("treehouse-layout",Treehouse.Layout.Application)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.Navigation=function(i){function s(e,i){this.layout=i,this.selectPage=t(this.selectPage,this),s.__super__.constructor.apply(this,arguments),this.on("click","li.main-page a, li.secondary-page a, li#track-progress a",this.selectPage)}return e(s,i),s.prototype.selectPage=function(t){return t.metaKey||2===t.which?void 0:($(t.currentTarget).parent().addClass("current").siblings("li.main-page, li.secondary-page").removeClass("current"),this.layout.collapseMobileNav())},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.NotificationBubble=function(i){function s(e){this.triggerUpdate=t(this.triggerUpdate,this),this.resetCount=t(this.resetCount,this),this.incrementCount=t(this.incrementCount,this),this.setCount=t(this.setCount,this),this.updateNotificationCount=t(this.updateNotificationCount,this),s.__super__.constructor.apply(this,arguments),this.count=0,this.listenTo(document,"notificationCountUpdated",this.updateNotificationCount),Tinycon.setOptions({colour:"#ffffff",background:"#ea6c6c"}),Tinycon.setBubble(this.count)}return e(s,i),s.prototype.updateNotificationCount=function(t,e){return this.el.text(e).parents("li").toggleClass("unread",e>0),this.el.toggleClass("double-digits",e>10),Tinycon.setBubble(e)},s.prototype.setCount=function(t){return this.count=t,this.triggerUpdate()},s.prototype.incrementCount=function(){return this.count++,this.triggerUpdate()},s.prototype.resetCount=function(){return this.setCount(0)},s.prototype.triggerUpdate=function(){return $(document).trigger("notificationCountUpdated",this.count)},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.Breadcrumb=function(i){function s(e,i){this.layout=i,this.scrollToTop=t(this.scrollToTop,this),this.hideSidebarShadow=t(this.hideSidebarShadow,this),this.showSidebarShadow=t(this.showSidebarShadow,this),this.showContentShadow=t(this.showContentShadow,this),this.toggleMobileNav=t(this.toggleMobileNav,this),this.goBack=t(this.goBack,this),this.updateBackButton=t(this.updateBackButton,this),this.markNotificationsRead=t(this.markNotificationsRead,this),this.getTitleAdditionOffsetBottom=t(this.getTitleAdditionOffsetBottom,this),this.getTitleAdditionBottom=t(this.getTitleAdditionBottom,this),this.getHeight=t(this.getHeight,this),this.setVariables=t(this.setVariables,this),s.__super__.constructor.apply(this,arguments),this.backButton=this.get("li#back"),this.pageTitle=this.get("li#page-title"),this.titleAddition=this.get("li#page-title-addition"),this.on("click","li#back a",this.goBack),this.on("click","li#mobile-nav-toggle a",this.toggleMobileNav),this.on("click","li#page-title-addition > a",this.scrollToTop),this.listenTo(document,"scroll",this.showContentShadow,{triggerImmediately:!0}),this.listenTo(document,"markNotificationsRead",this.markNotificationsRead),this.listenTo(document,"library:updated",this.updateBackButton),this.listenTo(window,"resize",_.throttle(this.setVariables,750),{triggerImmediately:!0}),this.bubble=new Treehouse.Layout.Application.NotificationBubble(this.get("em.notifications"))}return e(s,i),s.prototype.setVariables=function(){return this.height=this.el.outerHeight(),this.titleAddition.length>0?(this.titleAdditionHeight=this.titleAddition.outerHeight(),this.titleAdditionBottom=this.titleAddition.position().top+this.titleAdditionHeight,this.titleAdditionOffsetBottom=this.height+this.titleAdditionHeight):void 0},s.prototype.getHeight=function(){return this.height},s.prototype.getTitleAdditionBottom=function(){return this.titleAdditionBottom},s.prototype.getTitleAdditionOffsetBottom=function(){return this.titleAdditionOffsetBottom},s.prototype.markNotificationsRead=function(t){return this.get("li#mobile-nav-toggle").removeClass("unread")},s.prototype.updateBackButton=function(t,e){return this.backButton.removeClass("go-home").addClass("go-back"),this.backButton.find("a").attr("href",e),this.pageTitle.removeClass("go-home").addClass("go-back"),this.pageTitle.find("h3").wrapInner('<a href="'+e+'"></a>')},s.prototype.goBack=function(t){return!t.metaKey&&2!==t.which&&$(t.currentTarget).parent().is(".at-home")?!1:void 0},s.prototype.toggleMobileNav=function(t){var e;return e=$(t.currentTarget).parent(),this.layout.isMobileNavExpanded()?(this.layout.collapseMobileNav(),e.removeClass("current")):(this.layout.expandMobileNav(),e.addClass("current")),!1},s.prototype.showContentShadow=function(){return $(document).scrollTop()>0?this.el.addClass("show-content-shadow"):this.el.removeClass("show-content-shadow")},s.prototype.showSidebarShadow=function(){return this.el.addClass("show-sidebar-shadow")},s.prototype.hideSidebarShadow=function(){return this.el.removeClass("show-sidebar-shadow")},s.prototype.scrollToTop=function(){return $("html, body").animate({scrollTop:0},600),!1},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.AccountMenu=function(i){function s(e,i){this.layout=i,this.onEscKey=t(this.onEscKey,this),this.hideDropdown=t(this.hideDropdown,this),this.toggleDropdown=t(this.toggleDropdown,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-dropdown-toggle]",this.toggleDropdown),this.listenTo(document,"click",this.hideDropdown),this.listenTo(document,"keyup",this.onEscKey)}return e(s,i),s.prototype.toggleDropdown=function(t){return this.layout.isTablet()?void 0:(t.preventDefault(),t.stopPropagation(),$(t.currentTarget).parent("li").toggleClass("showing-dropdown").siblings().removeClass("showing-dropdown"))},s.prototype.hideDropdown=function(){return this.get("> li").removeClass("showing-dropdown")},s.prototype.onEscKey=function(t){return 27===t.keyCode?this.hideDropdown():void 0},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.ContentSuggestions=function(i){function s(e){this.circleProgressFeaturette=t(this.circleProgressFeaturette,this),s.__super__.constructor.call(this,e),$(this.el).addClass("loading"),Treehouse.personalizationPromise.then(function(t){return function(e){return t.loadedStepsList(e.content_suggestions)}}(this))}return e(s,i),s.prototype.loadedStepsList=function(t){return this.get(".contents").html(t.html),$(this.el).removeClass("loading"),t.complete===!0&&$(this.el).addClass("completed"),this.circleProgressFeaturette().setProgress(t.percent_complete)},s.prototype.circleProgressFeaturette=function(){return this.get("#content-suggestion-progress")[0].featurette},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.Notifications=function(i){function s(e,i){this.layout=i,this.markNotificationsRead=t(this.markNotificationsRead,this),this.sendDesktopNotification=t(this.sendDesktopNotification,this),this.addNewNotification=t(this.addNewNotification,this),this.listenForNotifications=t(this.listenForNotifications,this),this.dropdownOpened=t(this.dropdownOpened,this),s.__super__.constructor.apply(this,arguments),this.link=this.get("> a"),this.dropdown=this.get("div#notifications-dropdown"),this.ul=this.dropdown.find("> ul"),this.channel=this.el.data("channel"),this.timeout=null,this.bubble=new Treehouse.Layout.Application.NotificationBubble(this.get("em.notifications")),this.on("click",this.link,this.dropdownOpened),this.listenTo(document,"markNotificationsRead",this.markNotificationsRead),this.dropdown.on("click",function(t){return function(t){return t.stopPropagation()}}(this)),Treehouse.personalizationPromise.then(function(t){return function(e){return t.loadedNotifications(e.notifications)}}(this)),this.listenForNotifications()}return e(s,i),s.prototype.loadedNotifications=function(t){return this.bubble.setCount(t.unread_count),this.dropdown.find(".loading").remove(),this.dropdown.append(t.html),this.ul=this.dropdown.find("> ul")},s.prototype.dropdownOpened=function(){return this.layout.isMobileNavExpanded()?void 0:(this.el.removeClass("unread"),$(document).trigger("markNotificationsRead"))},s.prototype.listenForNotifications=function(){return"undefined"!=typeof pubnub&&null!==pubnub&&this.channel?pubnub.subscribe({channel:this.channel,message:function(t){return function(e){return"notification"===e.name?t.addNewNotification(e.id,e.data):void 0}}(this)}):void 0},s.prototype.addNewNotification=function(t,e){var i,s;return this.ensureListExists(),s=$("<li />").attr("id","notification-"+t).addClass("unread notification").html(e),i=$("<input>").attr({name:"unread[]",type:"hidden"}).val(t),s.append(i),0===$(s.attr("id")).length?(this.ul.prepend(s),this.bubble.incrementCount(),this.sendDesktopNotification(s)):void 0},s.prototype.ensureListExists=function(){return this.ul.length>0?void 0:(this.ul=$("<ul>").appendTo(this.dropdown),this.get(".empty").remove())},s.prototype.sendDesktopNotification=function(t){var e,i,s,r,o;return window.Notification&&"granted"===Notification.permission?(r=t.find("h3").first().text(),i=t.find("p.notification-message").first().text(),e=t.find("img").first().attr("src"),e.match("^http")||(e="http:"+e),o=t.children("a").first().attr("href"),s=new Notification(r,{body:i,icon:e,tag:t.attr("id")}),s.onclick=function(t){return function(){return window.open(o),s.close()}}(this)):void 0},s.prototype.markNotificationsRead=function(){var t,e;return this.el.removeClass("unread"),this.bubble.resetCount(),e=this.ul.find("input").serializeArray(),e.length?(t="/notifications/mark-read",$.post(t,e,function(t){return function(e,i,s){return t.ul.find(".notification.unread").removeClass("unread"),t.ul.find('input[name="unread[]"]').remove(),!0}}(this))):void 0},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.Container=function(i){function s(e,i){this.layout=i,this.adjustMinHeight=t(this.adjustMinHeight,this),s.__super__.constructor.apply(this,arguments),this.on("click",this.layout.collapseMobileNav),this.listenTo(window,"resize",this.adjustMinHeight,{triggerImmediately:!0})}return e(s,i),s.prototype.adjustMinHeight=function(){return this.el.css("min-height",this.layout.windowHeight-this.layout.elements.breadcrumb.getHeight())},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.WelcomePanel=function(i){function s(e,i){this.layout=i,this.closePanel=t(this.closePanel,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-close-panel]",this.closePanel)}return e(s,i),s.prototype.closePanel=function(t){return t.preventDefault(),this.el.cssAnimate(290).addClass("closed"),$.post(this.data.url,{key:this.data.key})},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.LearningFlowStep=function(i){function s(e,i){this.layout=i,this.bindPaginationFeaturette=t(this.bindPaginationFeaturette,this),this.bindFeedbackFeaturette=t(this.bindFeedbackFeaturette,this),this.onPjaxLoaded=t(this.onPjaxLoaded,this),this.storeElements=t(this.storeElements,this),this.onPjaxLoading=t(this.onPjaxLoading,this),this.setHeight=t(this.setHeight,this),this.onStepCompleted=t(this.onStepCompleted,this),this.onStepFailed=t(this.onStepFailed,this),this.replayVideo=t(this.replayVideo,this),this.listenToEvents=t(this.listenToEvents,this),this.showStepRatingForm=t(this.showStepRatingForm,this),s.__super__.constructor.apply(this,arguments),this.el.length>0&&(this.video=this.el.find("[data-step-video]").get(0),this.listenToEvents())}return e(s,i),s.prototype.showStepRatingForm=function(){return this.el.addClass("rate-step"),this.layout.document.trigger("show-step-feedback")},s.prototype.listenToEvents=function(){return this.on("click","[data-rate-step]",this.showStepRatingForm),this.on("click","[data-replay-video]",this.replayVideo),this.on("click","[data-new-goal]",this.createNewContentSuggestion),this.on("pjax:start","[data-step-overlay]",this.onPjaxLoading),this.on("pjax:success","[data-step-overlay]",this.onPjaxLoaded),this.listenTo(window,"resize",_.throttle(this.setHeight,750)),"Video"===this.data.stepType&&this.listenTo(document,"video-ended",this.onStepCompleted),this.listenTo(document,"step-passed",this.onStepCompleted),this.listenTo(document,"step-failed",this.onStepFailed)},s.prototype.replayVideo=function(){return this.el.removeClass("step-completed"),this.video.play()},s.prototype.createNewContentSuggestion=function(){return $.ajax({type:"PUT",url:"/content_suggestion"})},s.prototype.onStepFailed=function(){return this.onStepCompleted(),this.el.addClass("step-failed")},s.prototype.onStepCompleted=function(){return $.pjax({push:!1,url:this.data.dailyProgressUrl,container:"[data-step-overlay]",timeout:0})},s.prototype.setHeight=function(){var t,e;return this.pjaxLoaded?(t=[],this.messages.each(function(e,i){return t.push($(i).outerHeight())}),e=Math.max.apply(Math,t),this.overlay.css("height",e+this.actions.outerHeight())):void 0},s.prototype.onPjaxLoading=function(){return this.el.addClass("step-overlay-loading")},s.prototype.storeElements=function(){return this.overlay=this.el.find("[data-step-overlay]"),this.actions=this.el.find("[data-step-actions]"),this.messages=this.el.find("[data-step-message]"),this.feedbackForm=this.el.find("[data-step-message=feedback]")},s.prototype.onPjaxLoaded=function(){return this.pjaxLoaded=!0,this.storeElements(),this.setHeight(),this.el.is(".step-failed")&&this.el.find("[data-step-message=quiz-failed]").addClass("current"),this.el.addClass("step-completed").removeClass("step-overlay-loading"),this.layout.document.trigger("step-completed"),this.bindFeedbackFeaturette(),this.el.is(".step-failed")?void 0:this.bindPaginationFeaturette()},s.prototype.bindFeedbackFeaturette=function(){return new Treehouse.Layout.Application.LearningFlowStep.Feedback(this.feedbackForm,this.layout,this)},s.prototype.bindPaginationFeaturette=function(){return new Treehouse.Layout.Application.LearningFlowStep.Pagination(this.el.find("[data-step-overlay-pagination]"),this.layout,this)},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.LearningFlowStep.Feedback=function(i){function s(e,i,r){this.layout=i,this.container=r,this.onCancel=t(this.onCancel,this),this.onDone=t(this.onDone,this),this.toggleLoadingState=t(this.toggleLoadingState,this),this.onError=t(this.onError,this),this.onSuccess=t(this.onSuccess,this),this.onSubmit=t(this.onSubmit,this),this.onRatingChosen=t(this.onRatingChosen,this),this.initLabel=t(this.initLabel,this),s.__super__.constructor.apply(this,arguments),this.trigger=this.container.el.find("[data-rate-step]"),this.initLabel(),this.on("change",":radio",this.onRatingChosen),this.on("submit",this.onSubmit),this.on("click","[data-cancel]",this.onCancel),this.on("click","[data-done]",this.onDone)}return e(s,i),s.prototype.initLabel=function(){return this.label=this.get("[data-step-feedback-label]"),this.label.data("default",this.label.text())},s.prototype.onRatingChosen=function(t){var e;return this.rating=parseInt(this.el.find("input:checked").val()),this.el.addClass("step-rating-chosen"),this.get("[data-submit]").removeAttr("disabled").removeClass("disabled"),e=function(){switch(this.rating){case 1:return this.label.data("when-rating-chosen").replace(/\{@rating\} stars/,this.rating+" star");case 2:case 3:return this.label.data("when-rating-chosen").replace(/\{@rating\}/,this.rating);default:return this.label.data("when-rating-chosen").replace(/only \{@rating\}/,this.rating)}}.call(this),this.label.html(e)},s.prototype.onSubmit=function(t){return t.preventDefault(),$.ajax({type:"post",url:this.el.attr("action"),data:this.el.serialize(),success:this.onSuccess,error:this.onError,beforeSend:this.toggleLoadingState,complete:this.toggleLoadingState})},s.prototype.onSuccess=function(t){return this.rating=parseInt(this.el.find("input:checked").val()),this.el.addClass("success"),this.label.html(this.label.data("success")),this.trigger.addClass("step-rated").find("svg").each(function(t){return function(e,i){var s,r;return i=$(i),r=i.attr("class"),s=e<t.rating?r+" has-topic-fill add-"+t.data.topicSlug+"-fill has-topic-stroke add-"+t.data.topicSlug+"-stroke":r.replace(/has-topic-(.*)|add-(.*)-(.*)/,""),
i.attr("class",s)}}(this))},s.prototype.onError=function(t){return this.el.addClass("error"),this.label.html(this.label.data("error"))},s.prototype.toggleLoadingState=function(t){return this.el.toggleClass("loading")},s.prototype.onDone=function(t){return t.preventDefault(),this.container.el.removeClass("rate-step"),setTimeout(function(t){return function(){return t.el.removeClass("success"),t.label.html(t.label.data("default"))}}(this),500)},s.prototype.onCancel=function(t){return t.preventDefault(),this.container.el.removeClass("rate-step")},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.LearningFlowStep.Pagination=function(i){function s(e,i,r){this.layout=i,this.container=r,this.showDailyProgress=t(this.showDailyProgress,this),this.toggleOverlay=t(this.toggleOverlay,this),this.showOverlay=t(this.showOverlay,this),this.updatePagination=t(this.updatePagination,this),s.__super__.constructor.apply(this,arguments),this.links="[data-show-step-message]",this.on("click","[data-action]",this.toggleOverlay),this.on("click",this.links,this.updatePagination),setTimeout(this.showDailyProgress,8e3)}return e(s,i),s.prototype.updatePagination=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.addClass("current").parent().siblings().find(this.links).removeClass("current"),this.showOverlay(e.data("show-step-message")),this.layout.document.trigger("learning-flow-progress-shown")},s.prototype.showOverlay=function(t){return this.container.el.find("[data-step-message="+t+"]").addClass("current").siblings().removeClass("current")},s.prototype.toggleOverlay=function(){return this.el.find(this.links+":not(.current)").click()},s.prototype.showDailyProgress=function(){return this.el.find("[data-show-step-message=progress-report]").click()},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.StageProgress=function(i){function s(e,i){this.layout=i,this.onVideoEnd=t(this.onVideoEnd,this),this.onVideoTimeUpdate=t(this.onVideoTimeUpdate,this),this.onVideoPlay=t(this.onVideoPlay,this),this.isVideoPlaying=t(this.isVideoPlaying,this),this.cancelPageRefresh=t(this.cancelPageRefresh,this),this.setComplete=t(this.setComplete,this),this.unsetComplete=t(this.unsetComplete,this),this.updateProgress=t(this.updateProgress,this),this.toggleStepIcons=t(this.toggleStepIcons,this),this.listenToEvents=t(this.listenToEvents,this),this.onLoaded=t(this.onLoaded,this),s.__super__.constructor.apply(this,arguments),this.listenTo(document,"stage-progress-loaded",this.onLoaded)}return e(s,i),s.prototype.onLoaded=function(){return this.steps=this.get("[data-stage-progress-item]"),this.stepIconWidth=42,this.stepDotWidth=20,this.numberOfSteps=this.steps.length,this.video=this.layout.el.find("video").get(0),this.currentStepRadial=this.get(".current svg.circle-progress"),this.listenToEvents()},s.prototype.listenToEvents=function(){return this.on("click","li.current",this.cancelPageRefresh),this.listenTo(window,"resize",_.throttle(this.toggleStepIcons,750),{triggerImmediately:!0}),this.video&&(this.video.addEventListener("play",this.onVideoPlay),this.video.addEventListener("ended",this.onVideoEnd),this.video.addEventListener("timeupdate",_.throttle(this.onVideoTimeUpdate,2500)),this.isVideoPlaying())?this.onVideoPlay():void 0},s.prototype.toggleStepIcons=function(){return this.el.toggleClass("show-mobile-steps",this.numberOfSteps*this.stepIconWidth>this.el.width()-250),this.el.toggleClass("hide-dividers",this.numberOfSteps*this.stepDotWidth>this.el.width()-200)},s.prototype.updateProgress=function(t){return this.radialProgress||(this.radialProgress=Featurette.get(this.currentStepRadial.attr("id"))),this.radialProgress.setProgress(t)},s.prototype.unsetComplete=function(t){return this.el.find(".current").removeClass("completed")},s.prototype.setComplete=function(t){return this.el.find(".current").addClass("completed")},s.prototype.cancelPageRefresh=function(t){return t.preventDefault()},s.prototype.isVideoPlaying=function(){return!this.video.paused&&!this.video.ended},s.prototype.onVideoPlay=function(){return this.unsetComplete(),this.el.addClass("video-playing")},s.prototype.onVideoTimeUpdate=function(t){var e;return e=this.video.currentTime/this.video.duration*100,this.updateProgress(e)},s.prototype.onVideoEnd=function(){return this.el.removeClass("video-playing"),this.updateProgress(100),this.setComplete()},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.Sidebar=function(i){function s(e,i){this.layout=i,this.selectCurrentNavItemFromHash=t(this.selectCurrentNavItemFromHash,this),this.onHeadingClick=t(this.onHeadingClick,this),this.onNavItemClick=t(this.onNavItemClick,this),this.toggleShadow=t(this.toggleShadow,this),this.setTopPosition=t(this.setTopPosition,this),this.setHeight=t(this.setHeight,this),this.updateWindowLocation=t(this.updateWindowLocation,this),s.__super__.constructor.apply(this,arguments),this.selectCurrentNavItemFromHash(),this.listenTo(window,"resize",this.setHeight,{triggerImmediately:!0}),this.listenTo(document,"scroll",this.setTopPosition,{triggerImmediately:!0}),this.on("scroll",this.toggleShadow),this.on("click","#sidebar-nav a",this.onNavItemClick),this.on("change","select#nav-list-select",this.updateWindowLocation),this.on("click",".form-group h4",this.onHeadingClick)}return e(s,i),s.prototype.updateWindowLocation=function(t){return window.location=$(t.currentTarget).val()},s.prototype.setHeight=function(){return this.el.css("height",$(window).height()-this.layout.elements.breadcrumb.getHeight())},s.prototype.setTopPosition=function(){return this.el.css("top",Math.max($(document).scrollTop(),0))},s.prototype.toggleShadow=function(){return this.el.scrollTop()>0?this.layout.elements.breadcrumb.showSidebarShadow():this.layout.elements.breadcrumb.hideSidebarShadow()},s.prototype.onNavItemClick=function(t){var e;return!t.metaKey&&2!==t.which&&(e=$(t.currentTarget),e.parent().addClass("current").siblings().removeClass("current"),e.attr("href").search(/#/i)>=0)?($("html, body").animate({scrollTop:$(e.attr("href")).offset().top-this.layout.elements.breadcrumb.getHeight()-20},600,function(t){return function(){return window.location.hash=e.attr("href")}}(this)),!1):void 0},s.prototype.onHeadingClick=function(t){var e;return e=$(t.currentTarget),e.addClass("animated").toggleClass("selected"),e.siblings("ul, .form-item").slideToggle("fast",function(){return e.removeClass("animated")})},s.prototype.selectCurrentNavItemFromHash=function(){var t;return t=this.get('a[href="'+window.location.hash+'"]'),t?t.parent("li").addClass("current"):void 0},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Application.ControlBar=function(i){function s(e,i){this.layout=i,this.updateFilterLabel=t(this.updateFilterLabel,this),this.updateFilterLabels=t(this.updateFilterLabels,this),this.findDropdownMenu=t(this.findDropdownMenu,this),this.hideAllDropdowns=t(this.hideAllDropdowns,this),this.hideAllDropdownsUnlessFilterForm=t(this.hideAllDropdownsUnlessFilterForm,this),this.toggleDropdown=t(this.toggleDropdown,this),s.__super__.constructor.apply(this,arguments),this.container=this.get(".search-container"),this.on("click",".dropdown-parent-label",this.toggleDropdown),this.listenTo(document,"click",this.hideAllDropdownsUnlessFilterForm),this.listenTo(document,"filters:serialized",this.updateFilterLabels)}return e(s,i),s.prototype.toggleDropdown=function(t){var e;return e=this.findDropdownMenu($(t.target)),e.is(":visible")?e.hide():(this.hideAllDropdowns(),e.show()),!1},s.prototype.hideAllDropdownsUnlessFilterForm=function(t){var e;return e=this.get(".filter-form"),e.is(t.target)||0!==e.has(t.target).length?void 0:this.hideAllDropdowns()},s.prototype.hideAllDropdowns=function(){return this.get(".filter-dropdown").hide()},s.prototype.findDropdownMenu=function(t){return t.is("a")?t.siblings(".filter-dropdown"):t.parent().siblings(".filter-dropdown")},s.prototype.updateFilterLabels=function(){return _.each($(".dropdown-parent-label"),this.updateFilterLabel)},s.prototype.updateFilterLabel=function(t){var e,i;return e=$(t),i=e.siblings("ul").find("li a.selected").text(),e.find(".currently-selected").text(""+i)},s}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EngineListener=function(){function e(e,i,s,r){this.channelId=e,this.acceptIncoming=i,this.logMessagePath=s,this.callbacks=r,this.logConnectionEvent=t(this.logConnectionEvent,this),this.fireEvent=t(this.fireEvent,this),pubnub.subscribe({channel:this.channelId,message:this.fireEvent,connect:function(t){return function(){return t.logConnectionEvent("Connected")}}(this),disconnect:function(t){return function(){return t.logConnectionEvent("Disconnected")}}(this),reconnect:function(t){return function(){return t.logConnectionEvent("Reconnected")}}(this),error:function(t){return function(){return t.logConnectionEvent("PubNub error")}}(this)})}return e.prototype.fireEvent=function(t){return this.logMessagePath&&$.post(this.logMessagePath,{uuid:this.channelId,message_body:t}),this.acceptIncoming&&this.callbacks[t.name]?this.callbacks[t.name](t.data):void 0},e.prototype.logConnectionEvent=function(t){return $.post(this.logMessagePath,{uuid:this.channelId,message_body:t})},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.Submitter=function(){function t(t,e){this.url=t,this.uuid=e}return t.prototype.submit=function(t,e,i,s){var r;return r={uuid:this.uuid,code_challenge_submission:{message_id:t,task:e,preview:i?!0:!1,submission:s}},$.ajax({type:"POST",url:this.url,data:JSON.stringify(r),contentType:"application/json"})},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.CommandTaskView=function(){function e(e,i,s,r,o,n,a){this.el=e,this.taskData=i,this.currentTask=s,this.previousCommand=r,this.totalTasks=o,this.submitForTestingCallback=n,this.badgeUrl=a,this.hideResults=t(this.hideResults,this),this.displayResults=t(this.displayResults,this),this.feedbackElement=t(this.feedbackElement,this),this.wrong=t(this.wrong,this),this.neutral=t(this.neutral,this),this.getIcon=t(this.getIcon,this),this.correct=t(this.correct,this),this.disableOtherTaskEntries=t(this.disableOtherTaskEntries,this),this.addNewTaskEntry=t(this.addNewTaskEntry,this),this.addLayoutState=t(this.addLayoutState,this),this.el=$(this.el),this.addLayoutState(),this.addNewTaskEntry()}return e.prototype.addLayoutState=function(){return this.layout=Featurette.get("layout"),this.layout.el.addClass("command-challenge")},e.prototype.addNewTaskEntry=function(){var t,e,i,s,r,o,n,a;return this.disableOtherTaskEntries(),e={taskData:this.taskData,currentTask:this.currentTask,totalTasks:this.totalTasks,badgeUrl:this.badgeUrl},s=this.el.data("challenge").is_multiline_ui,o=s?"multiline_command_task":"command_task",this.el.append(HoganTemplates["code_challenges/"+o].render(e)),a=$("#"+this.el.attr("id")+" .task_view .terminal").last(),r="> ",n=function(t){return function(){var e;return""!==t.editor.getValue()?(e=t.editor.getValue().slice(r.length),t.submitForTestingCallback(t.currentTask,e),t.editor.setOption("readOnly","nocursor"),t.el.find("[data-task]").html("Working...").addClass("disabled")):void 0}}(this),i={},t=s?"Ctrl-Enter":"Enter",i[t]=n,this.editor=CodeMirror(a[0],{mode:"text",lineWrapping:!0,value:r+this.previousCommand,extraKeys:i}),this.editor.markText({line:0,ch:0},{line:0,ch:2},{inclusiveLeft:!0,atomic:!0}),this.editor.focus(),this.editor.setCursor({line:0}),this.el.find(".terminal").on("click",function(t){return function(){return t.editor.focus()}}(this)),this.neutral(),this.feedbackElement().on("click",".cc-test",n)},e.prototype.disableOtherTaskEntries=function(){return this.el.children(".task_view").addClass("inactive")},e.prototype.generateFeedback=function(t,e){return null==e&&(e={}),e.alert_error_icon=this.getIcon("alert-error"),e.alert_success_icon=this.getIcon("alert-success"),e.get_help_url=this.el.find("[data-feedback]").data("get-help-url"),e.step_params=JSON.stringify({step_type:"CodeChallenge",step_id:this.el.data("code-challenge-id")}),HoganTemplates["code_challenges/command_feedback_"+t].render(e)},e.prototype.correct=function(t){var e;return e=this.feedbackElement(),e.addClass("box-actions icons-only alert success"),e.removeClass("error info"),e.html(this.generateFeedback("correct",{feedback:t}))},e.prototype.getIcon=function(t){var e;return e=this.el.data(t+"-icon"),$("html").hasClass("ie")?e.replace(/xlink:href="(.*)(#.*)"/,'xlink:href="$2"'):e},e.prototype.neutral=function(t){var e;return e=this.feedbackElement(),e.addClass("box-actions icons-only alert neutral"),e.removeClass("error info"),e.html(this.generateFeedback("neutral"))},e.prototype.wrong=function(t){var e;return e=this.feedbackElement(),e.addClass("box-actions icons-only alert error"),e.html(this.generateFeedback("wrong",{feedback:t}))},e.prototype.feedbackElement=function(){return $("#"+this.el.attr("id")+" .task_view [data-feedback]").last()},e.prototype.displayResults=function(t){var e,i;if(void 0!==t&&null!==t)return e={currentTask:this.currentTask,url:t},this.el.find("[data-editor]").html(HoganTemplates["code_challenges/command_results"].render(e)),i=$(".hide-results").last(),i.click(function(t){return function(){var s;return s=e.currentTask,t.hideResults(s,i)}}(this))},e.prototype.hideResults=function(t,e){return $("#results-"+t).hide(),e.addClass("show-results"),e.removeClass("hide-results"),e.html("Show Results"),e.click(function(i){return function(){return $("#results-"+t).show(),e.addClass("hide-results"),e.removeClass("show-results"),e.html("Hide Results"),e.click(function(){return i.hideResults(t,e)})}}(this))},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.EditorView=function(){function e(e,i,s){this.submitForTestingCallback=i,this.submitForPreviewCallback=s,this.refresh=t(this.refresh,this),this.handleCursorMove=t(this.handleCursorMove,this),this.codeMirror=CodeMirror.fromTextArea(e,{mode:$(e).data("editor-mode"),tabSize:2,lineNumbers:!0,theme:"solarized dark",viewportMargin:30,extraKeys:{Tab:CodeMirror.commands.insertSoftTab}}),this.codeMirror.on("cursorActivity",this.handleCursorMove),$(".CodeMirror").ready(this.refresh)}return e.prototype.handleCursorMove=function(){var t,e;return e=this.highlightedLine,t=this.codeMirror.getCursor().line,e&&this.codeMirror.removeLineClass(e,"background","CodeMirror-activeline-background"),this.highlightedLine=this.codeMirror.addLineClass(t,"background","CodeMirror-activeline-background")},e.prototype.getValue=function(){return this.codeMirror.getValue()},e.prototype.setValue=function(t){return this.codeMirror.setValue(t)},e.prototype.refresh=function(){return this.codeMirror.refresh()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.FeedbackView=function(){function e(e,i,s,r,o,n,a){this.el=e,this.submitForTestingCallback=i,this.submitForPreviewCallback=s,this.resetCallback=r,this.goToTaskCallback=o,this.layout=n,this.breadcrumb=a,this.showWorkspace=t(this.showWorkspace,this),this.showResults=t(this.showResults,this),this.disableRefresh=t(this.disableRefresh,this),this.disableCheckWork=t(this.disableCheckWork,this),this.currentTask=t(this.currentTask,this),this.cloneToBreadcrumb=t(this.cloneToBreadcrumb,this),this.getIcon=t(this.getIcon,this),this.goToTask=t(this.goToTask,this),this.testButtonHandler=t(this.testButtonHandler,this),this.resetButtonHandler=t(this.resetButtonHandler,this),this.previewButtonHandler=t(this.previewButtonHandler,this),this.el=$(this.el),this.boxClone=this.breadcrumb.titleAddition.find("div.mixed-box"),this.el.on("click",".cc-test",this.testButtonHandler),this.el.on("click",".cc-reset",this.resetButtonHandler),this.el.on("click",".cc-preview",this.previewButtonHandler),this.el.on("click",".cc-goto",this.goToTask),this.el.on("click",".show-results-button",this.showResults),this.el.on("click",".show-workspace-button",this.showWorkspace)}return e.prototype.previewButtonHandler=function(t){return t.preventDefault(),this.submitForPreviewCallback()},e.prototype.resetButtonHandler=function(t){return t.preventDefault(),this.resetCallback()},e.prototype.testButtonHandler=function(t){return t.preventDefault(),this.submitForTestingCallback()},e.prototype.goToTask=function(t){var e,i;return t.preventDefault(),e=$(t.target),e.hasClass("disabled")?void 0:(i=e.data("task"),this.goToTaskCallback(i))},e.prototype.generateFeedback=function(t,e){return null==e&&(e={}),e.info=this.getIcon("info"),e.preview=this.getIcon("preview"),e.editor=this.getIcon("editor"),e.next=this.getIcon("next"),e.alert_info_icon=this.getIcon("alert-info"),e.alert_error_icon=this.getIcon("alert-error"),e.alert_success_icon=this.getIcon("alert-success"),e.show_preview=this.el.data("show-preview"),e.degree_exam=this.el.data("degree-exam"),e.get_help_url=this.el.data("get-help-url"),e.step_params=JSON.stringify({step_type:"CodeChallenge",step_id:this.el.data("code-challenge-id")}),HoganTemplates["code_challenges/feedback_"+t].render(e)},e.prototype.getIcon=function(t){var e;return e=this.el.data(t+"-icon"),$("html").hasClass("ie")?e.replace(/xlink:href="(.*)(#.*)"/,'xlink:href="$2"'):e},e.prototype.cloneToBreadcrumb=function(){return Treehouse.init(),this.boxClone.find("div.box-actions").remove(),this.boxClone.append(this.el.clone(!0)),this.layout.document.trigger("resetVariables")},e.prototype["default"]=function(t){return this.el.addClass("info").removeClass("success").html(this.generateFeedback("neutral",{task:t})),this.cloneToBreadcrumb()},e.prototype.canCheckWork=function(){return!this.el.find(".cc-test").hasClass("disabled")},e.prototype.canRefresh=function(){return!this.el.find(".cc-preview").hasClass("disabled")},e.prototype.correct=function(t,e){return this.el.addClass("success").removeClass("error info").html(this.generateFeedback("correct",{feedback:t,nextTask:e})),this.cloneToBreadcrumb()},e.prototype.currentTask=function(){return this.el.find(".cc-test").data("task")},e.prototype.disableCheckWork=function(){return this.el.find(".cc-test").addClass("disabled"),this.updateTestButton("Working..."),this.cloneToBreadcrumb()},e.prototype.disableRefresh=function(){return this.el.find(".cc-preview").addClass("disabled"),this.updatePreviewButton("Working...")},e.prototype.finished=function(){return this.el.addClass("success").removeClass("error info").html(this.generateFeedback("finished")),this.cloneToBreadcrumb()},e.prototype.degreeExam=function(t){return this.el.addClass("success").removeClass("error info").html(this.generateFeedback("degree_exam",{nextStep:t})),this.cloneToBreadcrumb()},e.prototype.wrong=function(t,e){return this.el.addClass("error").removeClass("success info").html(this.generateFeedback("wrong",{feedback:t,failedTask:e})),this.cloneToBreadcrumb()},e.prototype.inactiveTaskFailed=function(t,e){var i;return i={failedTaskAsWord:this.numberToWord(t),failedTask:t,currentTask:e},this.el.addClass("error").removeClass("success info").html(this.generateFeedback("inactive_task_failed",i)),this.cloneToBreadcrumb()},e.prototype.numberToWord=function(t){var e;return e=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"],11>t?e[t]:"#"+t},e.prototype.resetButtons=function(){var t,e;return t=this.el.find(".cc-test"),t.text(t.data("default-text")),e=this.el.find(".cc-preview"),e.text(e.data("default-text")),$(".cc-test, .cc-preview").removeClass("disabled")},e.prototype.showResults=function(t){return this.el.find(".cc-preview").removeClass("hidden"),$(".show-results-button").addClass("hidden"),$(".show-workspace-button").removeClass("hidden"),$(".workspace").addClass("hidden"),$(".cc-results").removeClass("hidden")},e.prototype.showWorkspace=function(t){return this.el.find(".cc-preview").addClass("hidden"),$(".show-results-button").removeClass("hidden"),$(".show-workspace-button").addClass("hidden"),$(".workspace").removeClass("hidden"),$(".cc-results").addClass("hidden")},e.prototype.updateTestButton=function(t){return this.el.find(".cc-test").text(t)},e.prototype.updatePreviewButton=function(t){return this.el.find(".cc-preview").text(t)},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.InstructionView=function(){function e(e,i,s,r,o){this.el=e,this.taskInstructions=i,this.badgeImageUrl=s,this.layout=r,this.breadcrumb=o,this.scrollToTop=t(this.scrollToTop,this),this.el=$(this.el),this.titleAddition=this.breadcrumb.titleAddition.find("div.mixed-box"),this.el.on("click",this.scrollToTop)}return e.prototype.scrollToTop=function(){return this.layout.isMobile()?$("html, body").animate({scrollTop:this.el.offset().top-this.breadcrumb.getHeight()},600):void 0},e.prototype.update=function(t){var e;return e={task:t,body:this.taskInstructions[t-1].body,totalTasks:this.taskInstructions.length,badgeImageUrl:this.badgeImageUrl},this.el.html(HoganTemplates["code_challenges/instructions"].render(e)),this.titleAddition.html(this.el.clone(!0)),this.layout.document.trigger("resetVariables")},e}()}.call(this),function(){null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.PreviewView=function(){function t(t){this.el=t,this.el=$(this.el)}return t.prototype.update=function(t){return this.el.find("iframe").attr("src",t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.ResultsView=function(){function e(e){this.el=e,this.update=t(this.update,this),this.handleMenuClick=t(this.handleMenuClick,this),this.initializePreview=t(this.initializePreview,this),this.el.find(".cc-preview-view").each(this.initializePreview),this.el.on("click",".cc-results-menu a",this.handleMenuClick),this.el.find(".cc-results-menu .selected").click()}return e.prototype.initializePreview=function(t,e){return this.previews||(this.previews={}),this.previews[$(e).data("source")]=new CodeChallenge.PreviewView(e)},e.prototype.handleMenuClick=function(t){var e,i;return t.preventDefault(),i=$(t.target),this.el.find(".cc-results-menu .selected").removeClass("selected"),i.addClass("selected"),e=this.el.find(".cc-results-menu a").index(i),this.el.find(".preview.selected").removeClass("selected"),this.el.find(".preview").eq(e).addClass("selected")},e.prototype.update=function(t){var e,i,s,r,o;s=this.previews,r=[];for(e in s)i=s[e],t.preview_urls?r.push(function(){var s,r,n,a;for(n=t.preview_urls,a=[],s=0,r=n.length;r>s;s++)o=n[s],new RegExp("/"+e+"$").test(o)&&a.push(i.update(o));return a}()):r.push(void 0);return r},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};null==this.CodeChallenge&&(this.CodeChallenge={}),CodeChallenge.WorkspaceView=function(){function e(e,i,s){this.el=e,this.submitForTestingCallback=i,this.submitForPreviewCallback=s,this.setFiles=t(this.setFiles,this),this.handleMenuClick=t(this.handleMenuClick,this),this.initializeEditor=t(this.initializeEditor,this),this.el.find(".editor textarea").each(this.initializeEditor),this.el.on("click",".cc-editor-menu a",this.handleMenuClick),this.el.find(".cc-editor-menu .selected").click()}return e.prototype.initializeEditor=function(t,e){return this.editors||(this.editors=[]),this.editors.push(new CodeChallenge.EditorView(e,this.submitForTestingCallback,this.submitForPreviewCallback))},e.prototype.handleMenuClick=function(t){var e,i;return t.preventDefault(),i=$(t.target),this.el.find(".cc-editor-menu .selected").removeClass("selected"),i.addClass("selected"),e=this.el.find(".cc-editor-menu a").index(i),this.el.find(".editor.selected").removeClass("selected"),this.el.find(".editor").eq(e).addClass("selected"),this.editors[e].codeMirror.refresh()},e.prototype.getFiles=function(){return $.map(this.editors,function(t){return function(e,i){var s,r;return r=t.el.find(".cc-editor-menu a").eq(i).text(),s=e.getValue(),{source:r,content:s}}}(this))},e.prototype.setFiles=function(t){var e,i,s,r,o;for(o=[],s=i=0,r=t.length;r>i;s=++i)e=t[s],o.push(this.editors[s].setValue(e.content));return o},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.Base=function(){function e(e){var i;this.el=e,this.isLastStep=t(this.isLastStep,this),this.completeChallenge=t(this.completeChallenge,this),this.acceptIncomingMessage=t(this.acceptIncomingMessage,this),this.handleEngineError=t(this.handleEngineError,this),this.handleTimeoutError=t(this.handleTimeoutError,this),this.el=$(this.el),i=this.el.data("challenge"),this.tasks=i.tasks,this.currentTask=0,this.lastTaskPassed=0,this.timeoutDelay=1.25*i.timeout*1e3,this.timeoutPath=this.el.data("timeout-path"),this.timeoutId=null,this.isAdminPreview=i.admin_preview,this.isDegreeExam=i.degree_exam,this.degreeExamCompletionURL=i.degree_exam_completion_url,this.nextStepPath=i.next_step_path,this.codeChallengeSessionUUID=i.uuid,this.submitter=new CodeChallenge.Submitter(this.el.data("submit-path"),this.codeChallengeSessionUUID),this.engineListener=new CodeChallenge.EngineListener(this.codeChallengeSessionUUID,this.acceptIncomingMessage,this.el.data("log-message-path"),{event:this.handleEngineEvent,engine_error:this.handleEngineError})}return e.prototype.handleTimeoutError=function(){return this.rejectMessages(),$.post(this.timeoutPath,{uuid:this.codeChallengeSessionUUID}),this.genericErrorMessage("There was a communication problem.")},e.prototype.handleEngineError=function(t){return clearTimeout(this.timeoutId),this.genericErrorMessage(t.message||"")},e.prototype.listenForMessages=function(){return null==this.messageId&&(this.messageId=0),null==this.totalMessages&&(this.totalMessages=0),this.totalMessages+=1,this.messageId=this.totalMessages},e.prototype.acceptIncomingMessage=function(t){return parseInt(t.message_id,10)===this.messageId},e.prototype.rejectMessages=function(){return this.messageId=null},e.prototype.genericErrorMessage=function(t){var e;return e=Featurette.get("code-challenge-error-modal"),e.setError(t),e.showOverlay({stack:!0})},e.prototype.completeChallenge=function(){return $.ajax({type:"POST",url:this.el.data("completed-path"),data:{_method:"PUT",uuid:this.codeChallengeSessionUUID},success:function(t){return function(e,i,s){return t.isDegreeExam?void 0:$(document).trigger("step-passed")}}(this),error:function(t){return function(e,i,s){return t.genericErrorMessage(s)}}(this)})},e.prototype.isLastStep=function(){return!this.nextStepPath},e.prototype.completeDegreeExam=function(){return this.isLastStep()?$.ajax({type:"POST",url:this.degreeExamCompletionURL,success:function(t,e,i){return window.location=i.getResponseHeader("Location")}}):void 0},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.CodeEditorChallenge=function(i){function s(e){var i,r,o,n;for(this.el=e,this.changeContentState=t(this.changeContentState,this),this.examNavAlert=t(this.examNavAlert,this),this.restoreWorkspaceContents=t(this.restoreWorkspaceContents,this),this.storeWorkspaceContents=t(this.storeWorkspaceContents,this),this.handleEngineStatusUpdate=t(this.handleEngineStatusUpdate,this),this.handleEngineEvent=t(this.handleEngineEvent,this),this.handleTimeoutError=t(this.handleTimeoutError,this),this.refresh=t(this.refresh,this),this.checkWork=t(this.checkWork,this),this.submit=t(this.submit,this),this.goToTask=t(this.goToTask,this),this.toggleScrollStates=t(this.toggleScrollStates,this),this.setVariables=t(this.setVariables,this),s.__super__.constructor.apply(this,arguments),this.layout=Featurette.get("layout"),this.breadcrumb=this.layout.elements.breadcrumb,this.workspace=new CodeChallenge.WorkspaceView(this.el.find(".cc-workspace")),this.storeWorkspaceContents(),this.instructions=new CodeChallenge.InstructionView(this.el.find("[data-instructions]"),this.tasks,this.el.data("badge-url"),this.layout,this.breadcrumb),this.feedback=new CodeChallenge.FeedbackView(this.el.find("[data-feedback]"),this.checkWork,this.refresh,this.restoreWorkspaceContents,this.goToTask,this.layout,this.breadcrumb),this.results=new CodeChallenge.ResultsView(this.el.find(".cc-results")),this.engineListener.engine_update=this.handleEngineStatusUpdate,this.engineListener.connect=function(t){return function(){return challengeData.no_preview?void 0:t.refresh()}}(this),this.boxHeader=this.el.find("div.box-header"),this.boxActions=this.el.find("div.box-actions"),this.boxFooter=this.el.find("div.box-footer"),this.layout.window.on("resize",this.setVariables).on("resize",this.toggleScrollStates).trigger("resize"),this.layout.document.on("resetVariables",this.setVariables).on("scroll",this.toggleScrollStates).trigger("scroll"),this.layout.document.bind("keydown","ctrl+return",this.checkWork),this.layout.document.bind("keydown","alt+r",this.refresh),this.layout.document.on("click",".show-results-button",this.refresh),this.isContentChanged=!1,this.isSubmitted=!1,this.isDegreeExam&&this.layout.window.on("beforeunload",this.examNavAlert),this.layout.document.on("keydown",this.changeContentState),n=this.workspace.editors,r=0,o=n.length;o>r;r++)i=n[r],i.codeMirror.addKeyMap({"Ctrl-Enter":this.checkWork}),i.codeMirror.addKeyMap({"Alt-R":this.refresh});this.goToTask(1)}return e(s,i),s.prototype.setVariables=function(){return this.breadcrumbHeight=this.breadcrumb.getHeight(),this.boxClone=this.breadcrumb.titleAddition.find("div.mixed-box"),this.boxCloneBottom=this.breadcrumb.getHeight()+this.boxClone.outerHeight(),this.boxFooterTop=this.boxFooter.offset().top,this.boxHeaderBottom=this.boxHeader.offset().top+this.boxHeader.outerHeight(),this.boxActionsBottom=this.boxActions.offset().top+this.boxActions.outerHeight()},s.prototype.toggleScrollStates=function(){return this.layout.el.toggleClass("scrolled-past-box-footer",this.layout.getScrollTop()>=this.boxFooterTop-this.boxCloneBottom),this.layout.el.toggleClass("scrolled-past-actions",!this.layout.isMobile()&&this.layout.getScrollTop()>=this.boxActionsBottom-this.boxCloneBottom),this.layout.el.toggleClass("scrolled-past-instructions",this.layout.isMobile()&&this.layout.getScrollTop()>=this.boxHeaderBottom-this.boxCloneBottom)},s.prototype.goToTask=function(t){var e;return this.currentTask=t,e=Math.max(t,this.lastTaskPassed),this.instructions.update(t),this.feedback["default"](e)},s.prototype.submit=function(t){var e;return null==t&&(t=!1),e=this.listenForMessages(),this.submitter.submit(e,this.currentTask,t,{files:this.workspace.getFiles()}),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay),this.isSubmitted=!0},s.prototype.checkWork=function(){return this.feedback.canCheckWork()?(this.feedback.disableCheckWork(),this.feedback.disableRefresh(),this.submit()):void 0},s.prototype.refresh=function(){return this.feedback.canRefresh()?(this.feedback.disableRefresh(),this.feedback.disableCheckWork(),this.submit(!0)):void 0},s.prototype.handleTimeoutError=function(){return s.__super__.handleTimeoutError.apply(this,arguments),this.feedback.resetButtons()},s.prototype.handleEngineEvent=function(t){return this.rejectMessages(),this.isDegreeExam?void 0!==t.pass&&(this.feedback.degreeExam(this.nextStepPath),
this.isAdminPreview||(this.completeChallenge(),this.completeDegreeExam())):t.pass?t.task===this.tasks.length?(Treehouse.PointsCounter.updateTotal(),this.feedback.finished(),this.isAdminPreview!==!0&&this.completeChallenge()):(t.task>this.lastTaskPassed&&(this.lastTaskPassed=t.task),this.storeWorkspaceContents(),this.feedback.correct(t.feedback,t.task+1)):t.pass===!1&&(t.task<=this.lastTaskPassed&&t.task!==this.currentTask?this.feedback.inactiveTaskFailed(t.task,t.up_to):(this.feedback.showWorkspace(),this.feedback.wrong(t.feedback,t.up_to))),clearTimeout(this.timeoutId),this.results.update(t),this.feedback.resetButtons()},s.prototype.handleEngineStatusUpdate=function(t){var e;return e="run"===t.target?this.feedback.updatePreviewButton(t.text):this.feedback.updateTestButton(t.text)},s.prototype.storeWorkspaceContents=function(){return this.priorWorkspaceContents=this.workspace.getFiles()},s.prototype.restoreWorkspaceContents=function(){return this.workspace.setFiles(this.priorWorkspaceContents)},s.prototype.examNavAlert=function(){return!this.isContentChanged||this.isSubmitted||this.islastStep?window.onbeforeunload=null:"If you leave now, you'll lose your progress!"},s.prototype.changeContentState=function(){return this.isContentChanged=!0},s}(CodeChallenge.Base),Featurette.register("code-editor-challenge",CodeChallenge.CodeEditorChallenge)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;this.CodeChallenge||(this.CodeChallenge={}),CodeChallenge.CommandChallenge=function(i){function s(e){this.el=e,this.retryCurrentTask=t(this.retryCurrentTask,this),this.goToNextTask=t(this.goToNextTask,this),this.handleEngineEvent=t(this.handleEngineEvent,this),this.submit=t(this.submit,this),s.__super__.constructor.apply(this,arguments),this.currentTask=1,this.previousCommand="",this.badgeUrl=this.el.data("badge-url"),this.addViewForCurrentTask()}return e(s,i),s.prototype.submit=function(t,e){var i;return this.previousCommand=e,i=this.listenForMessages(),this.submitter.submit(i,t,!1,{command:e}),this.timeoutId=setTimeout(this.handleTimeoutError,this.timeoutDelay)},s.prototype.handleEngineEvent=function(t){var e;return this.rejectMessages(),t.pass?t.task===this.tasks.length?(Treehouse.PointsCounter.updateTotal(),this.isAdminPreview!==!0&&this.completeChallenge()):(this.lastTaskPassed=t.task,this.taskView.correct(t.feedback),$(".cc-goto").click(function(t){return function(){return t.goToNextTask()}}(this))):(this.taskView.wrong(t.feedback),$(".cc-test").click(function(t){return function(){return t.retryCurrentTask()}}(this))),clearTimeout(this.timeoutId),Treehouse.init(),this.taskView.displayResults(null!=(e=t.preview_urls)?e[0]:void 0)},s.prototype.goToNextTask=function(){return this.taskView.hideResults(this.lastTaskPassed,$(".hide-results")),this.previousCommand="",$(".cc-goto").remove(),this.currentTask=this.lastTaskPassed+1,this.addViewForCurrentTask()},s.prototype.retryCurrentTask=function(){return $("#"+this.el.attr("id")+" .task_view").last().remove(),this.addViewForCurrentTask()},s.prototype.addViewForCurrentTask=function(){return this.taskView=new CodeChallenge.CommandTaskView(this.el,this.tasks[this.currentTask-1],this.currentTask,this.previousCommand,this.tasks.length,this.submit,this.badgeUrl)},s}(CodeChallenge.Base),Featurette.register("command-challenge",CodeChallenge.CommandChallenge)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("career-projects",t=function(t){function s(t){this.removeProject=e(this.removeProject,this),this.addNewProject=e(this.addNewProject,this),s.__super__.constructor.apply(this,arguments),this.form=new StandardForm(t),this.el.on("click",".project-input-trigger",this.addNewProject),this.el.on("click",".remove-trigger",this.removeProject),this.updateForm()}return i(s,t),s.prototype.addNewProject=function(t){var e,i,s;return t.preventDefault(),s=this.el.find("#career-project-fields-template").html(),i=(new Date).getTime(),e=$(s.replace(/new_career_project/g,i)),$(t.currentTarget).before(e),this.updateForm(),Treehouse.init(),e.find(":input:first").focus()},s.prototype.updateForm=function(){return this.el.find(".career-project:visible .project-number").each(function(t){return $(this).text(t+1)}),this.el.find(".form-footer:not(:last)").hide(),1===this.el.find(".career-project:visible").length?this.el.find(".career-project:visible:first .remove-trigger").hide():this.el.find(".career-project:visible .remove-trigger").show()},s.prototype.removeProject=function(t){return t.preventDefault(),$(t.currentTarget).prev("input[type=hidden]").val("1"),$(t.currentTarget).closest(".career-project").hide(),this.updateForm()},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.showImagePreview=e(this.showImagePreview,this),this.el=$(t),$("#contact-method-selector").on("change",this.contactMethodToggle),$(".radio-replacement-wrapper").on("click",this.replaceRadios),$("#job_company_logo").on("change",this.showImagePreview),this.contactMethodInit(),this.setupRadios()}return t.prototype.contactMethodInit=function(){var t,e;return t=$(".contact_email"),e=$(".contact_url"),""!==e.children("input").val()?($("#contact-method-selector").val("url"),t.hide()):($("#contact-method-selector").val("email"),e.hide())},t.prototype.contactMethodToggle=function(){var t;return t=$("#contact-method-selector").val(),$("#contact-method-selector-wrapper input").val("").parents(".form-item").hide(),$(".contact_"+t).show()},t.prototype.replaceRadios=function(t){var e;return e=$(t.delegateTarget),e.siblings(".radio-replacement-wrapper").removeClass("selected"),e.addClass("selected"),e.find("input[type='radio']").attr("checked","checked")},t.prototype.setupRadios=function(){var t;return t=$(".radio-replacement-wrapper input[type='radio']:checked"),0===t.length?$(".radio-collection").each(function(t,e){return $(e).find(":radio").first().attr("checked","checked").parents(".radio-replacement-wrapper").addClass("selected")}):t.parent().addClass("selected")},t.prototype.highlightRadioContainer=function(t){return $(t).parents(".radio-replacement-wrapper").addClass("selected")},t.prototype.showImagePreview=function(t){return window.File&&window.FileReader&&window.FileList&&window.Blob?_.each(t.target.files,function(t,e){var i;return i=new FileReader,i.onload=function(t){var e;return e=$(".company-logo").empty(),$("<img src='"+t.target.result+"' />").appendTo(e).hide().show(250),$(".company-logo").css({"background-image":"background-image",none:"none"})},i.readAsDataURL(t)}):void 0},t}(),Featurette.register("job-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("library-index",t=function(t){function s(t){this.dynamicTitle=e(this.dynamicTitle,this),this.noResults=e(this.noResults,this),this.updateBreadcrumb=e(this.updateBreadcrumb,this),this.onPjaxEnd=e(this.onPjaxEnd,this),this.onPjaxStart=e(this.onPjaxStart,this),this.listeners=e(this.listeners,this),s.__super__.constructor.apply(this,arguments),this.container=$("#library-pjax"),_.delay(this.listeners,100),_.delay(this.dynamicTitle,200)}return i(s,t),s.prototype.listeners=function(){return this.container.on("pjax:start",this.onPjaxStart),this.container.on("pjax:end",this.onPjaxEnd),this.filters=new Filters({basePath:"library",container:"#library-pjax",binds:{topic:Featurette.get("topic"),type:Featurette.get("type"),q:$("#q"),sort:Featurette.get("sort")}}),this.on("click",".form-search .search-button",function(t){return function(e){return t.filters.update(e)}}(this))},s.prototype.onPjaxStart=function(){return this.container.addClass("transparent-while-loading")},s.prototype.onPjaxEnd=function(t){return this.updateBreadcrumb(),this.dynamicTitle(),this.noResults(),this.container.removeClass("transparent-while-loading")},s.prototype.updateBreadcrumb=function(){return $(document).trigger("library:updated","/library")},s.prototype.noResults=function(){return $("#no-results").hide(),0===this.container.find(":not(#upcoming-releases) ul.card-list li.card").length?$("#no-results").stop().show():void 0},s.prototype.dynamicTitle=function(){return $(".topic-heading").length>0?$(".primary-heading h1").html("<a class='all-topics' href='/library'><span class='icon icon-left'></span> Library</a>"):$(".primary-heading h1").html("Library"),$(document).on("click","a.all-topics",function(t){return t.preventDefault(),Featurette.get("topic").val("")})},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.getUrlParameter=e(this.getUrlParameter,this),this.filterChange=e(this.filterChange,this),this.filterOptions=e(this.filterOptions,this),this.setupFilters=e(this.setupFilters,this),s.__super__.constructor.apply(this,arguments),this.baseUrl=$(t).data("refresh-url"),this.setupFilters()}return i(s,t),s.prototype.setupFilters=function(){return _.delay(function(t){return function(){return $(".filter-container").on("change",t.filterChange)}}(this),100)},s.prototype.filterOptions=function(){var t;return t={},t.search=this.searchInput(),t.sort=Featurette.get("sort"),Featurette.get("filter")&&(t.filter=Featurette.get("filter")),t},s.prototype.filterChange=function(t){var e,i;return e=$(t.target).attr("id"),i=this.baseUrl+"?sort_by="+this.getUrlParameter("sort_by","Video"),this.el.find(".filter-container").each(function(){return i=i+"&"+$(this).data("filter-name")+"="+$(this).find("ul .selected").data("filter-value")}),window.location.href=i},s.prototype.getUrlParameter=function(t,e){var i,s,r,o,n,a;for(r=window.location.search.substring(1),a=r.split("&"),i=0,s=a.length;s>i;i++)if(n=a[i],o=n.split("="),o[0]===t)return o[1];return e},s}(Treehouse.View),Featurette.register("organization-leaderboard",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.listeners=e(this.listeners,this),this.element=$(t),this.container=$("#users-stats-pjax"),_.delay(this.listeners,100)}return t.prototype.listeners=function(){return this.container.on("pjax:end",this.noResults),this.filters=new Filters({basePath:"account/users/stats",container:"#users-stats-pjax",binds:{within:Featurette.get("within")}})},t}(),Featurette.register("users-stats",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.onPjaxEnd=e(this.onPjaxEnd,this),this.onPjaxStart=e(this.onPjaxStart,this),this.listeners=e(this.listeners,this),s.__super__.constructor.apply(this,arguments),this.container=$("#workspaces-pjax"),_.defer(this.listeners)}return i(s,t),s.prototype.listeners=function(){return this.container.on("pjax:start",this.onPjaxStart),this.container.on("pjax:end",this.onPjaxEnd),this.filters=new Filters({basePath:"workspaces",container:this.container,binds:{q:this.get("#q"),sort:Featurette.get("sort"),env:Featurette.get("env"),content:Featurette.get("content-filter")}}),$(document).trigger("filters:serialized")},s.prototype.onPjaxStart=function(){return this.container.addClass("transparent-while-loading")},s.prototype.onPjaxEnd=function(){return this.container.removeClass("transparent-while-loading")},s}(Treehouse.View),Featurette.register("workspaces-index",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("info-tooltip",t=function(){function t(t){this.closeToolip=e(this.closeToolip,this),this.toggleTooltip=e(this.toggleTooltip,this),this.hideTooltip=e(this.hideTooltip,this),this.showTooltip=e(this.showTooltip,this),this.el=$(t),this.tooltip=this.el.find(".tooltip"),this.displaying=!1,"click"===this.el.data("event")?(this.el.on("click",this.toggleTooltip),$(document).on("click",this.closeToolip)):(this.tooltip.hide(),this.el.on("mouseover",this.showTooltip),this.el.on("mouseout",this.hideTooltip))}return t.prototype.showTooltip=function(t){return!this.displaying&&$(t.target).is(this.el)?(this.tooltip.show(),this.displaying=!0,t.stopPropagation()):void 0},t.prototype.hideTooltip=function(t){return this.displaying&&$(t.target).is(this.el)?(this.tooltip.hide(),this.displaying=!1,t.stopPropagation()):void 0},t.prototype.toggleTooltip=function(t){return t.stopPropagation(),this.tooltip.toggleClass("tooltip-showing").parent().siblings().children().removeClass("tooltip-showing"),this.el.toggleClass("tooltip-showing").siblings().removeClass("tooltip-showing")},t.prototype.closeToolip=function(t){return this.tooltip.removeClass("tooltip-showing"),this.el.removeClass("tooltip-showing")},t}())}.call(this),function(){Treehouse.Tooltip=function(){function t(t){var e;this.id=t.id,e=$(t),e.hide(),this.class_to_close=e.attr("data-class-to-close"),e.find(".close-tooltip").click(function(t){return function(){return t.close()}}(this)),"true"!==e.attr("data-hide")&&setTimeout(function(){return e.fadeIn()},200)}return t.prototype.close=function(){var t,e;return t=$("#"+this.id),t.fadeOut(),this.class_to_close&&$("."+this.class_to_close).fadeOut(),(e=t.attr("data-flag"))?$.post("/dashboard/flag",{_method:"PUT",flag:e}):void 0},t}(),Featurette.register("tooltip",Treehouse.Tooltip)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("upgrade-tooltip",t=function(t){function s(t){this.init=e(this.init,this),s.__super__.constructor.apply(this,arguments),this.on("pjax:end",_.bind(this.init,this)),this.init()}return i(s,t),s.prototype.init=function(){return this.el.data("hide-tooltip")===!0?this.get(".upgrade-tooltip").remove():void 0},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.removeField=e(this.removeField,this),this.addNewField=e(this.addNewField,this),this.createNestedField=e(this.createNestedField,this),this.el=$(t),this.createNestedField("language",".add-new-language",".remove-language",".profile-languages","#language-fields-template"),this.createNestedField("award",".add-new-award",".remove-award",".profile-awards","#award-fields-template"),this.createNestedField("publication",".add-new-publication",".remove-publication",".profile-publications","#publication-fields-template")}return t.prototype.createNestedField=function(t,e,i,s,r){return this.el.on("click",e,{title:t,templateName:r},this.addNewField),this.el.on("click",i,{wrapperClass:s,removeLink:i},this.removeField),1===this.el.find(s+":visible").length?this.el.find(s+":visible:first "+i).hide():void 0},t.prototype.addNewField=function(t){var e,i,s,r;return t.preventDefault(),r=this.el.find(t.data.templateName).html(),i=(new Date).getTime(),s=new RegExp("new_"+t.data.title,"g"),e=$(r.replace(s,i)),$(t.currentTarget).before(e),Treehouse.init(),e.find(":input:first").focus()},t.prototype.removeField=function(t){return t.preventDefault(),$(t.currentTarget).prev("input[type=hidden]").val("1"),$(t.currentTarget).closest("div").hide(),1===this.el.find(t.data.wrapperClass+":visible").length?this.el.find(t.data.wrapperClass+":visible:first "+t.data.removeLink).hide():void 0},t}(),Featurette.register("accounts-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("analytics-click-event",t=function(t){function s(t){this.sendEvent=e(this.sendEvent,this);var i;s.__super__.constructor.apply(this,arguments),i=["eventCategory","eventAction","eventLabel","eventValue"],this.eventAttrs=_.pick(this.data,i),this.data.target?this.on("click",this.data.target,this.sendEvent):this.on("click",this.sendEvent)}return i(s,t),s.prototype.sendEvent=function(t){return ga("send","event",this.eventAttrs)},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.success=e(this.success,this),this.listener=e(this.listener,this),this.element=$(t),this.element.click(this.listener)}return t.prototype.listener=function(t){var e;return t.preventDefault(),e=this.element.data("user-id"),$.post(""+window.location.origin+window.location.pathname+"/request_answer",{user_id:e},this.success)},t.prototype.success=function(t){return this.element.text("Asked").addClass("disabled").attr("disabled","disabled")},t}(),Featurette.register("ask-to-answer",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("async-icon",Treehouse.AsyncIcon=function(){function e(e){this.loadingIcon=t(this.loadingIcon,this),this.loaded=t(this.loaded,this),this.loading=t(this.loading,this),this.el=$(e),this.target=$(this.el.data("target")),this.target.length>0&&(this.target.on("loading",function(t){return function(){return t.loading()}}(this)),this.target.on("loaded",function(t){return function(){return t.loaded()}}(this)))}return e.prototype.loading=function(t){return this.el.css("display","none"),this.loadingIcon().css("display","inline-block")},e.prototype.loaded=function(t){return this.el.css("display","inline-block"),this.loadingIcon().css("display","none")},e.prototype.loadingIcon=function(){return this.el.siblings(this.el.data("loading-icon"))},e}())}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.strategies=e(this.strategies,this),this.updateElement=e(this.updateElement,this),this.loadElement=e(this.loadElement,this),s.__super__.constructor.apply(this,arguments),this.url=this.data.url,this.strategy=this.data.strategy||"update",this.loadElement()}return i(s,t),s.prototype.loadElement=function(){return $.get(this.url,function(t){return function(e){return t.updateElement(e),t.data.onloadEvent&&$(document).trigger(t.data.onloadEvent),Treehouse.init()}}(this))},s.prototype.updateElement=function(t){return this.strategies()[this.strategy](t)},s.prototype.strategies=function(){return{update:function(t){return function(e){return t.el.html(e)}}(this),replace:function(t){return function(e){return t.el.replaceWith(e)}}(this)}},s}(Treehouse.View),Featurette.register("async-element",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("career-dashboard",t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),this.on("change",".looking-toggle input",function(){return $.ajax({type:"POST",data:$(this).parents("form").serialize()})})}return e(i,t),i}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.removeField=e(this.removeField,this),this.addNewField=e(this.addNewField,this),this.createNestedField=e(this.createNestedField,this),this.el=$(t),this.form=new StandardForm(t),this.createNestedField("work_history_item",".add-new-experience",".remove-experience",".experience","#work-history-item-fields-template"),this.createNestedField("education_history_item",".add-new-education",".remove-education",".education","#education-history-item-fields-template"),this.el.on("change",".current input",function(t){return function(t){var e,i,s,r,o,n;for(e=$(t.target).closest(".experience").find(".end-date"),e.find(".form-element").toggleClass("disabled",t.target.checked),r=e.find("select"),o=[],i=0,s=r.length;s>i;i++)n=r[i],t.target.checked&&($("option",n).attr("selected",!1),$("option:first",n).attr("selected",!0)),o.push($(n).attr("disabled",t.target.checked).change().blur());return o}}(this)),this.el.find(".current input").change()}return t.prototype.createNestedField=function(t,e,i,s,r){return this.resetRemoveButtons(s,i),this.el.on("click",e,{title:t,templateName:r},function(t){return function(e){return t.addNewField(e),t.resetRemoveButtons(s,i)}}(this)),this.el.on("click",i,{wrapperClass:s,removeLink:i},function(t){return function(e){return t.removeField(e),t.resetRemoveButtons(s,i)}}(this))},t.prototype.addNewField=function(t){var e,i,s,r;return t.preventDefault(),r=this.el.find(t.data.templateName).html(),i=(new Date).getTime(),s=new RegExp("new_"+t.data.title,"g"),e=$(r.replace(s,i)),$(t.currentTarget).before(e),Treehouse.init(),e.find(":input:first").focus()},t.prototype.removeField=function(t){return t.preventDefault(),$(t.currentTarget).prev("input[type=hidden]").val("1"),$(t.currentTarget).closest(t.data.wrapperClass).hide()},t.prototype.resetRemoveButtons=function(t,e){return 1===this.el.find(t+":visible").length?this.el.find(t+":visible:first "+e).hide():this.el.find(t+":visible "+e).show()},t}(),Featurette.register("career-profile-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){var i,r,o,n,a;this.el=t,this.updateCurrentStepClass=e(this.updateCurrentStepClass,this),this.prevStep=e(this.prevStep,this),this.nextStep=e(this.nextStep,this),this.handleKeyEvent=e(this.handleKeyEvent,this),this.indicatorClicked=e(this.indicatorClicked,this),this.locationHash=e(this.locationHash,this),this.hashStep=e(this.hashStep,this),this.onHashChange=e(this.onHashChange,this),this.onWizardClosed=e(this.onWizardClosed,this),this.onWizardOpened=e(this.onWizardOpened,this),this.id=this.el.id,s.__super__.constructor.apply(this,arguments),this.allowCycle=null!=(i=this.el.data("wizard-cycle"))?i:!1,this.transitionSpeed=null!=(r=this.el.data("wizard-transition-speed"))?r:300,this.enableArrowKeys=null!=(o=this.el.data("wizard-enable-arrow-keys"))?o:!1,this.updateLocationHash=null!=(n=this.el.data("wizard-update-location-hash"))?n:!1,this.ignoreTotalSteps=null!=(a=this.el.data("wizard-ignore-total-steps"))?a:!1,this.steps=this.el.find(".step"),this.stepIndicators=this.el.find(".step-indicator"),this.document=$(document),this.totalSteps=this.steps.length,this.initialStep=this.el.data("wizard-initial-step")||1,this.currentStep=this.hashStep(),this.history=[],this.on("click",".next-step:not(.disabled)",this.nextStep),this.on("click",".prev-step:not(.disabled)",this.prevStep),this.on("click",".step-indicator",this.indicatorClicked),this.enableArrowKeys&&this.on("keydown",this.handleKeyEvent),this.listenTo(document,"wizard-opened",this.onWizardOpened),this.listenTo(document,"wizard-closed",this.onWizardClosed),this.updateLocationHash&&$(window).on("hashchange",this.onHashChange),this.advanceStep(this.currentStep)}return i(s,t),s.prototype.onWizardOpened=function(){},s.prototype.onWizardClosed=function(){return this.currentStep=this.initialStep,this.advanceStep(this.currentStep)},s.prototype.onHashChange=function(){var t;return location.hash!=="#step-"+this.currentStep?(t=this.hashStep(),this.advanceStep(t)):void 0},s.prototype.hashStep=function(){var t;return t=location.hash.match(/^#step-(\d+)$/),t?parseInt(t[1]):this.initialStep},s.prototype.locationHash=function(){return location.hash.match(/^#(.+)/)[1]},s.prototype.indicatorClicked=function(t){var e;return null!=(null!=t?t.currentTarget:void 0)?(e=$(t.currentTarget).data("step-indicator-step"),null!=e&&this.advanceStep(e),t.preventDefault()):void 0},s.prototype.handleKeyEvent=function(t){if(!this.el.find("input, textarea").is(":focus"))switch(t.keyCode){case 37:return this.prevStep();case 39:return this.nextStep()}},s.prototype.nextStep=function(t){var e,i;return i=null!=(e=$(null!=t?t.currentTarget:void 0).data("step"))?e:this.currentStep+1,this.advanceStep(i),this.document.trigger("wizard-next-step"),null!=t&&t.preventDefault(),i},s.prototype.prevStep=function(t){var e,i;return i=null!=(e=$(null!=t?t.currentTarget:void 0).data("step"))?e:this.currentStep-1,this.advanceStep(i),this.document.trigger("wizard-previous-step"),null!=t&&t.preventDefault(),i},s.prototype.advanceStep=function(t){var e;return e=this.currentStep,this.ignoreTotalSteps?this.currentStep=t:(this.allowCycle||t>=1&&t<=this.totalSteps)&&(this.currentStep=t%this.totalSteps||this.totalSteps),this.currentStep===e?(this.steps.filter(".step-"+this.currentStep).is(":visible")||(this.steps.hide(),this.steps.filter(".step-"+this.currentStep).show()),this.updateCurrentStepClass()):this.steps.filter(".current-wizard-step").fadeOut(this.transitionSpeed,function(t){return function(){return t.get(".step-"+t.currentStep).fadeIn(t.transitionSpeed),t.updateCurrentStepClass()}}(this)),this.updateLocationHash&&(location.hash="#step-"+this.currentStep),"function"==typeof this.onStepChanged?this.onStepChanged():void 0},s.prototype.updateCurrentStepClass=function(){return this.steps.removeClass("current-wizard-step"),this.stepIndicators.removeClass("current-wizard-step"),this.get(".step-"+this.currentStep+", .step-indicator-"+this.currentStep).addClass("current-wizard-step")},s}(Treehouse.View),window.Wizard=t,Featurette.register("wizard",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("career-survey",t=function(t){function i(t){i.__super__.constructor.call(this,t),this.on("click",".survey-list[data-type=checkbox] [data-value]",function(t){return function(e){return $(e.currentTarget).find("> a").toggleClass("checked"),t.updateStepAvailability()}}(this)),this.on("click",".survey-list[data-type=radio] [data-value]",function(t){return function(e){var i;return i=$(e.currentTarget).parents(".survey-list"),i.find("li > a").removeClass("checked"),$(e.currentTarget).find("> a").addClass("checked"),t.updateStepAvailability()}}(this)),this.el.find(".survey-list[data-type=sortable]").each(function(t,e){return e=$(e),e.sortable({axis:"y",containment:e.parents(".survey-wizard-container"),revert:150,zIndex:1,change:function(t,i){return e.find("> *").not(i.helper).each(function(t,e){var s;return s=e===i.placeholder[0]?i.helper:e,$(".survey-list-item-rank",s).text(t+1)})}})})}return e(i,t),i.prototype.onStepChanged=function(){var t,e;return $("html,body").animate({scrollTop:0},this.transitionSpeed),e=this.get(".step-"+this.currentStep).height(),this.get(".steps-container").animate({height:e},{duration:this.transitionSpeed,complete:function(t){return function(){return t.get(".steps-container").css({height:"auto"})}}(this)}),t=this.el.find(".step-2 [data-value=part_time] > a").is(".checked"),$(".step-2-part_time").toggle(t),this.updateStepAvailability(),this.currentStep===this.totalSteps?this.save():void 0},i.prototype.updateStepAvailability=function(){var t,e,i;return i=this.get(".step-"+this.currentStep),e=i.find(".survey-list"),t="sortable"!==e.data("type")&&0===e.find("[data-value] > a.checked").length,this.get(".survey-actions .next-step").toggleClass("disabled",t),this.get(".survey-actions .grid-50:first-child").toggleClass("hidden",1===this.currentStep),this.get(".survey-actions .grid-50:nth-child(2)").toggleClass("grid-100 tablet-grid-100",1===this.currentStep),this.get(".survey-actions .next-step").toggleClass("hidden",this.currentStep===this.totalSteps),this.get(".survey-actions .finish").toggleClass("hidden",this.currentStep!==this.totalSteps)},i.prototype.save=function(){var t,e;return e=function(t){return function(e,i){return _(e).extend(t.serializeStep(i))}}(this),t={survey:_(this.steps).reduce(e,{})},$.ajax("/career/survey",{data:t,type:"PUT"})},i.prototype.serializeStep=function(t){var e,i,s,r,o,n,a,u,l,h,c,p,d,f,g;for(f={},p=$(t).find(".survey-list"),r=0,a=p.length;a>r;r++)if(h=p[r],h=$(h),s=h.find("[data-value]"),d=[h.data("type"),h.data("param")],g=d[0],c=d[1],"checkbox"===g)for(o=0,u=s.length;u>o;o++)i=s[o],f[$(i).data("value")]=$(i).find("> a").is(".checked");else if("radio"===g)f[c]=s.filter(":has(> a.checked)").data("value");else if("sortable"===g)for(e=n=0,l=s.length;l>n;e=++n)i=s[e],f[$(i).data("value")]=s.length-1-e;return f},i}(Wizard))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.CircleProgress=function(i){function s(e){this.setProgress=t(this.setProgress,this),s.__super__.constructor.apply(this,arguments),this.progress=this.el.data("progress"),this.circumference=this.el.width()*Math.PI,this.progressBars=this.get("[data-progress-base-overlay], [data-progress-bar]"),this.setProgress(this.progress)}return e(s,i),s.prototype.setProgress=function(t){return this.progress=t,this.progressBars.attr("stroke-dashoffset",((100-this.progress)/100*this.circumference).toFixed(3)+"px")},s}(Treehouse.View),Featurette.register("circle-progress",Treehouse.CircleProgress)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(){return this.playVideo=e(this.playVideo,this),this.closeOverlay=e(this.closeOverlay,this),s.__super__.constructor.apply(this,arguments)}return i(s,t),s.prototype.closeOverlay=function(){var t;return s.__super__.closeOverlay.apply(this,arguments),t=Featurette.get(this.el.find("video").attr("id")),t.reset()},s.prototype.playVideo=function(){return this.el.find("video").trigger("play")},s}(Treehouse.Modal),Featurette.register("course-trailer-modal",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(){this.onSubmit=e(this.onSubmit,this),s.__super__.constructor.apply(this,arguments),this.el.on("submit",this.onSubmit)}return i(s,t),s.prototype.onSubmit=function(t){var e,i;return t.preventDefault(),e=t.currentTarget,null!=(i=Featurette.get("layout"))&&i.loading(),$.ajax({url:e.action,type:e.method,data:this.el.serialize(),success:function(t){return function(){return location.reload()}}(this),error:function(t){return function(e){var i;return t.el.html(e.responseText),Treehouse.init(),null!=(i=Featurette.get("layout"))?i.loaded():void 0}}(this)})},s}(Treehouse.View),Featurette.register("department-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.populateMemberOptions=e(this.populateMemberOptions,this),this.updateChosen=e(this.updateChosen,this),this.lookupMembers=e(this.lookupMembers,this),s.__super__.constructor.apply(this,arguments),this.on("chosen:showing_dropdown",this.lookupMembers)}return i(s,t),
s.prototype.lookupMembers=function(){return $.ajax({url:this.el.data("autocomplete-url"),dataType:"json",success:this.updateChosen})},s.prototype.updateChosen=function(t){return this.populateMemberOptions(t),this.el.trigger("chosen:updated")},s.prototype.populateMemberOptions=function(t){var e;return e=t.reduce(function(t,e){return t+="<option value='"+e.value+"'>"+e.label+"</option>"},""),this.el.html(e)},s}(Treehouse.FormSelect),Featurette.register("department-member-autocomplete",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),this.on("change",function(e,i){return"Add a department..."===i.selected?window.location=$(t).data("departments-path"):void 0})}return e(i,t),i}(Treehouse.FormSelect),Featurette.register("department-select",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.EditBillingForm=function(i){function s(e){this.setupCardTokenizer=t(this.setupCardTokenizer,this),this.finalizeForm=t(this.finalizeForm,this),this.onFormSubmit=t(this.onFormSubmit,this),this.togglePaymentMethod=t(this.togglePaymentMethod,this),s.__super__.constructor.apply(this,arguments),this.on("change","input[name='payment_method']",this.togglePaymentMethod),this.on("submit",this.onFormSubmit),this.togglePaymentMethod(),this.setupCardTokenizer()}return e(s,i),s.prototype.togglePaymentMethod=function(){switch(this.paymentMethod=this.get("input[name='payment_method']").filter(":checked").val(),this.paymentMethod){case"paypal":return this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".paypal-chosen").show();case"credit_card":return this.get(".paypal-chosen").hide(),this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").show();case"bitcoin":return this.get(".paypal-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".bitcoin-chosen").show()}},s.prototype.onFormSubmit=function(t){return t.preventDefault(),t.stopPropagation(),"credit_card"===this.paymentMethod?this.cardTokenizer.tokenizeCard(this.get("#credit_card_number").val(),this.get("#credit_card_month").val(),this.get("#credit_card_year").val(),this.get("#credit_card_cvv").val()):this.finalizeForm()},s.prototype.finalizeForm=function(){return this.get("#credit_card_number").val(""),this.get("#credit_card_cvv").val(""),this.el.get(0).submit()},s.prototype.setupCardTokenizer=function(){var t;return t=this.el.data("tokenizer-config"),this.cardTokenizer=new Treehouse.CreditCardTokenizer(this.el.get(0).id,{client_token:t.client_token,merchant_id:t.merchant_id,environment:BraintreeData.environments[t.environment]},this.finalizeForm)},s}(Treehouse.View),Featurette.register("edit-billing-form",Treehouse.EditBillingForm)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.listener=e(this.listener,this),this.init=e(this.init,this),s.__super__.constructor.apply(this,arguments),this.filters="a[data-filter-value]",this.el.on("filter-list:updated",this.init),this.el.trigger("filter-list:updated"),this.initialValue()}return i(s,t),s.prototype.init=function(){return this.get(this.filters).off("click",this.listener).on("click",this.listener)},s.prototype.initialValue=function(){var t;return(t=Treehouse.queryString()[this.el.attr("id")])&&this.val(t.replace(/\+/g," ")),void 0===this.val()?this.val(""):void 0},s.prototype.listener=function(t){var e;return t.preventDefault(),e=$(t.target),this.val(e.data("filter-value"))},s.prototype.val=function(t,e){var i;return null==e&&(e=!0),void 0===t?this.get(this.filters).filter(".selected").first().data("filter-value"):(this.get(this.filters).removeClass("selected"),i=this.get(this.filters).filter("[data-filter-value='"+t+"']"),1===i.length&&i.addClass("selected"),this.get("[data-filter-list-current-value]").html(i.html()),e?this.el.trigger("change"):void 0)},s}(Treehouse.View),Featurette.register("filter-list",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.removeEmptyCategories=e(this.removeEmptyCategories,this),this.populateTemplateGroup=e(this.populateTemplateGroup,this),this.populateForkedWorkspaceSelect=e(this.populateForkedWorkspaceSelect,this),this.resetTemplateSelect=e(this.resetTemplateSelect,this),this.filterTemplates=e(this.filterTemplates,this),this.id=t.id,s.__super__.constructor.apply(this,arguments),this.forkedWorkspaceSelect=$("select#workspace_forked_workspace_id"),this.imageSelect=$("#image_id"),this.el.on("change",this.filterTemplates),this.populateForkedWorkspaceSelect()}return i(s,t),s.prototype.filterTemplates=function(){var t;return this.resetTemplateSelect(),t=$("#image_id").val(),""!==t&&(this.forkedWorkspaceSelect.find("option[data-image-id!='"+t+"']").remove(),this.removeEmptyCategories()),this.forkedWorkspaceSelect.trigger("change")},s.prototype.resetTemplateSelect=function(){return this.forkedWorkspaceSelect.empty(),this.populateForkedWorkspaceSelect()},s.prototype.populateForkedWorkspaceSelect=function(){var t,e,i;t={"Content Templates":this.forkedWorkspaceSelect.data("content-templates"),Templates:this.forkedWorkspaceSelect.data("starter-templates"),"Your Workspaces":this.forkedWorkspaceSelect.data("user-workspaces")};for(e in t)i=t[e],this.populateTemplateGroup(e,i);return this.removeEmptyCategories()},s.prototype.populateTemplateGroup=function(t,e){var i,s,r,o,n,a;for(o=$("<optgroup label='"+t+"'></optgroup>"),this.forkedWorkspaceSelect.append(o),n=[],i=0,s=e.length;s>i;i++)a=e[i],r=$("<option value='"+a.id+"' data-image-id='"+a.image_id+"'></option>"),r.text(a.title),n.push(o.append(r));return n},s.prototype.removeEmptyCategories=function(){return this.forkedWorkspaceSelect.find("optgroup:empty").remove()},s}(Treehouse.View),Featurette.register("filter-workspace-templates",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.setPopoverOffset=e(this.setPopoverOffset,this),this.hideDropdown=e(this.hideDropdown,this),this.listener=e(this.listener,this),s.__super__.constructor.apply(this,arguments),this.listenTo(document,"click",this.hideDropdown),this.$discussionTools=$(".discussion-tools"),this.layout=Featurette.get("layout"),this.popover=this.get(".popover"),this.toggle=this.get(".popover-toggle"),this.on("click","[data-popover-toggle]",this.listener)}return i(s,t),s.prototype.listener=function(t){return this.setPopoverOffset(),this.popover.toggle(),this.toggle.toggleClass("selected")},s.prototype.hideDropdown=function(t){var e;return e=$(t.target).closest(".discussion-tools"),this.$discussionTools.not(e).find(".popover").hide().end().find(".popover-toggle").removeClass("selected"),e.length?void 0:this.el.find(".popover").hide().end().find(".popover-toggle").removeClass("selected")},s.prototype.setPopoverOffset=function(){return this.layout.isMobile()&&"comment"!==this.el.data("item-type")?this.popover.removeClass("popover-offset-right").addClass("popover-offset-left"):this.popover.removeClass("popover-offset-left").addClass("popover-offset-right")},s}(Treehouse.View),Featurette.register("forum-moderation-tools",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.renderRepos=e(this.renderRepos,this),this.getRepos=e(this.getRepos,this),this.el=$(t),this.githubUsername=this.el.data("github-username"),this.githubSection=this.el.find("ul"),this.getRepos(this.githubUsername,this.githubSection,this.renderRepos)}return t.prototype.getRepos=function(t,e,i){var s,r;return s="https://api.github.com/users/"+t+"/repos",r=this,$.ajax({url:s,dataType:"jsonp",crossDomain:!0,success:function(i){var s;return s=i.data,s=$.grep(s,function(t){return!t.fork}),s.sort(function(t,e){return e.watchers_count-t.watchers_count}),s=$(s),r.renderRepos(s,t,e)}})},t.prototype.renderRepos=function(t,e,i){return t.length>0&&(i.parent().removeClass("hidden"),t.each(function(t){var s,r;return s={repoName:this.name,repoDescription:this.description,repoUrl:this.html_url,repoForksUrl:this.html_url+"/network",repoForks:this.forks+" fork"+(1===this.forks?"":"s"),repoStargazersUrl:this.html_url+"/stargazers",repoStargazers:this.watchers+" stargazer"+(1===this.watchers?"":"s"),repoOwner:this.owner.login===e},r=HoganTemplates["profile/github_repo"].render(s),t>1&&(r=$(r).hide()),i.append(r)}),t.length>2)?this.setToggle(i):void 0},t.prototype.setToggle=function(t){return t.parent().find("div.show-all-repos").removeClass("hidden"),t.parent().find("div.show-all-repos a.button").click(function(e){return function(e){var i;return t.find("li.grid-50.tablet-grid-50").slice(2).slideToggle(),i=$(e.target),i.text("See all repositories"===i.text()?"Hide repositories":"See all repositories")}}(this))},t}(),Featurette.register("github-profile",t)}.call(this),function(){var t;t=function(){function t(t){this.id=t.id,$(t).find("#contact-form .honey-pot-field").remove(),this.resetContactForm(),$(t).find("#contact-form").submit(function(t){return function(e){return t.handleSubmit(e)}}(this))}return t.prototype.resetContactForm=function(){var t;return t=$("#"+this.id),t.find("#contact-form input").add("#"+this.id+" #contact-form textarea").removeClass("field_with_errors"),t.find(".error-message").hide(),t.find(".message").hide(),window.element=t,this.hasBeenSubmitted&&t.find("#contact-form").show(),this.hasBeenSubmitted&&t.find(".form-footer .button").show(),this.hasBeenSubmitted=!1},t.prototype.handleSubmit=function(t){var e;return e=$("#"+this.id),this.resetContactForm(),e.find("#contact-form").hide(),e.find(".form-footer .button").hide(),e.find(".message.waiting").show(),$.ajax({url:"/contact.json",type:"POST",dataType:"json",data:e.find("form").serialize(),error:function(t){return function(t){return e.find(".message").hide(),e.find(".message.error").show()}}(this),success:function(t){return function(i){return e.find(".message").hide(),$.isEmptyObject(i.errors)?(e.find(".message.success").show(),t.hasBeenSubmitted=!0,e.find("#contact-form textarea").val("")):(e.find(".message.error").show(),e.find("#contact-form").show(),e.find(".form-footer .button").show(),$.each(i.errors,function(t,i){return e.find("#contact_form_"+t).addClass("field_with_errors").closest("div.form-item").find(".error-message").show().text(i[0])}))}}(this)}),t.preventDefault()},t}(),Featurette.register("help-form",t)}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function i(){this.constructor=t}for(var s in e)r.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(t){function e(t){this.launch=i(this.launch,this),this.onClick=i(this.onClick,this),e.__super__.constructor.apply(this,arguments),this.setup(),this.el}return s(e,t),e.prototype.setup=function(){return this.on("click",this.onClick)},e.prototype.onClick=function(t){return this.launch(this.data.id),null!=t?t.preventDefault():void 0},e.prototype.launchOpts="top=100,left=100,height=768,width=1024,scrollbars=0,location=0,menubar=0,toolbar=0",e.prototype.launch=function(t){var e,i,s;return e="/workspaces/"+t,null!=this.win?this.win.location=e:this.win=window.open(e,null,this.launchOpts),null==this.win&&alert("It looks like your pop up blocker blocked the workspace window."),this.win=null,null!=(i=Featurette.get(this.el.closest(".modal").attr("id")))&&i.closeOverlay(),null!=(s=$(".video-alert .alert"))?s.remove():void 0},e}(Treehouse.View),t=function(t){function e(){return this.onError=i(this.onError,this),this.onCreate=i(this.onCreate,this),this.submit=i(this.submit,this),e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.setup=function(){return this.on("submit",this.submit),this.resetErrors(),this.callbackUrl=this.data.callbackUrl,this.redirectUrl=this.data.redirect_url},e.prototype.submit=function(t){var e,i,s,r;return this.resetErrors(),r=this.get("#workspace_title"),0===r.val().length?(i="<span class='error-message'>A title is required</span>",r.addClass("field_with_errors").after(i),null!=t&&t.preventDefault(),!1):(this.win=window.open("about:blank",null,this.launchOpts),e={title:r.val(),item_type:this.get("#workspace_item_type").val(),item_id:this.get("#workspace_item_id").val(),forked_workspace_id:this.get("#workspace_forked_workspace_id").val(),workspace_template_group_id:this.get("#workspace_workspace_template_group_id").val()},s=this.get("#source").val(),$.ajax({url:"/workspaces",type:"POST",dataType:"json",contentType:"application/json",processData:!1,headers:{"X-CSRF-Token":$("meta[name='csrf-token']").attr("content")},data:JSON.stringify({source:s,workspace:e}),success:function(t){return function(e){return t.onCreate(e.workspace)}}(this),error:function(t){return function(e){return t.onError(e)}}(this)}),null!=t?t.preventDefault():void 0)},e.prototype.onCreate=function(t){return this.launch(t.id),null!=this.redirectUrl?_.delay(function(t){return function(){return location.href=t.redirectUrl}}(this),1e3):location.pathname.match(/^\/workspaces/)?_.delay(function(){return location.reload()},1e3):null!=this.callbackUrl?this.performCallback():void 0},e.prototype.onError=function(t){var e,i,s,r,o;o=$.parseJSON(t.responseText).errors,(i=o.base)&&(delete o.base,this.get(".field-container").first().before("<div class='error message'><p>"+i[0]+"</p></div>"));for(e in o)s=o[e],this.get("#workspace_"+e).addClass("field_with_errors").after("<span class='error-message'>"+s[0]+"</span>");return null!=(r=this.win)?r.close():void 0},e.prototype.resetErrors=function(){return this.get(".error-message").remove()},e.prototype.performCallback=function(){return $.ajax({type:"GET",url:this.callbackUrl,success:function(t){return function(t){return $("#workspaces-tab-content").html(t),Treehouse.init()}}(this)})},e}(e),Featurette.register("launch-workspace",e),Featurette.register("launch-new-workspace",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.locationSource=e(this.locationSource,this),this.el=$(t).autocomplete({minLength:5,source:this.locationSource,open:function(){return $(this).autocomplete("widget").zIndex(5)}})}return t.prototype.locationSource=function(t,e){return $.ajax({url:this.el.data("autocomplete-url"),data:{q:t.term},dataType:"json",success:e})},t}(),Featurette.register("location-autocomplete",t)}.call(this),function(){var t,e,i,s=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=function(t){function e(t){this.undoSelectChanges=s(this.undoSelectChanges,this),this.showError=s(this.showError,this),this.hideError=s(this.hideError,this),this.showConfirmation=s(this.showConfirmation,this),this.hideConfirmation=s(this.hideConfirmation,this),this.showDetails=s(this.showDetails,this),this.hideDetails=s(this.hideDetails,this),this.triggerUpdate=s(this.triggerUpdate,this),this.performAction=s(this.performAction,this),this.cancelAction=s(this.cancelAction,this),this.disableButton=s(this.disableButton,this),this.updateStatus=s(this.updateStatus,this),this.updateDepartment=s(this.updateDepartment,this),this.departmentSelect=s(this.departmentSelect,this),this.statusSelect=s(this.statusSelect,this),e.__super__.constructor.apply(this,arguments),this.status=this.statusSelect().find("option:selected").val(),this.department=this.departmentSelect().find("option:selected").val(),this.on("change","select[name=department]",this.updateDepartment),this.on("change","select[name=status]",this.updateStatus),this.on("click",".member-action-confirmation button.secondary",this.cancelAction),this.on("click","button.primary",this.disableButton),this.on("click",".update-department button.primary",this.updateDepartment),this.on("click",".member-action-confirmation button.primary",this.performAction),this.on("click",".member-action-error button",this.hideError)}return r(e,t),e.prototype.statusSelect=function(){return this.get("select[name=status]")},e.prototype.departmentSelect=function(){return this.get("select[name=department]")},e.prototype.updateDepartment=function(){var t,e,i,s;return t=this.departmentSelect().data("action"),i=this.departmentSelect().data("member-type"),s=this.departmentSelect().find("option:selected").val(),e={member_type:i,department_id:s},s!==this.department?this.el.hasClass("member-role-admin")&&this.el.find(".member-action-confirmation.update-department").hasClass("hidden")?this.showConfirmation("update-department"):$.ajax(t,{type:"PUT",data:e}).done(function(t){return function(){return t.triggerUpdate()}}(this)).fail(function(t){return function(){return t.undoSelectChanges(),t.showError()}}(this)):void 0},e.prototype.updateStatus=function(){var t;return t=this.statusSelect().find("option:selected").val(),t!==this.status?this.showConfirmation(t):void 0},e.prototype.disableButton=function(t){return this.disable(t.target)},e.prototype.cancelAction=function(){return this.hideConfirmation(),this.showDetails(),this.undoSelectChanges()},e.prototype.performAction=function(){var t,e,i;return e=$(event.target).data("url"),i=$(event.target).data("method"),null!=(t=Featurette.get("layout"))&&t.loading(),$("#member-table").addClass("transparent-while-loading"),$.ajax(e,{type:i}).done(function(t){return function(){return t.triggerUpdate()}}(this)).fail(function(t){return function(e){var i,s;return null!=(s=Featurette.get("layout"))&&s.loaded(),$("#member-table").removeClass("transparent-while-loading"),t.undoSelectChanges(),422===e.status&&(i=e.responseText),t.showError(i)}}(this))},e.prototype.triggerUpdate=function(){return this.el.trigger("organization-member:updated")},e.prototype.hideDetails=function(){return this.hide(this.get(".member-row"))},e.prototype.showDetails=function(){return this.show(this.get(".member-row"))},e.prototype.hideConfirmation=function(){return this.hide(this.get(".member-action-confirmation")),this.enable(this.get("button.primary"))},e.prototype.showConfirmation=function(t){return this.hideDetails(),this.show(this.get(".member-action-confirmation."+t))},e.prototype.hideError=function(){return this.hide(this.get(".member-action-error")),this.showDetails()},e.prototype.showError=function(t){return this.hideDetails(),this.hideConfirmation(),this.show(this.get(".member-action-error")),t?this.get(".member-action-error span").html(t):void 0},e.prototype.undoSelectChanges=function(){return this.statusSelect().val(this.status).change(),this.departmentSelect().val(this.department).change()},e.prototype.hide=function(t){return t.addClass("hidden")},e.prototype.show=function(t){return t.removeClass("hidden")},e.prototype.disable=function(t){var e;return e=$(t),e.prop("disabled",!0),e.addClass("disabled")},e.prototype.enable=function(t){var e;return e=$(t),e.prop("disabled",!1),e.removeClass("disabled")},e}(Treehouse.View),null!=(e=this.Treehouse)&&null!=(i=e.Organizations)&&(i.MemberRow=t),Featurette.register("Treehouse.Organizations.MemberRow",t)}.call(this),function(){var t,e,i,s=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=function(t){function e(t){this.hideBulkSuccess=s(this.hideBulkSuccess,this),this.updateRowCount=s(this.updateRowCount,this),this.toggleSelectAll=s(this.toggleSelectAll,this),this.performBulkAction=s(this.performBulkAction,this),this.hideBulkError=s(this.hideBulkError,this),this.cancelBulkAction=s(this.cancelBulkAction,this),this.confirmBulkAction=s(this.confirmBulkAction,this),this.updateMembersList=s(this.updateMembersList,this),this.resetDateFilters=s(this.resetDateFilters,this),this.checkForBlankDateInputs=s(this.checkForBlankDateInputs,this),this.applyDateFilters=s(this.applyDateFilters,this),this.filterOptions=s(this.filterOptions,this),this.setupFilters=s(this.setupFilters,this),this.addMembersToOrganization=s(this.addMembersToOrganization,this),this.uploadCSV=s(this.uploadCSV,this),this.resetForm=s(this.resetForm,this),this.showCSVForm=s(this.showCSVForm,this),this.showNewMemberForm=s(this.showNewMemberForm,this),this.loaded=s(this.loaded,this),this.loading=s(this.loading,this),e.__super__.constructor.apply(this,arguments),this.on("click","#add-member-button",this.showNewMemberForm),this.on("click","#toggle-csv",this.showCSVForm),this.on("click","#add-member-button.secondary, button[type=cancel]",this.resetForm),this.on("click",".upload-file",this.uploadCSV),this.on("click",".remove-row",this.removeInvitation),this.on("submit","#new-member-form",this.addMembersToOrganization),this.on("click","[data-element='apply-date-filters']",this.applyDateFilters),this.on("click","[data-element='reset-date-filters']",this.resetDateFilters),this.on("click",".pagination-container a",this.updateMembersList),this.on("change","[data-element='bulk-select-all']",this.toggleSelectAll),this.on("change","[data-element='bulk-checkbox']",this.updateRowCount),this.on("click","[data-element='select-bulk'] button",this.confirmBulkAction),this.on("click","[data-element='confirm-bulk'] button.primary",this.performBulkAction),this.on("click","[data-element='confirm-bulk'] button.secondary",this.cancelBulkAction),this.on("click","[data-element='bulk-error'] button",this.hideBulkError),this.on("click","[data-element='bulk-success'] button",this.hideBulkSuccess),this.on("pjax:start",this.clearElementsCache),this.on("pjax:end",this.setupFilters),this.on("pjax:start",this.loading),this.on("pjax:end",this.loaded),this.listenTo("body","organization-member:updated",this.updateMembersList),this.setupFilters()}return r(e,t),e.prototype.loading=function(){var t;return null!=(t=Featurette.get("layout"))&&t.loading(),this.el.addClass("transparent-while-loading")},e.prototype.loaded=function(){var t;return null!=(t=Featurette.get("layout"))&&t.loaded(),this.el.removeClass("transparent-while-loading")},e.prototype.showNewMemberForm=function(){return this.show(this.get("#new-member-form")),this.get("#add-member-button").addClass("secondary"),this.get("#invitations__email").select()},e.prototype.showCSVForm=function(t){return t.preventDefault(),this.el.find("#new-member-form").addClass("csv-upload-active")},e.prototype.resetForm=function(t){return t.preventDefault(),$.pjax({url:this.paginatedPageState||window.location.href,type:"GET",cache:!1,push:!1,scrollTo:!1,container:this.el})},e.prototype.uploadCSV=function(t){var e,i,s,r;return t.preventDefault(),e=document.getElementById("csv-file-upload").files[0],r=$("meta[name='csrf-token']").attr("content"),e.type.match("text/csv")?(s=new FormData,s.append("csv_file",e,e.name)):s={},i=this.getFiltersFromUrl(),$.pjax({url:this.el.data("file-upload-path")+i,type:"POST",data:s,headers:{"X-CSRF-Token":r},cache:!1,contentType:!1,processData:!1,container:this.el,push:!1,scrollTo:!1})},e.prototype.removeInvitation=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).closest(".member-upload-list"),e.remove()},e.prototype.addMembersToOrganization=function(t){var e,i;return t.preventDefault(),i=this.get("#new-member-form"),e=this.getFiltersFromUrl(),$.pjax({url:i.attr("action")+e,type:"POST",data:i.serialize(),container:this.el,push:!1,scrollTo:this.el.offset().top-20})},e.prototype.setupFilters=function(){return this.setupDateFilters(),_.delay(function(t){return function(){return new Treehouse.Layout.Application.ControlBar(t.el.find("[data-layout-element=member-controls]")),new Filters({basePath:"organization/members",container:t.el,binds:t.filterOptions()})}}(this),100)},e.prototype.filterOptions=function(){var t;return t={},t.search=this.get("#search"),t.sort=Featurette.get("org-members-sort"),Featurette.get("org-members-department-filter")&&(t.department=Featurette.get("org-members-department-filter")),t.status=Featurette.get("org-members-status-filter"),t.dates=Featurette.get("org-members-dates-filter"),t},e.prototype.setupDateFilters=function(){var t;return t=location.pathname.match(/dates:(\d{1,2}-\D{3}-\d{4}..\d{1,2}-\D{3}-\d{4})/),t?this.get("[data-element='dates-filter']").attr("data-filter-value",t[1]):void 0},e.prototype.applyDateFilters=function(){var t,e,i,s,r,o,n,a,u,l,h,c;return this.get(".org-date-picker select").parent().removeClass("field_with_errors"),this.checkForBlankDateInputs()?(s=parseInt(this.get("#from_month").val())-1,i=parseInt(this.get("#from_day").val()),r=parseInt(this.get("#from_year").val()),a=parseInt(this.get("#to_month").val())-1,n=parseInt(this.get("#to_day").val()),u=parseInt(this.get("#to_year").val()),e=new Date(r,s,i),o=new Date(u,a,n),h=Date.validateDay(i,r,s),c=Date.validateDay(n,u,a),l=o>e,this.checkFilterDates(h,c,l)?(t=e.toString("d-MMM-yyyy")+".."+o.toString("d-MMM-yyyy"),this.get("[data-element='dates-filter']").attr("data-filter-value",t).click()):void 0):this.show(this.get("[data-element='dates-error']"))},e.prototype.checkForBlankDateInputs=function(){var t;return t=!0,this.get(".org-date-picker select").each(function(){return""===$(this).val()?(t=!1,$(this).parent().addClass("field_with_errors")):void 0}),t},e.prototype.checkFilterDates=function(t,e,i){return t&&e?i?!0:(this.show(this.get("[data-element='dates-error']")),this.get(".org-date-picker select").parent().addClass("field_with_errors"),!1):(this.show(this.get("[data-element='dates-error']")),t||this.get("[data-element='from-date'] select").parent().addClass("field_with_errors"),e||this.get("[data-element='to-date'] select").parent().addClass("field_with_errors"),!1)},e.prototype.resetDateFilters=function(){return this.get("[data-element='dates-filter']").attr("data-filter-value","").click()},e.prototype.updateMembersList=function(t,e){return t.preventDefault(),t.currentTarget.href&&(this.paginatedPageState=t.currentTarget.href),$.pjax({url:this.paginatedPageState||window.location.href,container:this.el,push:!1,scrollTo:e?this.el.offset().top-20:!1}).done(function(t){return function(){return e?t.showBulkSuccess(e):void 0}}(this))},e.prototype.confirmBulkAction=function(){var t;return t=this.get("[data-element='select-bulk'] select").val(),t&&this.runBulkChecks(t)?(this.hide(this.get("[data-element='select-bulk']")),this.show(this.get("[data-action='"+t+"']"))):void 0},e.prototype.cancelBulkAction=function(){return this.hide(this.get("[data-element='confirm-bulk']")),this.show(this.get("[data-element='select-bulk']"))},e.prototype.showBulkError=function(t){return this.hide(this.get("[data-element='select-bulk']")),this.hide(this.get("[data-element='confirm-bulk']")),this.show(this.get("[data-element='bulk-error']")),t?this.get("[data-element='bulk-error'] span").html(t):void 0},e.prototype.hideBulkError=function(){return this.hide(this.get("[data-element='bulk-error']")),this.show(this.get("[data-element='select-bulk']"))},e.prototype.performBulkAction=function(t){var e,i,s,r;return r=$(t.target).closest(".member-action-confirmation").data("action"),e=this.runBulkChecks(r),e?(i=$(t.target).data("url"),s=$(t.target).data("method"),this.loading(),$.ajax(i,{type:s,data:{member_ids:e}}).done(function(i){return function(){var s;return s=i.bulkSuccessMessage(e.length,r),i.updateMembersList(t,s)}}(this)).fail(function(t){return function(e){var i;return t.loaded(),422===e.status&&(i=e.responseText),t.showBulkError(i)}}(this))):void 0},e.prototype.runBulkChecks=function(t){var e,i,s,r;return i=this.getMemberInfo(),s=i.statuses,r=this.requiredStatus(t),0===s.length?(this.showBulkError("You have not selected any rows."),!1):this.checkArrayItemsAreAll(s,r)?i.ids:(e=this.actionWords(t),this.showBulkError("Not all the selected rows can have "+e[0]+"s "+e[1]+"."),!1)},e.prototype.requiredStatus=function(t){switch(t){case"reactivate-accounts":return"canceled";case"cancel-accounts":return"active";case"resend-invitations":return"invited";case"cancel-invitations":return"invited"}},e.prototype.actionWords=function(t){switch(t){case"reactivate-accounts":return["account","reactivated"];case"cancel-accounts":return["account","canceled"];case"resend-invitations":return["invitation","resent"];case"cancel-invitations":return["invitation","canceled"]}},e.prototype.bulkSuccessMessage=function(t,e){var i;return i=this.actionWords(e),1===t?"The 1 member you selected has successfully had their "+i[0]+" "+i[1]+".":"The "+t+" members you selected have successfully had their "+i[0]+"s "+i[1]+"."},e.prototype.getMemberInfo=function(){var t;return t={ids:[],statuses:[]},this.get("[data-element='bulk-checkbox']").filter(":checked").each(function(){return t.ids.push($(this).val()),t.statuses.push($(this).closest("tr").find("#status").val())}),t},e.prototype.checkArrayItemsAreAll=function(t,e){return t.every(function(t){return t===e})},e.prototype.toggleSelectAll=function(t){return t.target.checked?this.get("[data-element='bulk-checkbox']").prop("checked",!0):this.get("[data-element='bulk-checkbox']").prop("checked",!1),this.updateRowCount()},e.prototype.updateRowCount=function(){var t;return t=this.get("[data-element='bulk-checkbox']").filter(":checked").length,this.get(".selected-count").html(t),1===t?this.hide(this.get(".plural")):this.show(this.get(".plural")),this.checkForSelectAll()},e.prototype.checkForSelectAll=function(){return this.get("[data-element='bulk-checkbox']").length===this.get("[data-element='bulk-checkbox']").filter(":checked").length?this.get("[data-element='bulk-select-all']").prop("checked",!0):this.get("[data-element='bulk-select-all']").prop("checked",!1)},e.prototype.showBulkSuccess=function(t){return this.show(this.get("[data-element='bulk-success']")),this.get("[data-element='bulk-success'] span").html(t)},e.prototype.hideBulkSuccess=function(){return this.hide(this.get("[data-element='bulk-success']"))},e.prototype.show=function(t){return t.removeClass("hidden")},e.prototype.hide=function(t){return t.addClass("hidden")},e.prototype.getFiltersFromUrl=function(){return location.pathname.replace("/organization/members","")},e}(Treehouse.View),null!=(e=this.Treehouse)&&null!=(i=e.Organizations)&&(i.MembersTable=t),Featurette.register("Treehouse.Organizations.MembersTable",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.onFormSubmit=e(this.onFormSubmit,this);var i;this.textarea=$(t),this.form=this.textarea.closest("form"),this.textarea.mentionsInput({onDataRequest:this.onDataRequest,triggerChar:"@",minChars:1,showAvatars:!0,elastic:!1,templates:{autocompleteList:_.template('<ul class="user-tagging"></ul>'),autocompleteListItem:_.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><a><strong><%= content %></strong><p>@<%= username %></p></a></li>'),autocompleteListItemAvatar:_.template('<div class="avatar <%= type %>" style="background-image: url(<%= avatar %>)"></div>')}}),(i=this.textarea.data("mentions"))&&this.textarea.mentionsInput("setMentions",this.textarea.data("mentions-body"),i),this.form.on("submit",this.onFormSubmit)}return t.prototype.onFormSubmit=function(t){return this.textarea.mentionsInput("val",function(t){return function(e){var i;return i=$("<input type='hidden' name='"+t.textarea.attr("name")+"'/>"),i.val(e),t.textarea.after(i),t.textarea.attr("name","gui_body")}}(this))},t.prototype.onDataRequest=function(t,e,i){return $.getJSON("/user/mention_search.json",{query:e},function(t){return i.call(this,t)})},t}(),Featurette.register("mentions",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments);
}};t=function(){function t(t){this.always=e(this.always,this),this.fail=e(this.fail,this),this.done=e(this.done,this),this.submit=e(this.submit,this),this.element=$(t),this.form=this.element.find("form#"+this.element.data("form")),$(document).on("submit","#"+this.form.attr("id"),this.submit)}return t.prototype.submit=function(t){var e;return t.preventDefault(),e=$.ajax({cache:!1,type:"post",url:this.form.attr("action"),data:this.form.serialize(),dataType:"json"}),e.done(this.done),e.fail(this.fail),e.always(this.always)},t.prototype.done=function(t){return t.redirect?location.href=t.redirect:this.element.html(response.responseText),this.form.trigger("modal-form:done")},t.prototype.fail=function(t){var e,i,s;e=$.parseJSON(t.responseText).errors;for(i in e)s=e[i],this.form.find("[name$='["+i+"]']").after($("<div class='field_with_errors'><p class='error-message'>"+s.shift()+"</p></div>"));return this.form.trigger("modal-form:fail")},t.prototype.always=function(){return this.element.find(".form-item label:not(.prefill)").inFieldLabels()},t}(),Featurette.register("modal-form",t)}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function i(){this.constructor=t}for(var s in e)r.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;e=function(){function t(t){this.handleElementClick=i(this.handleElementClick,this),this.modal=i(this.modal,this),this.triggerModal=i(this.triggerModal,this),this.id=t.id,this.element=$(t),this.target=this.element.attr("data-target"),this.stack=this.element.data("stack"),this.element.attr("data-mobile-fallback")&&$(window).width()<=480||this.element.click(this.handleElementClick)}return t.prototype.triggerModal=function(){return this.element.trigger("modal:trigger"),this.modal().showOverlay({stack:this.stack})},t.prototype.modal=function(){return Featurette.get(this.target)},t.prototype.handleElementClick=function(t){return t.preventDefault(),this.triggerModal()},t}(),Featurette.register("modal-trigger",e),t=function(t){function e(t){this.loadAsyncModal=i(this.loadAsyncModal,this),this.handleElementClick=i(this.handleElementClick,this),e.__super__.constructor.call(this,t),this.src=this.element.data("src"),this.params=this.element.data("params")||{},this.loading=!1,this.element.data("disable-while-loading")||this.element.data("disable-while-loading","true"),this.parentLi=this.element.parent("li")}return s(e,t),e.prototype.handleElementClick=function(t){return this.loadAsyncModal(function(t){return function(){return t.triggerModal()}}(this)),t.preventDefault()},e.prototype.loadAsyncModal=function(t){var e;return this.loading&&this.element.data("disable-while-loading")===!0?!1:(this.loading=!0,this.element.addClass("loading"),this.parentLi.addClass("loading"),this.element.trigger("loading"),e=this.modal(),$.get(this.src,this.params,function(i){return function(s,r,o){return $(e.el).html(s),Featurette.load(),i.loading=!1,i.element.removeClass("loading"),i.parentLi.removeClass("loading"),i.element.trigger("loaded"),Treehouse.init(),t()}}(this)).fail(function(t){return function(t,e,i){return 401===t.status&&t.getResponseHeader("content-type").match("application/json")?location.href=$.parseJSON(t.responseText).redirect:void 0}}(this)))},e}(e),Featurette.register("async-modal-trigger",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.toggleButton=e(this.toggleButton,this),this.toggleForm=e(this.toggleForm,this),s.__super__.constructor.apply(this,arguments),this.on("click",".organization-goal-button",this.toggleForm)}return i(s,t),s.prototype.toggleForm=function(t){return this.get(".organization-goal-form").toggleClass("viewing-org-goal editing-org-goal"),this.get(".organization-goal-form").hasClass("editing-org-goal")?(t.preventDefault(),this.toggleButton("Save goal",!1)):this.toggleButton("Save goal",!0)},s.prototype.toggleButton=function(t,e){return this.get(".organization-goal-button").val(t).toggleClass("button-primary"),this.get(".organization-goal-input").attr("readonly",e)},s}(Treehouse.View),Featurette.register("organization-goal",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.processForm=e(this.processForm,this),this.hideDateFields=e(this.hideDateFields,this),this.showDateFields=e(this.showDateFields,this),this.onTypeChange=e(this.onTypeChange,this),s.__super__.constructor.apply(this,arguments),this.dateFields=this.get("#content-report-dates"),this.on("change","[name=report_type]",this.onTypeChange),this.on("submit",t,this.processForm)}return i(s,t),s.prototype.onTypeChange=function(t){return"members"===t.currentTarget.value?this.showDateFields():this.hideDateFields()},s.prototype.showDateFields=function(){return this.dateFields.addClass("hidden")},s.prototype.hideDateFields=function(){return this.dateFields.removeClass("hidden")},s.prototype.processForm=function(){return event.preventDefault(),ga("send","event","button","Orgs: Generate Report",this.el.data().eventSource,{hitCallback:function(t){return function(){return t.el.get(0).submit()}}(this)})},s}(Treehouse.View),Featurette.register("organization-reports-form",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(t){this.element=$(t),this.element.hover(this.updateChart,this.restoreChart)}return e(i,t),i.prototype.updateChart=function(t){var e,i,s;return Treehouse.restoreOrganizationStats=!1,s=$(t.target).closest(".stat"),e=$(s),$(".stat").removeClass("selected"),e.addClass("selected"),i=$(e.data("target")),i.data("title",e.data("title")),i.data("label",e.data("label")),i.data("stats",e.data("stats")),i.data("chart-class",e.data("chart-class")),i.data("tooltip-label",e.data("tooltip-label")),Featurette.get("stats-line-chart").updateChart(i)},i.prototype.restoreChart=function(t){return Treehouse.restoreOrganizationStats=!0,_.delay(function(e){return function(){var e,i,s;if(Treehouse.restoreOrganizationStats)return s=$(t.target).closest(".stat"),e=$(s),$(".stat").removeClass("selected"),i=$(e.data("target")),i.data("title",i.data("default-title")),i.data("label",i.data("default-label")),i.data("stats",i.data("default-stats")),i.data("chart-class",i.data("default-chart-class")),i.data("tooltip-label",i.data("default-tooltip-label")),Featurette.get("stats-line-chart").updateChart(i)}}(this),250)},i}(Treehouse.View),Featurette.register("organization-stats-category",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){var t,e;i.__super__.constructor.apply(this,arguments),t=_.map(this.data.points,function(t,e){return{value:t,className:"add-"+e+"-stroke"}}),e=_.reduce(t,function(t,e){return t+e.value},0),e||t.push({value:1}),new Chartist.Pie(this.el.get(0),{series:t},{height:this.data.height,width:this.data.width,donut:!0,donutWidth:this.data.donutWidth,chartPadding:0,showLabel:!1}).on("draw",function(t){var e;return"slice"===t.type?(e=t.element._node.getTotalLength(),t.element.attr({"stroke-dasharray":e+"px "+e+"px"}),t.element.animate({"stroke-dashoffset":{dur:1e3,from:-e+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}})):void 0})}return e(i,t),i}(Treehouse.View),Featurette.register("points-chart",t)}.call(this),function(){var t,e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("radial-progress",t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),this.progress=(parseInt(this.get(".progress").text(),10)||0)/100,this.stroke=this.data.stroke?parseInt(this.data.stroke,10):8,this.render()}return e(i,t),i.prototype.render=function(){var t,e,i,s;return t=100-this.stroke,e=t/2,s='<svg width="100%" height="100%" viewBox="0 0 100 100">\n  <path class="background" fill="none" stroke-width="'+this.stroke+'" d="\n    M50,'+this.stroke/2+"\n    a"+e+","+e+" 0 0,1 0,"+t+"\n    a"+e+","+e+" 0 0,1 0,"+-t+'\n  "/>\n  <path class="foreground" fill="none" stroke-width="'+this.stroke+'" d="\n    M50,'+this.stroke/2+"\n    a"+e+","+e+" 0 0,1 0,"+t+"\n    a"+e+","+e+" 0 0,1 0,"+-t+'\n  "/>\n</svg>',this.el.append(s),this.path=this.el.find("path.foreground")[0],this.pathLength=this.path.getTotalLength(),this.path.style.strokeDasharray=this.pathLength+" "+this.pathLength,this.data.animate?(i=this.progress,this.setProgress(0),_.defer(function(t){return function(){return t.setProgress(i)}}(this))):this.setProgress(this.progress)},i.prototype.setProgress=function(t){return this.progress=Math.max(0,Math.min(t,1)),this.get(".progress").text(Math.round(100*this.progress)+"%"),this.path.style.strokeDashoffset=this.pathLength-this.progress*this.pathLength,this.el.toggleClass("unstarted",0===this.progress)},i}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.pingItGood=e(this.pingItGood,this),this.pingStyles=e(this.pingStyles,this),this.el=$(t),setInterval(this.pingItGood,5e3),this.location=this.el.data("location")}return t.prototype.pingStyles=function(){return{position:"absolute",top:this.el.position().top,left:this.el.position().left,width:this.el.width()+parseInt(this.el.css("border-top-width"))+parseInt(this.el.css("border-bottom-width")),height:this.el.height()+parseInt(this.el.css("border-left-width"))+parseInt(this.el.css("border-right-width")),marginTop:this.el.css("margin-top"),marginBottom:this.el.css("margin-bottom"),marginLeft:this.el.css("margin-left"),marginRight:this.el.css("margin-right"),borderTopLeftRadius:this.el.css("border-top-left-radius"),borderTopRightRadius:this.el.css("border-top-right-radius"),borderBottomLeftRadius:this.el.css("border-bottom-left-radius"),borderBottomRightRadius:this.el.css("border-bottom-right-radius"),zIndex:this.el.css("z-index")-1,animation:"sonarPing"+this.location+" 1.3s ease-out 250ms"}},t.prototype.pingItGood=function(){return this.ping&&this.ping.remove(),this.ping=$('<span class="ping"></span>').css(this.pingStyles()),this.el.after(this.ping)},t}(),Featurette.register("sonar-ping",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(){this.createChart=e(this.createChart,this),this.setTitleAndLabel=e(this.setTitleAndLabel,this),this.updateChart=e(this.updateChart,this),s.__super__.constructor.apply(this,arguments),this.updateChart()}return i(s,t),s.prototype.updateChart=function(){return this.setTitleAndLabel(),this.createChart()},s.prototype.setTitleAndLabel=function(){return this.get(".title").text(this.data.title),this.get(".label").text(this.data.label)},s.prototype.createChart=function(){return new Chartist.Line(this.get(".chart").get(0),{labels:this.data.stats.map(function(t){return function(e){return t.labelDate(e[0])}}(this)),series:[this.data.stats.map(function(t){return function(e){return{meta:t.data.title,value:e[1]}}}(this))]},{fullWidth:!0,lineSmooth:Chartist.Interpolation.simple({divisor:2}),axisY:{onlyInteger:!0,labelInterpolationFnc:function(t,e){return 0===e?"&nbsp;":t}},axisX:{labelInterpolationFnc:function(t,e){return e%2?void 0:t},showGrid:!1},classNames:{chart:"ct-chart-line "+this.data.chartClass},plugins:[Chartist.plugins.tooltip({tooltipFnc:function(t,e){return'<div class="chartist-tooltip-box">\n  <div class="stat">\n    <span class="stat-meta">'+t+'</span>:\n    <span class="stat-data">'+(e||0)+"</span>\n  </div>\n</div>"}})]},[["(max-width: 800px)",{axisX:{labelInterpolationFnc:function(t,e){return e%5?void 0:t}}}]])},s.prototype.labelDate=function(t){var e,i,s;return e=Date.parse(t),s=e.getMonth()+1,i=e.getDate(),s+"/"+i},s}(Treehouse.View),Featurette.register("stats-line-chart",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("tabbed-content",Treehouse.TabbedContent=function(i){function s(e){this.switchTabs=t(this.switchTabs,this),this.showContent=t(this.showContent,this),this.getContent=t(this.getContent,this);var i;s.__super__.constructor.apply(this,arguments),this.on("click","> .tabs ul li",this.switchTabs),i=this.data.currentTab||0,this.showContent(i)}return e(s,i),s.prototype.getContent=function(t){return this.el.find("> .tabbed-content > [data-tab-content]").eq(t)},s.prototype.showContent=function(t){var e;return e=this.getContent(t),e.trigger("tabs:show"),e.siblings().trigger("tabs:hide"),e.show().siblings().hide()},s.prototype.switchTabs=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.addClass("current").siblings().removeClass("current"),this.showContent(e.index()),this.isMobile()?this.scrollTo(this.getContent(e.index()).offset().top):void 0},s}(Treehouse.Layout))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("video-player",t=function(t){function s(t){this.storePlaybackPreferences=e(this.storePlaybackPreferences,this),this.onLanguageSelect=e(this.onLanguageSelect,this),this.onVolumeChanged=e(this.onVolumeChanged,this),this.exitFullScreen=e(this.exitFullScreen,this),this.launchSqlPlayground=e(this.launchSqlPlayground,this),this.launchConsole=e(this.launchConsole,this),this.launchWorkspace=e(this.launchWorkspace,this),this.addSqlPlaygroundButton=e(this.addSqlPlaygroundButton,this),this.addConsoleButton=e(this.addConsoleButton,this),this.addWorkspacesButton=e(this.addWorkspacesButton,this),this.rewind=e(this.rewind,this),this.getSpeedsHTML=e(this.getSpeedsHTML,this),this.addSpeedControls=e(this.addSpeedControls,this),this.addRewindButton=e(this.addRewindButton,this),this.getIcon=e(this.getIcon,this),this.getIcons=e(this.getIcons,this),this.appendButton=e(this.appendButton,this),this.prependButton=e(this.prependButton,this),this.updateButton=e(this.updateButton,this),this.getButtonHTML=e(this.getButtonHTML,this),this.markLongDurations=e(this.markLongDurations,this),this.timeContainers=e(this.timeContainers,this),this.durationInMinutes=e(this.durationInMinutes,this),this.updateControls=e(this.updateControls,this),this.reset=e(this.reset,this),this.setSpeed=e(this.setSpeed,this),this.onSpeedChange=e(this.onSpeedChange,this),this.transitionToPlaying=e(this.transitionToPlaying,this),this.transitionToPaused=e(this.transitionToPaused,this),this.onEnd=e(this.onEnd,this),this.ensureCorrectPlaybackRate=e(this.ensureCorrectPlaybackRate,this),this.trackVideoView=e(this.trackVideoView,this),this.sendViewingSegment=e(this.sendViewingSegment,this),this.trackViewingSegment=e(this.trackViewingSegment,this),this.setMuted=e(this.setMuted,this),this.setStartTime=e(this.setStartTime,this),this.addEvents=e(this.addEvents,this),this.setControlsSize=e(this.setControlsSize,this),this.toggleMaxWidthState=e(this.toggleMaxWidthState,this),this.setVideoHeight=e(this.setVideoHeight,this),this.onResize=e(this.onResize,this);var i;s.__super__.constructor.apply(this,arguments),this.stageProgressBar=$("[data-layout-element=stage-progress]"),this.accountMenu=$("#account-info"),this.videoMaxWidth=1280,this.cookieExpiration=1095,this.language=this.data.startLanguage||$.cookie("captionLanguage"),this.playbackRate=parseFloat(this.data.playbackRate||$.cookie("playbackRate")||1),this.resumeTime=parseInt(this.data.resume),this.data.autoplay&&(this.autoplay=!0),i={enableAutosize:!0,alwaysShowControls:this.el.hasClass("fixed-controls"),success:this.addEvents,startLanguage:this.language,setDimensions:!1,startVolume:$.cookie("volume")?$.cookie("volume"):1},this.data.playbackPreferencesUrl&&(this.playbackPreferencesUrl=this.data.playbackPreferencesUrl),this.player=new MediaElementPlayer(t,i),this.updateControls(),this.setMuted(),this.setSpeed(this.playbackRate),this.playing=!1,this.enableChromeFreezeFix(),this.resumeTime&&$("#resume-video-overlay").addClass("active"),this.sendViewingSegment=_.throttle(_.bind(this.sendViewingSegment,this),5e3),this.videoViewReported=!1,setInterval(function(t){return function(){return t.playing?t.sendViewingSegment(t.mejsObj.currentTime):void 0}}(this),15e3)}return i(s,t),s.prototype.speeds=[.5,.75,1,1.1,1.25,1.5,1.75,2],s.prototype.onResize=function(){return this.setVideoHeight(),this.toggleMaxWidthState()},s.prototype.setVideoHeight=function(){var t,e,i,s,r,o,n;return r=this.container.find("video"),n=$(window).height(),i=this.accountMenu.outerHeight(!0),s=this.stageProgressBar.height(),e=this.container.find(".mejs-controls").height(),t=i+s,o=this.player&&this.player.isFullScreen?n-e:n-t-e-30,r.css("max-height",o)},s.prototype.toggleMaxWidthState=function(){return this.container.toggleClass("max-width-reached",this.container.width()>this.videoMaxWidth+20)},s.prototype.setControlsSize=function(){return this.el.is(":visible")?(this.player.setControlsSize(),clearInterval(this.interval)):void 0},s.prototype.addEvents=function(t,e){var i;return this.container=this.el.parents(".mejs-container"),this.container.on("click",".mejs-rewind-button",this.rewind).on("click",".mejs-workspaces-button",this.launchWorkspace).on("click",".mejs-console-button",this.launchConsole).on("click",".mejs-sql-playground-button",this.launchSqlPlayground).on("click",".mejs-speed",this.onSpeedChange).on("change",".mejs-captions-selector input:radio",this.onLanguageSelect),this.mejsObj=t,t.addEventListener("loadedmetadata",this.setStartTime),t.addEventListener("pause",this.transitionToPaused),t.addEventListener("play",this.transitionToPlaying),t.addEventListener("timeupdate",this.trackViewingSegment),null!=t.playbackRate&&t.addEventListener("timeupdate",this.ensureCorrectPlaybackRate),t.addEventListener("ended",this.onEnd),t.addEventListener("volumechange",this.onVolumeChanged),this.interval=window.setInterval(this.setControlsSize,1e3),this.container.addClass(this.el.attr("class")),this.listenTo(window,"resize",_.throttle(this.onResize,750),{triggerImmediately:!0}),$(window).bind("beforeunload",function(t){return function(){t.sendViewingSegment(t.mejsObj.currentTime)}}(this)),this.autoplay&&(i=function(){return t.play()},_.delay(i,1e3)),this.listenTo(".start-video, .resume-video","click",function(e){return function(i){return e.startTime=$(i.currentTarget).hasClass("resume-video")?e.resumeTime:0,e.hideOverlays(),t.play()}}(this))},s.prototype.setStartTime=function(){return this.startTime?this.mejsObj.setCurrentTime(this.startTime):void 0},s.prototype.setMuted=function(){return this.mejsObj&&"true"===$.cookie("muted")?this.mejsObj.setMuted(!0):void 0},s.prototype.trackViewingSegment=function(t){return this.playing?(null==this.startTime?this.startTime=this.mejsObj.currentTime:Math.abs(this.currentTime-this.mejsObj.currentTime)>.6&&(this.sendViewingSegment(this.currentTime),this.startTime=this.mejsObj.currentTime),this.currentTime=this.mejsObj.currentTime):void 0},s.prototype.sendViewingSegment=function(t){return $("html").hasClass("logged-in")&&null!=this.startTime&&t>this.startTime?(t>=10&&this.trackVideoView(),$.ajax(this.data.trackVideoSegmentUrl,{type:"PUT",data:{admin_preview:this.data.adminPreview,preview:this.data.preview,started:this.startTime,ended:t},timeout:2e3}),this.startTime=null):void 0},s.prototype.trackVideoView=function(){return this.videoViewReported?void 0:(this.videoViewReported=!0,$.ajax(this.data.trackVideoViewUrl,{type:"PUT",timeout:2e3,data:{admin_preview:this.data.adminPreview,preview:this.data.preview}}).success(function(t){return function(t){return Treehouse.PointsCounter.updateTotalOnce()}}(this)).error(function(t){return function(e){return t.videoViewReported=!1}}(this)))},s.prototype.ensureCorrectPlaybackRate=function(t){return this.playbackRate!==this.player.media.playbackRate?this.setSpeed(this.playbackRate):void 0},s.prototype.onEnd=function(t){var e;return this.exitFullScreen(),e=$("#next-step-overlay"),e.addClass("active"),this.player.container.addClass("mejs-treehouse-is-ended").removeClass("mejs-treehouse-is-paused mejs-treehouse-is-playing"),$(document).trigger("video-ended"),!0},s.prototype.transitionToPaused=function(t){return this.playing=!1,this.sendViewingSegment(this.mejsObj.currentTime),this.player.container.addClass("mejs-treehouse-is-paused"),this.player.container.removeClass("mejs-treehouse-is-playing"),$(document).trigger("video-paused")},s.prototype.transitionToPlaying=function(t){return this.playing=!0,this.player.container.addClass("mejs-treehouse-is-playing"),this.player.container.removeClass("mejs-treehouse-is-paused"),this.setSpeed(this.playbackRate),$(document).trigger("video-playing"),setTimeout(this.maxWidthState,500)},s.prototype.onSpeedChange=function(t){return this.setSpeed($(t.currentTarget).data("speed"))},s.prototype.setSpeed=function(t){var e,i;return t!==this.playbackRate&&_.defer(this.storePlaybackPreferences),this.playbackRate=this.player.media.playbackRate=t,i=$("#"+this.player.id).find(".mejs-speed"),i.removeClass("current-speed"),i.filter("[data-speed='"+this.playbackRate+"']").addClass("current-speed"),e=$(".mejs-speed-button"),e.removeClass("mejs-speed-15x mejs-speed-2x"),this.playbackRate>=2?e.addClass("mejs-speed-2x"):this.playbackRate>=1.5?e.addClass("mejs-speed-15x"):void 0},s.prototype.reset=function(){try{return this.player.pause(),this.player.setCurrentTime(0)}catch(t){}},s.prototype.updateControls=function(){return this.updateButton("playpause",{icons:["play","pause"]}),this.updateButton("volume"),this.updateButton("captions"),this.updateButton("fullscreen"),this.addSpeedControls(),this.addRewindButton(),this.addConsoleButton(),this.addWorkspacesButton(),this.addSqlPlaygroundButton(),this.markLongDurations(),this.disableContextMenu()},s.prototype.disableContextMenu=function(){return $("#video-container, #video-container video").on("contextmenu",function(t){return t.preventDefault(),!1})},s.prototype.durationInMinutes=function(){return this.data.duration/1e3/60},s.prototype.timeContainers=function(){return this.player.container.find(".mejs-time")},s.prototype.markLongDurations=function(){return this.durationInMinutes()>=60?this.timeContainers().addClass("long-duration"):void 0},s.prototype.getButtonHTML=function(t,e){return'<div class="mejs-button mejs-'+t+'-button">'+e+"</div>"},s.prototype.updateButton=function(t,e){var i;return null==e&&(e={}),i=e.icons?e.icons:[t],$("#"+this.player.id).find(".mejs-"+t+"-button button").html(this.getIcons(i))},s.prototype.prependButton=function(t,e){return $("#"+this.player.id).find(".mejs-duration-container").after(this.getButtonHTML(t,e))},s.prototype.appendButton=function(t,e){return $("#"+this.player.id).find(".mejs-controls").append(HoganTemplates[t].render(e))},s.prototype.getIcons=function(t){var e;return e="",$(t).each(function(t){return function(i,s){return e+=t.getIcon(s)}}(this)),e},s.prototype.getIcon=function(t){return _.unescape(this.el.data(t+"-icon"))},s.prototype.addRewindButton=function(){return this.prependButton("rewind","<button>"+this.getIcon("rewind")+"</button>")},s.prototype.addSpeedControls=function(){return null!=this.player.media.playbackRate&&"flash"!==this.player.media.pluginType?this.prependButton("speed","<button>"+this.getIcon("speed")+'</button> <div class="mejs-speed-controls"> <ol>'+this.getSpeedsHTML()+"</ol> </div>"):void 0},s.prototype.getSpeedsHTML=function(){var t,e,i,s,r;for(r="",i=this.speeds.reverse(),t=0,e=i.length;e>t;t++)s=i[t],r+='<li class="mejs-speed" data-speed="'+s+'">'+s+'x <span class="speed-tooltip">'+s+"x</span></li>";return r},s.prototype.rewind=function(){return this.player.setCurrentTime(this.el.context.currentTime-10)},s.prototype.addWorkspacesButton=function(){var t;return this.el.data("workspaces")?(t=this.el.data("videoId"),this.appendButton("videos/launch_workspace",{videoId:t,icon:this.getIcon("workspaces")}),Treehouse.init()):void 0},s.prototype.addConsoleButton=function(){return this.el.data("console")?this.appendButton("videos/launch_console",{icon:this.getIcon("workspaces")}):void 0},s.prototype.addSqlPlaygroundButton=function(){return this.el.data("sql-playground-url")?this.appendButton("videos/launch_sql_playground",{icon:this.getIcon("workspaces")}):void 0},s.prototype.launchWorkspace=function(){return this.exitFullScreen()},s.prototype.launchConsole=function(){var t;return this.exitFullScreen(),t=window.open("https://console.teamtreehouse.com/window",null,"top=100,left=100,height=600,width=800,scrollbars=0,location=0,menubar=0,toolbar=0"),t?void 0:alert("It looks like your pop up blocker blocked the console window.")},s.prototype.launchSqlPlayground=function(){var t;return this.exitFullScreen(),t=window.open(this.el.data("sql-playground-url"),null,"top=100,left=100,height=600,width=1000,scrollbars=0,location=0,menubar=0,toolbar=0"),t?void 0:alert("It looks like your pop up blocker blocked the console window.")},s.prototype.exitFullScreen=function(){return this.player.isFullScreen?this.player.exitFullScreen():void 0},s.prototype.enableChromeFreezeFix=function(){return this.el.on("error",function(){var t,e;return e=this,t=e.currentTime,$(e).one("loadeddata",function(i){return function(){return e.currentTime=t}}(this)),setTimeout(function(t){return function(){return e.load()}}(this),100)})},s.prototype.onVolumeChanged=function(t){return $.cookie("volume",this.mejsObj.volume,{expires:this.cookieExpiration}),$.cookie("muted",this.mejsObj.muted,{expires:this.cookieExpiration})},s.prototype.onLanguageSelect=function(t){var e;return e=t.currentTarget.value,"none"===e&&(e=null),e!==this.language?(this.language=e,this.storePlaybackPreferences()):void 0},s.prototype.storePlaybackPreferences=function(){return $.cookie("captionLanguage",this.language,{expires:this.cookieExpiration}),$.cookie("playbackRate",this.playbackRate,{expires:this.cookieExpiration}),this.playbackPreferencesUrl?$.post(this.playbackPreferencesUrl,{language:this.language,playback_rate:this.playbackRate}):void 0},s.prototype.hideOverlays=function(){return $("#resume-video-overlay, #next-step-overlay").removeClass("active")},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(){this.enableForStudent=e(this.enableForStudent,this),this.removeWorkspaceNavHighlight=e(this.removeWorkspaceNavHighlight,this),this.highlightWorkspaceNav=e(this.highlightWorkspaceNav,this),this.findWorkspaceNav=e(this.findWorkspaceNav,this),this.addWorkspaceNav=e(this.addWorkspaceNav,this),this.onWizardClosed=e(this.onWizardClosed,this),this.onWizardOpened=e(this.onWizardOpened,this),this.onStepChanged=e(this.onStepChanged,this),this.selectExistingWorkspace=e(this.selectExistingWorkspace,this),s.__super__.constructor.apply(this,arguments),this.launchExistingWorkspaceButton=this.el.find(".step.existing-workspace .launch-button"),this.workspaceWelcomeIsPresent=this.steps.filter(".workspace-welcome").length>0,this.workspaceWelcomeIsPresent&&(this.currentStep=this.initialStep=0,this.advanceStep(this.currentStep)),this.on("click",".step.existing-workspace .workspace-heading a",this.selectExistingWorkspace)}return i(s,t),s.prototype.selectExistingWorkspace=function(t){var e;return e=$(t.currentTarget),e.closest(".workspace-heading").addClass("selected").siblings().removeClass("selected"),this.launchExistingWorkspaceButton.data("id",e.data("workspace-id")),t.preventDefault()},s.prototype.onStepChanged=function(){return this.workspaceWelcomeIsPresent&&this.currentStep>0?(this.initialStep=1,this.removeWorkspaceNavHighlight()):void 0},s.prototype.onWizardOpened=function(){return this.workspaceWelcomeIsPresent?(this.addWorkspaceNav(),0===this.currentStep&&this.highlightWorkspaceNav(),this.enableForStudent()):void 0},s.prototype.onWizardClosed=function(){return s.__super__.onWizardClosed.apply(this,arguments),this.removeWorkspaceNavHighlight()},s.prototype.addWorkspaceNav=function(){var t;if(!(this.findWorkspaceNav().length>0))return t="<li>\n  <a href='/workspaces'>\n    <span class='icon icon-workspaces'></span>\n    <span class='nav-tooltip'>Workspaces</span>\n  </a>\n</li>",$(".global-nav .bottom-anchored").before(t)},s.prototype.findWorkspaceNav=function(){return $(".global-nav a[href='/workspaces']")},s.prototype.highlightWorkspaceNav=function(){var t;return t=this.findWorkspaceNav(),$("#shelf").css("z-index",501),t.addClass("selected").css({overflow:"visible"}),t.find(".nav-tooltip").css({left:70,opacity:1})},s.prototype.removeWorkspaceNavHighlight=function(){var t;return $("#shelf").removeAttr("style"),t=this.findWorkspaceNav(),t.removeClass("selected").removeAttr("style"),t.find(".nav-tooltip").removeAttr("style")},s.prototype.enableForStudent=function(){return $.post("/workspaces/enable_for_student")},s}(Wizard),Featurette.register("launch-workspace-wizard",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.toggle=e(this.toggle,this),s.__super__.constructor.apply(this,arguments),this.on("click",".expandable",this.toggle)}return i(s,t),s.prototype.toggle=function(t){var e,i;return t.preventDefault(),i=$(t.currentTarget).find(".expandable-toggle"),e=$(t.currentTarget).find(".expandable-content"),$(i).toggleClass("selected"),e.is(":visible")?this.contract(e):this.expand(e)},s.prototype.expand=function(t){return t.stop(!0,!0).slideDown("fast")},s.prototype.contract=function(t){return t.stop(!0,!0).slideUp("fast")},s}(Treehouse.View),Featurette.register("degree-project-content",t)}.call(this),function(){var TreehouseTour,bind=function(t,e){return function(){return t.apply(e,arguments)}};TreehouseTour=function(){function TreehouseTour(t){this.element=t,this.killTour=bind(this.killTour,this),this.prevTourStep=bind(this.prevTourStep,this),this.nextTourStep=bind(this.nextTourStep,this),this.startTour=bind(this.startTour,this),this.moveTour=bind(this.moveTour,this),this.scrollStep=bind(this.scrollStep,this),this.stepIndicator=bind(this.stepIndicator,this),this.fadeOutStep=bind(this.fadeOutStep,this),this.positionElement=bind(this.positionElement,this),this.fadeInStep=bind(this.fadeInStep,this),this.handleKeyEvent=bind(this.handleKeyEvent,this),this.offscreenCheck=bind(this.offscreenCheck,this),this.handlePosition=bind(this.handlePosition,this),this.applyOffsets=bind(this.applyOffsets,this),this.tourSteps=bind(this.tourSteps,this),this.tourRefresh=bind(this.tourRefresh,this),this.element.length&&($(document).on("tour:refresh",this.tourRefresh),$(document).on("pjax:end",function(t){return function(){return _.delay(t.tourRefresh,2500)}}(this)),$(document).trigger("tour:refresh"),$(window).on("resize",_.throttle(function(t){return function(){return $(window).width()<1022?t.killTour():void 0}}(this),200)))}return TreehouseTour.prototype.tourRefresh=function(){var t,e,i,s;return this.$modalTarp=$(".modal-tarp"),this.$tourContainer=$("[data-tour]"),this.$tourTips=$(this.tourSteps()),this.$window=$(window),this.$body=$("body"),this.$headerElements=$("#content, .fixed-heading"),this.totalTourSteps=this.$tourTips.length-1,this.windowHeight=this.$window.height(),this.windowWidth=this.$window.width(),
this.modalTarpWidth=this.$modalTarp.outerWidth(),this.classToggleSpeed=100,this.fadeSpeed=300,this.smoothScrollSpeed=400,this.currentStep=0,this.parentCollection=[],this.tourControlBarClass="tour-control-bar",this.tourBarPrevClass="tour-prev",this.tourBarNextClass="tour-next",this.tourBarCloseClass="tour-close",this.tourStepIndicatorClass="step-indicator",this.tourActionListClass="tour-actions",this.tourTitle=this.$tourContainer.data("tour"),this.tourControlBar="<div class='"+this.tourControlBarClass+" closed'><div><h3>"+this.tourTitle+"</h3><ul class='"+this.tourActionListClass+"'><li><a class='"+this.tourBarPrevClass+"' data-tour-trigger-prev>Previous Step</a></li><li class='"+this.tourStepIndicatorClass+"'><span>- of -</span></li><li><a class='"+this.tourBarNextClass+"' data-tour-trigger-step>Next Step</a></li><li><a class='"+this.tourBarCloseClass+"' data-tour-trigger-death>Close Tour</a></li></ul></div></div>",this.applyOffsets(),this.$body.append(this.tourControlBar),this.$tourContainer.children("a").on("click",function(t){return t.preventDefault()}),i="[data-tour-trigger-start]",s="[data-tour-trigger-step]",e="[data-tour-trigger-prev]",t="[data-tour-trigger-death]",$(i).off("click",this.startTour),$(s).off("click",this.nextTourStep),$(e).off("click",this.prevTourStep),$(t).off("click",this.killTour),$(i).on("click",this.startTour),$(s).on("click",this.nextTourStep),$(e).on("click",this.prevTourStep),$(t).on("click",this.killTour),$(document).keydown(this.handleKeyEvent)},TreehouseTour.prototype.tourSteps=function(){return _.filter(this.$tourContainer.children("li"),function(t){return function(t){var e;return e=$(t).data("tour-step-if"),null==e||$(e).length>0}}(this))},TreehouseTour.prototype.applyOffsets=function(){return $(this.$tourTips).each(function(){var t,e;return e=$(this).data("tour-step-selector"),t=$(e).offset().top,$(this).attr("data-offset",t)})},TreehouseTour.prototype.handlePosition=function(t,e){var i,s;return s=t.data("tour-position"),i=this.offscreenCheck(t,e),i&&("top"===s?s="bottom":"right"===s?s="left":"bottom"===s?s="top":"left"===s&&(s="right")),t.attr("data-tour-position",s),t.css({left:e[s].left,top:e[s].top})},TreehouseTour.prototype.offscreenCheck=function(t,e){var i,s,r;return r=t.offset(),s=t.data("tour-position"),i=!1,"top"===s?i=e[s].top<0:"right"===s?i=e[s].left+t.outerWidth()>this.windowWidth:"bottom"===s?i=e[s].top+t.height()>$(document).height():"left"===s&&(i=e[s].left<0),i},TreehouseTour.prototype.handleKeyEvent=function(t){var e,i,s,r;if(s="[data-tour-trigger-start]",r="[data-tour-trigger-step]",i="[data-tour-trigger-prev]",e="[data-tour-trigger-death]",this.$modalTarp.hasClass("tarp-opened"))switch(t.keyCode){case 27:return this.killTour(),$(e).addClass("active"),setTimeout(function(){return $(e).removeClass("active")},this.classToggleSpeed);case 37:return $(i).hasClass("inactive-step")||($(i).addClass("active"),setTimeout(function(){return $(i).removeClass("active")},this.classToggleSpeed)),this.prevTourStep();case 39:return $(r).hasClass("inactive-step")||($(r).addClass("active"),setTimeout(function(){return $(r).removeClass("active")},this.classToggleSpeed)),this.nextTourStep()}},TreehouseTour.prototype.fadeInStep=function(firstStep){var currentStep;return currentStep=$(this.$tourTips[this.currentStep]),currentStep.data("on-enter")&&eval(currentStep.data("on-enter")),this.positionElement(currentStep,firstStep),currentStep.delay(this.smoothScrollSpeed-100).fadeIn(this.fadeSpeed),$(this.parentCollection[this.currentStep]).addClass("active-tour-step")},TreehouseTour.prototype.positionElement=function(t,e){var i,s,r,o,n,a,u,l,h,c,p,d,f,g,m,y,v;return i=$(t.data("tour-step-selector")),0===i.length?null:(i.is(":visible")||i.show(),n=i.offset().top,o=i.offset().left,e&&(n+=$(".tour-control-bar").height()),u=i.outerWidth(),r=i.outerHeight(),p=6,s=o+u/2,a=n+r/2,f=parseInt(t.data("tour-step-width"),10),d=parseInt(t.height(),10),t.css("width",null!=(h=f+"px")?h:""),v=t.outerWidth(),m=t.outerHeight(),g=v/2,y=m/2,i.addClass("tour-parent"),this.parentCollection.push(i),void 0!==$(t).data("tour-step-include-siblings")&&(c=i.siblings(":visible"),c.addClass("active-tour-siblings")),l={top:{left:s-g,top:n-m-p},right:{left:o+u+p,top:a-y},bottom:{left:s-g,top:n+r+p},left:{left:o-v-p,top:a-y}},this.handlePosition(t,l))},TreehouseTour.prototype.fadeOutStep=function(){var t;return t=$(".tour-parent"),t.removeClass("active-tour-step"),t.siblings().removeClass("active-tour-siblings"),this.$tourTips.fadeOut(this.fadeSpeed)},TreehouseTour.prototype.stepIndicator=function(){return $("."+this.tourStepIndicatorClass+" span").text(this.currentStep+1+" of "+(this.totalTourSteps+1))},TreehouseTour.prototype.scrollStep=function(){var t,e,i,s,r;switch(this.$tourTips=$(this.$tourTips),s=this.$tourTips.eq(this.currentStep).data("offset"),e=this.$tourTips.eq(this.currentStep).outerHeight(),i=this.$tourTips.eq(this.currentStep).data("tour-position"),t=$(this.$tourTips.eq(this.currentStep)).outerHeight(),r=$(this.$tourTips.eq(this.currentStep).data("tour-step-selector")).height()>this.windowHeight?s/2-e:s-e-this.windowHeight/3,i){case"top":return $("html, body").animate({scrollTop:r},this.smoothScrollSpeed);case"right":return $("html, body").animate({scrollTop:s-this.windowHeight/2},this.smoothScrollSpeed);case"bottom":return $("html, body").animate({scrollTop:s+(e-this.windowHeight/2)},this.smoothScrollSpeed);case"left":return $("html, body").animate({scrollTop:s-this.windowHeight/2},this.smoothScrollSpeed)}},TreehouseTour.prototype.moveTour=function(t,e){switch(null==e&&(e=!1),this.fadeOutStep(),t){case 1:this.currentStep=this.currentStep+1;break;case 0:this.currentStep=0;break;case-1:this.currentStep=this.currentStep-1;break;case null:this.currentStep=!1}return this.scrollStep(),this.fadeInStep(e),this.stepIndicator(),0===this.currentStep?$("."+this.tourBarPrevClass).addClass("inactive-step"):this.currentStep===this.totalTourSteps?$("."+this.tourBarNextClass).addClass("inactive-step"):($("."+this.tourBarNextClass).removeClass("inactive-step"),$("."+this.tourBarPrevClass).removeClass("inactive-step"))},TreehouseTour.prototype.startTour=function(t){return t.preventDefault(),this.moveTour(0,!0),this.$modalTarp.fadeIn(this.fadeSpeed).addClass("tarp-opened"),this.$headerElements.addClass("tour-active"),$("."+this.tourControlBarClass).removeClass("closed"),"undefined"!=typeof Sidebar&&null!==Sidebar&&(Sidebar.nofix=!0),$(window).trigger("resize")},TreehouseTour.prototype.nextTourStep=function(){return this.currentStep<this.totalTourSteps?this.moveTour(1):void 0},TreehouseTour.prototype.prevTourStep=function(){return this.currentStep>0?this.moveTour(-1):void 0},TreehouseTour.prototype.killTour=function(){return this.$headerElements.hasClass("tour-active")?(this.fadeOutStep(),$("."+this.tourControlBarClass).addClass("closed"),this.$headerElements.removeClass("tour-active"),this.$modalTarp.delay(50).fadeOut(this.fadeSpeed).removeClass("tarp-opened"),$("html, body").animate({scrollTop:0},5),"undefined"!=typeof Sidebar&&null!==Sidebar&&(Sidebar.nofix=!1),$(window).trigger("resize")):void 0},TreehouseTour}(),$(function(){return new TreehouseTour($("[data-tour]"))})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.Filters=function(){function e(e){if(this.options=e,this.deserializeState=t(this.deserializeState,this),this.serializeState=t(this.serializeState,this),this.reset=t(this.reset,this),this.update=t(this.update,this),"object"!=typeof this.options)throw"options are not an object literal";if(null==this.options.container)throw"didn't pass 'container' option";if("object"!=typeof this.options.binds)throw"didn't pass 'binds' option";if("string"!=typeof this.options.basePath)throw"didn't pass 'basePath' option";this.binds=this.options.binds,this.container=$(this.options.container),_.each(this.binds,function(t){return function(e){var i;return e instanceof jQuery&&e.is("[type='text']")?(i=null,e.on("keyup",function(){return clearTimeout(i),i=setTimeout(t.update,750)}),e.on("keydown",function(){return clearTimeout(i)}),e.on("keydown",function(t){return 13===t.which?t.preventDefault():void 0})):e instanceof jQuery&&e.is("[type='hidden']")?e.on("filter:change",t.update):e.el.on("change",t.update)}}(this)),this.container.on("pjax:error pjax:timeout",function(){return!1}),this.container.on("pjax:end",function(){return Treehouse.init()}),$(document).on("click",".filter-reset",this.reset),$(document).on("click","[data-filter-list-val]",function(t){return function(e){var i,s,r;return e.preventDefault(),s=$(e.currentTarget),s.toggleClass("selected"),i=s.data("filter-list-val").split(":"),r=t.binds[i[0]],r.val(i[1]),r instanceof jQuery?r.trigger("filter:change"):void 0}}(this)),this.deserializeState()}return e.prototype.update=function(t){var e;return t&&t.preventDefault(),this.serializeState(),e=new Object,_.each(this.binds,function(t,i){return e[i]=t.val()}),$.pjax({push:!1,url:"/"+this.options.basePath,container:this.container,data:e,scrollTo:!1}),!1},e.prototype.reset=function(){return _.each(this.binds,function(t,e){return t.val("")})},e.prototype.serializeState=function(){var t;return t=_.reduce(this.binds,function(t){return function(t,e,i){return e=e.val(),void 0===e&&(e=""),e=String(e).replace(" ","-"),e&&t.push(i+":"+e),t}}(this),[]),t=t.join("/"),history.replaceState(null,null,"/"+this.options.basePath+"/"+t),$(document).trigger("filters:serialized")},e.prototype.deserializeState=function(){var t;return t=location.pathname.split("?")[0],t=t.replace(this.options.basePath,""),t=t.split("/"),_.each(t,function(t){return function(e){var i,s,r;if(""!==e)return s=e.split(":"),i=s[0],r=s[1],t.binds[i].val(r,!1),$(document).trigger("filter:deserialized",[e])}}(this)),$(document).trigger("filters:deserialized"),Treehouse.init()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("profile-info-box",Treehouse.ProfilePage=function(i){function s(e){this.scrolling=t(this.scrolling,this),this.setVariables=t(this.setVariables,this),s.__super__.constructor.apply(this,arguments),this.layout=Featurette.get("layout"),this.breadcrumb=this.layout.elements.breadcrumb,this.listenTo(window,"resize",_.throttle(this.setVariables,750),{triggerImmediately:!0}),this.listenTo(document,"scroll",_.throttle(this.scrolling,750),{triggerImmediately:!0})}return e(s,i),s.prototype.setVariables=function(){return this.nameOffsetBottom=this.get("h1#name").outerHeight()+this.get("h1#name").offset().top-this.breadcrumb.getHeight(),this.imageOffsetBottom=this.get("figure img").outerHeight()+this.get("figure img").offset().top-this.breadcrumb.getHeight()},s.prototype.scrolling=function(){return!this.scrolledPastTrigger&&this.layout.getScrollTop()>this.nameOffsetBottom&&this.layout.getScrollTop()>this.imageOffsetBottom?(this.layout.addContext(),this.scrolledPastTrigger=!0):this.scrolledPastTrigger&&(this.layout.getScrollTop()<this.nameOffsetBottom||this.layout.getScrollTop()<this.imageOffsetBottom)?(this.layout.removeContext(),this.scrolledPastTrigger=!1):void 0},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("dashboard-index",t=function(t){function s(t){this.toggleCardVisibility=e(this.toggleCardVisibility,this),this.loadFilters=e(this.loadFilters,this),s.__super__.constructor.apply(this,arguments),this.viewingAll=!1,this.listenTo(document,"bookmark:removed",function(t){return function(e){return t.filters.update(e)}}(this)),this.on("click",".view-all",this.toggleCardVisibility),_.delay(this.loadFilters,100),this.on("pjax:end",this.clearElementsCache),this.document=$(document)}return i(s,t),s.prototype.loadFilters=function(){return this.filters||(this.filters=new Filters({basePath:"home",container:"#home-pjax",binds:{view:Featurette.get("view")}}))},s.prototype.toggleCardVisibility=function(t){return this.viewingAll?(this.get(".card-list").addClass("collapsed"),this.get(".view-all").text(this.get(".view-all").data("view-collapsed-text")),this.viewingAll=!1):(this.get(".card-list").removeClass("collapsed"),this.get(".view-all").text(this.get(".view-all").data("view-all-text")),this.viewingAll=!0),this.document.trigger("personalization.load")},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("questions-tab",Treehouse.QuestionsTab=function(i){function s(e){this.loadQuestions=t(this.loadQuestions,this),s.__super__.constructor.apply(this,arguments),this.tab=$("#tab-questions"),this.discussions=this.get(".discussions-list"),this.step_id=this.discussions.data("step-id")||0,this.step_id&&this.discussions.size()&&this.loadQuestions()}return e(s,i),s.prototype.loadQuestions=function(){return $.ajax({url:"/community/video_suggested_posts",data:{video:this.step_id,limit:15,sort:"high-quality"},dataType:"json",success:function(t){return function(e){return t.discussions.html(e.html),""===e.html?(t.el.addClass("no-questions"),t.el.find("[data-related-questions]").attr("class","grid-100")):t.tab.find("a").append('<span class="discussions-counter">'+t.discussions.find(".discussion-meta").size()+"</span>")}}(this)})},s}(Treehouse.View))}.call(this),function(){var t=function(t,i){function s(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return s.prototype=i.prototype,t.prototype=new s,t.__super__=i.prototype,t},e={}.hasOwnProperty;Featurette.register("teachers-notes-tab",Treehouse.TeachersNotesTab=function(e){function i(t){i.__super__.constructor.apply(this,arguments),this.el.find("[data-teachers-notes] a").attr("target","_blank")}return t(i,e),i}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("radial-progress-example",Treehouse.RadialProgressExample=function(i){function s(e){this.updateProgress=t(this.updateProgress,this),s.__super__.constructor.apply(this,arguments),this.on("click","ul li",this.updateProgress)}return e(s,i),s.prototype.updateProgress=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.addClass("current").siblings().removeClass("current"),Featurette.get(this.el.find("svg").attr("id")).setProgress(parseInt(e.find("a").get(0).text))},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("treehouse-email-notifications",Treehouse.TreehouseEmailNotifications=function(i){function s(e){this.disableAllEmail=t(this.disableAllEmail,this),this.emailPreferenceSelect=t(this.emailPreferenceSelect,this),this.hideDesktopNotificationCheckbox=t(this.hideDesktopNotificationCheckbox,this),this.desktopPermissionIs=t(this.desktopPermissionIs,this),this.toggleDesktopNotification=t(this.toggleDesktopNotification,this),this.updateCheckbox=t(this.updateCheckbox,this),this.desktopCheckbox=t(this.desktopCheckbox,this),s.__super__.constructor.apply(this,arguments),this.on("click","[name='notification_preferences[disable_all_email]']",this.disableAllEmail),this.on("click","[data-email-preference]",this.emailPreferenceSelect),"undefined"!=typeof Notification&&null!==Notification?(this.on("click","[data-desktop-notifications-toggle]",this.toggleDesktopNotification),this.desktopNotification=Notification,(this.desktopPermissionIs("granted")||this.desktopPermissionIs("denied"))&&this.hideDesktopNotificationCheckbox()):this.hideDesktopNotificationCheckbox()}return e(s,i),s.prototype.desktopCheckbox=function(){return this.get("[data-desktop-notifications-toggle]")},s.prototype.updateCheckbox=function(){return this.desktopPermissionIs("granted")?this.desktopCheckbox().attr("checked",!0):this.desktopPermissionIs("denied")?this.desktopCheckbox().removeAttr("checked"):void 0},s.prototype.toggleDesktopNotification=function(t){return t.preventDefault(),this.desktopNotification.requestPermission(this.updateCheckbox)},s.prototype.desktopPermissionIs=function(t){return this.desktopNotification.permission===t},s.prototype.hideDesktopNotificationCheckbox=function(){return this.el.removeClass("with-bottom-border"),this.desktopCheckbox().parents("li").remove()},s.prototype.emailPreferenceSelect=function(t){return t.target.checked?this.get("[name='notification_preferences[disable_all_email]']").prop("checked",!1):void 0},s.prototype.disableAllEmail=function(t){return t.target.checked?this.get("[data-email-preference]").prop("checked",!1):void 0},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("surveys-wizard",t=function(t){function s(t){this.onHelpVideoEnd=e(this.onHelpVideoEnd,this),this.playHelpVideo=e(this.playHelpVideo,this),this.collectSurveyData=e(this.collectSurveyData,this),this.submitSurveyData=e(this.submitSurveyData,this),this.onSkipSurvey=e(this.onSkipSurvey,this),this.onCompleteSurvey=e(this.onCompleteSurvey,this),this.onTopicFilterClicked=e(this.onTopicFilterClicked,this),this.onHashChange=e(this.onHashChange,this),this.onHelpClicked=e(this.onHelpClicked,this),this.unanswerQuestion=e(this.unanswerQuestion,this),this.answerQuestion=e(this.answerQuestion,this),this.advanceStep=e(this.advanceStep,this),this.nextStep=e(this.nextStep,this),this.listenToEvents=e(this.listenToEvents,this),s.__super__.constructor.call(this,t),this.helpVideo=this.get("[data-help-video]"),this.helpVideoContainer=this.helpVideo.parents("[data-help-video-container]"),this.surveyData={},this.listenToEvents()}return i(s,t),s.prototype.listenToEvents=function(){return this.on("click","li.topic-filter a",this.onTopicFilterClicked),this.on("click","[data-submit-survey]",this.onCompleteSurvey),this.on("click","[data-replay-help-video]",this.playHelpVideo),this.on("click","[data-back-button]",this.onBackClicked),this.on("click","[data-leads-to=help]",this.onHelpClicked),this.on("click","[data-skip-survey]",this.onSkipSurvey),this.helpVideo&&this.helpVideo.get(0)?this.helpVideo.get(0).addEventListener("ended",this.onHelpVideoEnd):void 0},s.prototype.nextStep=function(t){return this.answerQuestion(t),s.__super__.nextStep.apply(this,arguments)},s.prototype.advanceStep=function(){return s.__super__.advanceStep.apply(this,arguments),this.unanswerQuestion()},s.prototype.answerQuestion=function(t){var e;return e=$(t.currentTarget),$.ajax("/surveys/"+this.el.data("purpose")+"/answer_question",{data:{question_id:e.closest(".step").data("question-id"),answer_id:e.data("answer-id")},type:"PUT"})},s.prototype.unanswerQuestion=function(){var t;return t=$("."+this.locationHash()).data("question-id"),t?$.ajax("/surveys/"+this.el.data("purpose")+"/unanswer_question",{data:{question_id:t},type:"DELETE"}):void 0},s.prototype.onBackClicked=function(t){return t.preventDefault(),window.history.go(-1)},s.prototype.onHelpClicked=function(t){return this.surveyData.not_sure=!0},s.prototype.onHashChange=function(t){var e,i,r,o,n;for(t.preventDefault(),o=this.get("[data-featurette='video-player']"),i=0,r=o.length;r>i;i++)e=o[i],null!=(n=Featurette.get(e.id))&&n.reset();return $("html,body").animate({scrollTop:0}),s.__super__.onHashChange.apply(this,arguments)},s.prototype.onTopicFilterClicked=function(t){return t.stopPropagation(),t.preventDefault(),this.surveyData.topic_id=$(t.currentTarget).parent().data("topic-id"),this.surveyData.action_to_take="library",this.onCompleteSurvey(t)},s.prototype.onCompleteSurvey=function(t){var e;return t.preventDefault(),this.collectSurveyData(t),e=$(t.currentTarget).data("track-join-url"),e?this.joinTrack(e).fail(this.redirectToDashboard).done(function(t){return function(){return t.submitSurveyData("PUT","/surveys/"+t.el.data("purpose")+"/complete")}}(this)):this.submitSurveyData("PUT","/surveys/"+this.el.data("purpose")+"/complete")},s.prototype.joinTrack=function(t){return $.ajax(t,{type:"PUT"})},s.prototype.onSkipSurvey=function(t){return t.preventDefault(),this.surveyData.skipped=!0,this.surveyData.step_skipped=$(t.currentTarget).closest(".step").data("step-skipped"),this.submitSurveyData("PUT","/surveys/"+this.el.data("purpose")+"/complete")},s.prototype.submitSurveyData=function(t,e){return $.ajax(e,{data:{survey_response:this.surveyData},type:t,error:this.redirectToDashboard,success:this.redirectAfterSubmit})},s.prototype.redirectAfterSubmit=function(t,e,i){return window.location=i.getResponseHeader("Location")},s.prototype.redirectToDashboard=function(){return window.location.replace("/home")},s.prototype.collectSurveyData=function(t){var e;return this.surveyData.track_to_join=$(t.currentTarget).data("track-id"),(e=this.surveyData).action_to_take||(e.action_to_take=$(t.currentTarget).data("action-to-take"))},s.prototype.playHelpVideo=function(t){return t.preventDefault(),this.helpVideoContainer.removeClass("video-ended"),this.helpVideo.trigger("play")},s.prototype.onHelpVideoEnd=function(t){return this.helpVideoContainer.addClass("video-ended").removeClass("box-content").addClass("box-header"),this.get("[data-help-video-box-header]").addClass("video-ended")},s}(Wizard))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.SurveysToggleDescription=function(i){function s(e){this.toggleDescription=t(this.toggleDescription,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-show-track-card=true], [data-info-icon]",this.toggleDescription)}return e(s,i),s.prototype.toggleDescription=function(t){return t.preventDefault(),t.stopPropagation(),this.el.toggleClass("showing-description").siblings().removeClass("showing-description")},s}(Treehouse.View),Featurette.register("surveys-toggle-description",Treehouse.SurveysToggleDescription)}.call(this),function(){var t;t=function(){function t(t){this.$el=$(t),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$showEl=$("#show-"+this.type+"-"+this.id),this.$editEl=$("#edit-"+this.type+"-"+this.id),this.$cancelEl=$("#cancel-edit-"+this.type+"-"+this.id),this.$followButton=$("a[data-featurette='follow']"),this.$el.click(function(t){return function(){return t.previousValue=t.$editEl.find(".new-discussion textarea").val(),t.$showEl.hide(),t.$editEl.show(),"post"===t.type?t.$followButton.hide():void 0}}(this)),this.$cancelEl.click(function(t){return function(e){return e.preventDefault(),t.$editEl.hide(),t.$showEl.show(),t.$editEl.find(".new-discussion textarea").val(t.previousValue),t.$followButton.show()}}(this))}return t}(),Featurette.register("forum-editing",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.success=e(this.success,this),this.dismissAnswerRequest=e(this.dismissAnswerRequest,this),this.$el=$(t),this.post=this.$el.closest(".sticky-post"),this.post_link=this.post.find(".discussion-meta h2 a"),this.post_link.size()?(this.view="index",this.post_slug_url=this.post_link.prop("href")):(this.view="show",this.post_slug_url=window.location.pathname),this.$el.click(this.dismissAnswerRequest)}return t.prototype.dismissAnswerRequest=function(t){return $.post(this.post_slug_url+"/dismiss_request",{},this.success)},t.prototype.success=function(t){return"index"===this.view?$("#sort a.selected").click():this.$el.parent().hide()},t}(),Featurette.register("forum-answer-request-dismissal",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("forum-post-preview",t=function(t){function s(t){this.reset=e(this.reset,this),this.togglePreviewButton=e(this.togglePreviewButton,this),this.error=e(this.error,this),this.success=e(this.success,this),this.listener=e(this.listener,this),s.__super__.constructor.apply(this,arguments),this.$el=$(t),this.$formitem=this.$el.closest(".form-item"),this.$textarea=this.$formitem.find("textarea"),this.$mentions=this.$formitem.find(".mentions"),this.$preview=this.$formitem.find(".forum-preview"),this.$attachedCode=this.$el.closest("form").find("#attached_code"),this.$tooltip=this.$el.find(".tooltip strong"),this.on("click",this.listener),this.$textarea.on("input",this.togglePreviewButton)}return i(s,t),s.prototype.listener=function(t){var e,i;return t.preventDefault(),this.$textarea.focus(),this.$el.toggleClass("selected"),this.$formitem.find("label").focus(),this.$el.hasClass("selected")?(this.$tooltip.text("Compose"),e=this.$textarea.val(),this.$el.closest("form").find("#attach_code").is(":checked")&&(e=this.$textarea.val()+"\n\n"+this.$attachedCode.val()),i=$.post("/community/preview",{post_body:e}),i.success(this.success),i.fail(this.error)):(this.$tooltip.text("Preview"),this.$preview.hide(),this.$textarea.show(),this.$textarea.focus())},s.prototype.success=function(t){return this.$preview.html(t.html),this.$preview.show(),this.$mentions.hide(),this.$textarea.hide()},s.prototype.error=function(t){return alert("There was a problem generating a preview. Please try again."),this.$preview.html(""),this.$mentions.show(),this.$textarea.show()},s.prototype.togglePreviewButton=function(t){return t.preventDefault(),""===this.$textarea.val()?this.$el.fadeOut():this.$el.fadeIn()},s.prototype.reset=function(){return this.$preview.html("").hide(),this.$textarea.show(),this.$tooltip.text("Preview"),this.$el.removeClass("selected")},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("filter-tag-breadcrumb",t=function(t){function s(t){this.render=e(this.render,this),this.callback=e(this.callback,this),this.updateBreadcrumb=e(this.updateBreadcrumb,this),this.clearBreadcrumb=e(this.clearBreadcrumb,this);var i;s.__super__.constructor.apply(this,arguments),i=$(document),i.on("click","#filter-breadcrumb [data-filter-tag]",this.updateBreadcrumb),i.on("click",".tags [data-filter-tag]",this.render),i.on("filter:deserialized",this.callback),this.on("click","[data-filter-clear-tags]",this.clearBreadcrumb)}return i(s,t),s.prototype.clearBreadcrumb=function(t){return Featurette.get("forum-index").deselectAll(t),this.el.hide()},s.prototype.updateBreadcrumb=function(t){var e,i;return e=$(t.target),i=e.data("filter-list-val"),"topic"===e.data("filter-tag-type")?this.clearBreadcrumb():this.el.find("[data-filter-list-val='"+i+"'][data-filter-tag]").parent().nextUntil("li.clear-results").remove()},s.prototype.callback=function(t,e){var i;return i=$("[data-filter-list-val='"+e+"'][data-filter-tag]"),i.length?this.render({target:i}):void 0},s.prototype.render=function(t){var e,i,s;return e=$(t.target),"topic"!==e.data("filter-tag-type")?(i=e.data("filter-list-val"),e=e.closest("ul.tags").clone(),e.find("[data-filter-list-val='"+i+"'][data-filter-tag]").parent().nextAll().remove(),s=HoganTemplates["community/filter_breadcrumb"].render({tags:e.html(),icon_close:this.el.data("icon-close")}),this.el.html(s),this.el.show()):void 0},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("forum-index",t=function(t){function s(t){this.deselectAll=e(this.deselectAll,this),this.onPjaxEnd=e(this.onPjaxEnd,this),this.onPjaxStart=e(this.onPjaxStart,this),this.listeners=e(this.listeners,this),s.__super__.constructor.apply(this,arguments),this.container=$("[data-forums-pjax]"),_.defer(this.listeners)}return i(s,t),s.prototype.listeners=function(){return this.container.on("pjax:start",this.onPjaxStart),this.container.on("pjax:end",this.onPjaxEnd),this.filters=new Filters({basePath:"community",container:"[data-forums-pjax]",binds:{sort:Featurette.get("sort"),topic:Featurette.get("topic"),q:$("#q"),stage:$("#stage_id"),syllabus:$("#syllabus_id"),video:$("#video_id"),quiz:$("#quiz_id"),"code-challenge":$("#code-challenge_id"),"degree-project":$("#degree-project_id")}}),this.on("click",".form-search .search-button",function(t){return function(e){return t.filters.update(e)}}(this)),this.on("click","[data-filter-tag]",this.deselectAll),this.on("click","#topic li",function(t){return function(e){return t.deselectAll(e),Featurette.get("filter-breadcrumb").clearBreadcrumb(e),t.filters.update(e),$(".filters-container").hide()}}(this)),$(document).on("filters:serialized",function(t){return function(){return $("#forum_post_topic_id option").each(function(){return this.text.toLowerCase()===Featurette.get("topic").val().replace("-"," ")?this.selected=!0:void 0}),$.uniform.update()}}(this))},s.prototype.onPjaxStart=function(){return this.container.addClass("transparent-while-loading")},s.prototype.onPjaxEnd=function(){return this.container.removeClass("transparent-while-loading")},s.prototype.deselectAll=function(t){return $("#stage_id, #syllabus_id, #video_id, #quiz_id, #code-challenge_id, #degree-project_id").not($(t.currentTarget).data("filter-tag-type")+"_id").val("")},s}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.loadForumTips=e(this.loadForumTips,this),this.findAttachedCode=e(this.findAttachedCode,this),this.toggleAttachedCode=e(this.toggleAttachedCode,this),this.searchForSimilarPosts=e(this.searchForSimilarPosts,this),this.pollQuestions=e(this.pollQuestions,this),this.syncQuestion=e(this.syncQuestion,this),this.nextStep=e(this.nextStep,this),this.onWizardClosed=e(this.onWizardClosed,this),this.onWizardOpened=e(this.onWizardOpened,this),s.__super__.constructor.apply(this,arguments),this.titles=["Ask a Question","Is your question unique?","Add question details"],this.title=this.el.closest(".contained").find("h1"),this.noResults=this.el.find(".no-existing-questions"),this.questionsContainer=this.el.find(".suggested-questions ul"),this.postBody=this.el.find("#forum_post_body"),this.attachedCode=this.el.find("#attached_code"),this.attachedFiles=this.el.find(".code-attachments"),this.has_errors=!1,this.transitionSpeed=0,this.steps.filter(".step-2").find('[name="forum_post[subject]"]').on("keyup",_.throttle(this.pollQuestions,2e3)),this.el.find("#attach_code").on("change",this.toggleAttachedCode),this.steps.find("textarea").on("change, blur, keyup",$.proxy(this.validate,this)),this.steps.find("select").on("change",$.proxy(this.validate,this))}return i(s,t),s.prototype.onWizardOpened=function(){return this.currentStepPage=this.steps.filter(".step-"+this.currentStep),this.setStepTitle(),this.clearFields(),this.validate(),this.findAttachedCode(),this.loadForumTips()},s.prototype.onWizardClosed=function(){return s.__super__.onWizardClosed.apply(this,arguments),this.clearFields(),this.question=""},s.prototype.nextStep=function(t){return s.__super__.nextStep.apply(this,arguments),this.currentStepPage=this.steps.filter(".step-"+this.currentStep),
this.syncQuestion(),this.setStepTitle(),this.validate()},s.prototype.clearFields=function(){return this.el.find("textarea").val("").blur(),Featurette.get("forum-post-preview").reset()},s.prototype.syncQuestion=function(t){return this.question=this.currentStepPage.prev().find('[name="forum_post[subject]"]').val(),this.steps.find('[name="forum_post[subject]"]').val(this.question).blur(),2===this.currentStep&&this.searchForSimilarPosts(),this.steps.find('[name="forum_post[subject]"]:visible').trigger("autosize.resize")},s.prototype.pollQuestions=function(t){var e;return e=this.question,this.question=this.currentStepPage.find('[name="forum_post[subject]"]').val().trim(),e!==this.question&&""!==this.question?this.searchForSimilarPosts():void 0},s.prototype.validate=function(t){var e,i,s;return e=this.currentStepPage.find("textarea"),i=this.el,s=!1,e.each(function(){return""===this.value.trim()?s=!0:void 0}),3===this.currentStep&&"Choose a topic..."===this.currentStepPage.find("select option:selected").text()&&(s=!0),this.has_errors=s,this.has_errors?i.find("button.button-primary").attr("disabled",!0).addClass("inactive disabled"):this.resetErrors(),!0},s.prototype.resetErrors=function(){return this.currentStepPage.find(".error-message").remove(),this.currentStepPage.find("button").attr("disabled",!1).removeClass("inactive disabled"),this.has_errors=!1,!0},s.prototype.setStepTitle=function(){return this.title.text(this.titles[this.currentStep-1])},s.prototype.searchForSimilarPosts=function(){return $.ajax({url:window.location.origin+"/community/suggested_posts",data:{q:this.question},dataType:"json",success:function(t){return function(e){return t.questionsContainer.empty(),""===e.html.trim()?(t.noResults.show(),t.questionsContainer.hide()):(t.noResults.hide(),t.questionsContainer.show().append(e.html))}}(this)})},s.prototype.toggleAttachedCode=function(){return this.attachedFiles.toggle()},s.prototype.findAttachedCode=function(){var t,e,i,s,r,o,n,a;if(t="",null!=Featurette.get("cc-container")&&(a=Featurette.get("cc-container").workspace))for(o=a.editors,s=0,r=o.length;r>s;s++)e=o[s],n=$(e.codeMirror.getTextArea()),i=n.data("file"),this.attachedFiles.empty(),this.attachedFiles.append("<div class='file'><span class='icon icon-doc'></span>"+i+"</div>"),t+="\n\n```"+i+"\n"+e.getValue()+"\n```";return this.attachedCode.val(t)},s.prototype.loadForumTips=function(){return $.ajax({url:"/community/forum_tips",dataType:"html",success:function(t){return function(t){return $("body").append($(t)),Featurette.load()}}(this)})},s}(Wizard),window.ForumPostWizard=t,Featurette.register("forum-post-wizard",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.error=e(this.error,this),this.success=e(this.success,this),this.listener=e(this.listener,this),s.__super__.constructor.apply(this,arguments),this.on("click",this.listener)}return i(s,t),s.prototype.listener=function(t){var e;return t.stopPropagation(),t.preventDefault(),this.el.attr("disabled","disabled"),e=$.post(this.el.prop("href"),{_method:this.data.method}),e.success(this.success),e.fail(this.error)},s.prototype.success=function(t){return this.el.removeAttr("disabled"),"not-following"===this.data.status?(this.el.html(this.data.unfollowHtml).addClass("secondary").attr("href",this.data.unfollowUrl),this.data.status="following",this.data.method="delete"):(this.el.html(this.data.followHtml).removeClass("secondary").attr("href",this.data.followUrl),this.data.status="not-following",this.data.method="put")},s.prototype.error=function(){return this.el.removeAttr("disabled"),alert("Doh! There was a problem with your request. Try again.")},s}(Treehouse.View),Featurette.register("follow",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.cancelNewComment=e(this.cancelNewComment,this),this.showNewComment=e(this.showNewComment,this),this.$el=$(t),this.id=this.$el.data("item-id"),this.type=this.$el.data("item-type"),this.$newEl=$("#new-"+this.type+"-comment-"+this.id),this.$cancelEl=$("#cancel-new-"+this.type+"-comment-"+this.id),this.$followButton=$("a[data-featurette='follow']"),this.$mobileDiscussionButtons=$(".discussion-mobile-buttons"),this.$editForumPost=$(".edit_forum_post"),this.$el.click(this.showNewComment),this.$cancelEl.click(this.cancelNewComment)}return t.prototype.showNewComment=function(t){return t.preventDefault(),"post"===this.type&&this.$followButton.hide(),this.$mobileDiscussionButtons.hide(),this.$mobileDiscussionButtons.find(".discussion-answer-post").hide(),this.$newEl.show()},t.prototype.cancelNewComment=function(t){return t.preventDefault(),this.$newEl.hide().find("textarea").val(""),this.$mobileDiscussionButtons.show(),this.$mobileDiscussionButtons.find("#discussion-answer-post-alt").show(),this.$editForumPost.is(":visible")?void 0:this.$followButton.show()},t}(),Featurette.register("forum-commenting",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;Featurette.register("bookmark-actions",t=function(t){function s(t){this.confirmAction=e(this.confirmAction,this),this.cancelAction=e(this.cancelAction,this),this.triggerAction=e(this.triggerAction,this),s.__super__.constructor.apply(this,arguments),this.on("pjax:end",_.bind(this.init,this)),this.init()}return i(s,t),s.prototype.init=function(){return this.clearElementsCache(),this.stopListening(),this.on("click","[data-add-bookmark]",this.triggerAction),this.on("click","[data-cancel-bookmark]",this.cancelAction),this.on("click","[data-confirm-bookmark]",this.confirmAction)},s.prototype.triggerAction=function(t){return t.preventDefault(),this.get("[data-bookmark-tarp]").show().css({opacity:"1"})},s.prototype.cancelAction=function(t){return t.preventDefault(),this.get("[data-bookmark-tarp]").css({opacity:"0"}),this.el.delay(200).queue(function(t){return function(){return t.get("[data-bookmark-tarp]").hide(),t.el.dequeue()}}(this))},s.prototype.confirmAction=function(t){return t.preventDefault(),this.el.data("remove-card-url")?(this.removeCard(),this.get("[data-bookmark-tarp]").css({opacity:"0"}),this.el.closest("li").addClass("destroyed"),this.el.delay(500).queue(function(t){return function(){return t.el.closest("li").hide(),t.el.dequeue()}}(this))):(this.addCard(),this.get("[data-bookmark-tarp-text]").html("<h4>Bookmarked!</h4>"),this.el.delay(1e3).queue(function(t){return function(){return t.get("[data-bookmark-tarp]").css({opacity:"0"}),t.el.closest(".lesson-card").find(".lesson-progress").removeClass("toggle-add-option"),t.el.dequeue,t.el.remove()}}(this)))},s.prototype.removeCard=function(){return $.ajax(this.el.data("remove-card-url"),{type:"DELETE"})},s.prototype.addCard=function(){return $.post(this.el.data("add-card-url"))},s}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function s(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},i={}.hasOwnProperty;null==Treehouse.LearningQueue&&(Treehouse.LearningQueue={}),Treehouse.LearningQueue.TrackActions=function(i){function s(e){this.trackQueuedState=t(this.trackQueuedState,this),this.hideAddConfirmation=t(this.hideAddConfirmation,this),this.showAddConfirmation=t(this.showAddConfirmation,this),this.updateElementClasses=t(this.updateElementClasses,this),s.__super__.constructor.apply(this,arguments),this.queueableItems=$(".card [data-featurette='learning-queue/item']"),this.addConfirmation=this.get(".confirmation-container"),this.missingActivities=$("#track-queue"),this.on("click","[data-queue-action='confirm-add']",this.showAddConfirmation),this.on("click","[data-queue-action='cancel-add']",this.hideAddConfirmation),this.listenTo("body","queue:changed",this.updateElementClasses)}return e(s,i),s.prototype.updateElementClasses=function(){switch(this.trackQueuedState()){case"queued":return this.el.addClass("queued"),this.missingActivities.addClass("queued"),this.missingActivities.removeClass("unqueued");case"unqueued":return this.el.addClass("u nqueued"),this.el.removeClass("queued"),this.missingActivities.addClass("unqueued"),this.missingActivities.removeClass("queued");default:return this.el.removeClass("queued"),this.el.removeClass("unqueued"),this.missingActivities.removeClass("queued"),this.missingActivities.removeClass("unqueued")}},s.prototype.showAddConfirmation=function(t){return this.addConfirmation.addClass("active")},s.prototype.hideAddConfirmation=function(t){return this.addConfirmation.removeClass("active")},s.prototype.trackQueuedState=function(){return 0===this.queueableItems.not(".queued").length?"queued":this.queueableItems.not(".queued").length===this.queueableItems.length?"unqueued":void 0},s}(Treehouse.View),Featurette.register("learning-queue/track",Treehouse.LearningQueue.TrackActions)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;t=function(t){function s(t){this.loadMobileAnswerForm=e(this.loadMobileAnswerForm,this),this.dismissAnswer=e(this.dismissAnswer,this),s.__super__.constructor.apply(this,arguments),this.on("click","[data-cancel-forum-answer]",this.dismissAnswer),this.$mobileButtons=this.el.closest(".discussion-mobile-buttons"),this.$mobileAddAnswerButton=this.$mobileButtons.find("#discussion-answer-post-alt"),this.$mobileAddAnswerButton.on("click",this.loadMobileAnswerForm)}return i(s,t),s.prototype.dismissAnswer=function(t){return t.stopPropagation(),t.preventDefault(),this.el.hide(),this.$mobileAddAnswerButton.show()},s.prototype.loadMobileAnswerForm=function(t){return t.preventDefault(),this.$mobileButtons.find(".discussion-answer-post").show(),this.$mobileAddAnswerButton.hide()},s}(Treehouse.View),Featurette.register("forum-answering",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.updateVotingCount=e(this.updateVotingCount,this),this.vote=e(this.vote,this),this.selectBest=e(this.selectBest,this),this.$el=$(t),this.id=this.$el.data("answer-id"),this.cancelVoteUrl=this.$el.data("cancel-vote-url"),this.$answerWrap=this.$el.find(".discussion-highlight"),this.$bestEl=this.$el.find(".vote-best-answer"),this.$upvoteEl=this.$el.find(".vote-up"),this.$downvoteEl=this.$el.find(".vote-down"),this.$bestEl.find("a").click(this.selectBest),this.$upvoteEl.find("a").click(this.vote),this.$downvoteEl.find("a").click(this.vote)}return t.prototype.selectBest=function(t){var e,i;return t.preventDefault(),i=this.$bestEl.find("a").data("url"),this.$answerWrap.hasClass("discussion-answer-best")?(e=this.$answerWrap,this.$answerWrap.removeClass("discussion-answer-best"),this.$bestEl.addClass("selected")):(e=$(".discussion-answer-best"),e.removeClass("discussion-answer-best"),e.find(".vote-best-answer").addClass("selected"),this.$answerWrap.addClass("discussion-answer-best"),this.$bestEl.removeClass("selected")),$.ajax({url:i,type:"POST",error:function(t){return function(){return t.$answerWrap.removeClass("discussion-answer-best"),t.$bestEl.addClass("selected"),e.addClass("discussion-answer-best"),e.find(".vote-best-answer").removeClass("selected"),alert("There was a problem marking the answer as best.")}}(this)})},t.prototype.vote=function(t){var e,i,s,r,o,n,a,u,l,h,c,p;return t.preventDefault(),e=$(t.currentTarget),u=this.$upvoteEl.find(".vote-count").text(),r=this.$el.find(".voted"),r.length>0&&(l=r.parent().hasClass("vote-up")?1:-1),n=e.parent().hasClass("vote-up")?1:-1,i=this.$upvoteEl.find(".vote-count"),e.hasClass("voted")?(p=this.cancelVoteUrl,e.removeClass("voted"),a=parseInt(null!=(h=i.text())?h:0)-n):(p=e.data("url"),s=this.$el.find(".voted"),s.removeClass("voted"),e.addClass("voted"),o=parseInt(null!=(c=i.text())?c:0),a=null!=l?o-(l-n):o+n),i.text(a),$.ajax({url:p,type:"POST",success:this.updateVotingCount,error:function(t){return function(){return e.removeClass("voted"),s.addClass("voted"),t.updateVotingCount(u),alert("There was a problem counting your vote.")}}(this)})},t.prototype.updateVotingCount=function(t){var e,i;return i=null!=(e=parseInt(t))?e:0,this.$upvoteEl.find(".vote-count").text(i),this.$upvoteEl.find("a").toggleClass("vote-count-zero",0===i)},t}(),Featurette.register("forum-voting",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.loadBoard=e(this.loadBoard,this),this.selectTopic=e(this.selectTopic,this),this.selectPeriod=e(this.selectPeriod,this),this.el=$(t),this.type=this.el.data("type"),this.periodSelector=this.el.find(".periods a"),this.topicSelector=this.el.find("select"),this.board=this.el.siblings(".leaderboard-list"),this.topicSelector.on("change",this.selectTopic),this.periodSelector.on("click",this.selectPeriod)}return t.prototype.selectPeriod=function(t){return t.preventDefault(),$(t.target).addClass("selected").closest("li").siblings().find("a").removeClass("selected"),this.loadBoard()},t.prototype.selectTopic=function(t){return this.topicSelector.siblings("span").text(this.topicSelector.find("option:selected").text()),this.loadBoard()},t.prototype.loadBoard=function(){return $.ajax({url:"/community/leaderboard",data:{board_type:this.type,topic:this.topicSelector.find("option:selected").val(),period:this.periodSelector.closest("ul").find("a.selected").data("period")},success:function(t){return function(e){return t.board.empty(),t.board.append(e),t.board.find(".icon").css("background-color",t.topicSelector.find(":selected").data("color"))}}(this)})},t}(),Featurette.register("leaderboards-navigation",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.CreditCardTokenizer=function(){function e(e,i,s,r){this.updateNonce=t(this.updateNonce,this),this.tokenizeCard=t(this.tokenizeCard,this),this.form=$("#"+e),this.paymentMethodNonce=this.form.find("[data-braintree-name=payment_method_nonce]"),this.successCallback=s,this.failureCallback=r,this.client=new braintree.api.Client({clientToken:i.client_token}),BraintreeData.setup(i.merchant_id,e,i.environment)}return e.prototype.tokenizeCard=function(t,e,i,s){return this.client.tokenizeCard({number:t,expirationDate:e+"/"+i,cvv:s},this.updateNonce)},e.prototype.updateNonce=function(t,e){return t?this.failureCallback():(this.paymentMethodNonce.val(e),this.successCallback())},e}()}.call(this),Treehouse.init();